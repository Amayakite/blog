import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as l,c,a as n,b as s,d as e,e as p}from"./app-3ab2953d.js";const r="/images/Java/JavaSE/21-MySql/image-20211119220054247.png",i="/images/Java/JavaSE/21-MySql/image-20211119224623277.png",k="/images/Java/JavaSE/21-MySql/1704051-20200703164942350-177162620.png",u="/images/Java/JavaSE/21-MySql/image-20211119233159061.png",d="/images/Java/JavaSE/21-MySql/image-20211120135003148.png",m="/images/Java/JavaSE/21-MySql/image-20211120135054472.png",v="/images/Java/JavaSE/21-MySql/image-20211120135239889.png",b="/images/Java/JavaSE/21-MySql/MySqlæ•°æ®ç±»å‹.svg",y="/images/Java/JavaSE/21-MySql/image-20211120185628320.png",g="/images/Java/JavaSE/21-MySql/image-20211120185641114.png",w="/images/Java/JavaSE/21-MySql/image-20211120192745001.png",h="/images/Java/JavaSE/21-MySql/image-20211120192825877.png",q="/images/Java/JavaSE/21-MySql/image-20211120205829953.png",f="/images/Java/JavaSE/21-MySql/image-20211120205914839.png",E="/images/Java/JavaSE/21-MySql/image-20211120190547035.png",L="/images/Java/JavaSE/21-MySql/image-20211120185726028.png",S="/images/Java/JavaSE/21-MySql/image-20211120185843253.png",A="/images/Java/JavaSE/21-MySql/image-20211121154510850.png",N="/images/Java/JavaSE/21-MySql/image-20211121154625191.png",_="/images/Java/JavaSE/21-MySql/image-20211121163030748.png",x="/images/Java/JavaSE/21-MySql/image-20211121165926182.png",R="/images/Java/JavaSE/21-MySql/image-20211121172736581.png",M="/images/Java/JavaSE/21-MySql/image-20211121172709333.png",T="/images/Java/JavaSE/21-MySql/image-20211121173857683.png",I="/images/Java/JavaSE/21-MySql/image-20211121173952348.png",C="/images/Java/JavaSE/21-MySql/image-20211121174113576.png",O="/images/Java/JavaSE/21-MySql/image-20211121205018177.png",U="/images/Java/JavaSE/21-MySql/image-20211121223552978.png",J="/images/Java/JavaSE/21-MySql/image-20211121223951951.png",D="/images/Java/JavaSE/21-MySql/image-20211121224339699.png",K="/images/Java/JavaSE/21-MySql/image-20211121230457415.png",B="/images/Java/JavaSE/21-MySql/image-20211122154537661.png",G="/images/Java/JavaSE/21-MySql/image-20211122154637130.png",j="/images/Java/JavaSE/21-MySql/image-20211122154827000.png",z="/images/Java/JavaSE/21-MySql/image-20211122163807238.png",H="/images/Java/JavaSE/21-MySql/image-20211122170615206.png",Y="/images/Java/JavaSE/21-MySql/image-20211122164902068.png",F="/images/Java/JavaSE/21-MySql/image-20211122164935895.png",V="/images/Java/JavaSE/21-MySql/image-20211122170505505.png",P="/images/Java/JavaSE/21-MySql/image-20211122171017894.png",W="/images/Java/JavaSE/21-MySql/image-20211122173148429.png",Q="/images/Java/JavaSE/21-MySql/image-20211122173232565.png",X="/images/Java/JavaSE/21-MySql/image-20211122204414063.png",$="/images/Java/JavaSE/21-MySql/image-20211122204942231.png",Z="/images/Java/JavaSE/21-MySql/image-20211122211047180.png",ss="/images/Java/JavaSE/21-MySql/image-20211122212123404.png",ns="/images/Java/JavaSE/21-MySql/image-20211122212421742.png",as="/images/Java/JavaSE/21-MySql/image-20211122220117209.png",es="/images/Java/JavaSE/21-MySql/image-20211122220509463.png",ps="/images/Java/JavaSE/21-MySql/image-20211122222616278.png",os="/images/Java/JavaSE/21-MySql/image-20211122225446144.png",ts="/images/Java/JavaSE/21-MySql/image-20211122224421237.png",ls="/images/Java/JavaSE/21-MySql/image-20211122223136404.png",cs="/images/Java/JavaSE/21-MySql/image-20211122224643847.png",rs="/images/Java/JavaSE/21-MySql/image-20211122230850135.png",is="/images/Java/JavaSE/21-MySql/image-20211122231201037.png",ks="/images/Java/JavaSE/21-MySql/image-20211123004055233.png",us="/images/Java/JavaSE/21-MySql/image-20211123121320164.png",ds="/images/Java/JavaSE/21-MySql/image-20211123121826094.png",ms="/images/Java/JavaSE/21-MySql/image-20211123122055639.png",vs="/images/Java/JavaSE/21-MySql/image-20211123122248185.png",bs="/images/Java/JavaSE/21-MySql/image-20211123132241153.png",ys="/images/Java/JavaSE/21-MySql/image-20211123132622996.png",gs="/images/Java/JavaSE/21-MySql/image-20211123133743001.png",ws="/images/Java/JavaSE/21-MySql/image-20211123135455381.png",hs="/images/Java/JavaSE/21-MySql/image-20211123140408719.png",qs="/images/Java/JavaSE/21-MySql/image-20211123140910846.png",fs="/images/Java/JavaSE/21-MySql/image-20211123143351050.png",Es="/images/Java/JavaSE/21-MySql/image-20211123144656109.png",Ls="/images/Java/JavaSE/21-MySql/image-20211123145819580.png",Ss="/images/Java/JavaSE/21-MySql/image-20211123152210307.png",As={},Ns=p('<h2 id="åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä»‹ç»" aria-hidden="true">#</a> åŸºæœ¬ä»‹ç»</h2><p>â€‹ æ•°æ®åº“å˜›ï¼Œæ‡‚å¾—éƒ½æ‡‚ï¼Œåœ¨æˆ‘å­¦ä¹ Javaä¹‹å‰ï¼Œå·²ç»æ¥è§¦è¿‡Mysqläº†ï¼Œå¹¶ä½¿ç”¨Nodejsã€Koaã€Vue3ã€ElementUIæ­å»ºäº†ä¸€ä¸ªä¸ªäººåšå®¢ï¼Œä½¿ç”¨çš„æ•°æ®åº“å°±æ˜¯Mysqlï¼Œå½“ç„¶åœ¨å­¦ä¹ Javaä¹‹å‰Mysqlä¸ºæˆ‘å­˜å–äº†è¶…å¤šçš„å›¾ç‰‡ï¼š</p><figure><img src="'+r+'" alt="image-20211119220054247" tabindex="0" loading="lazy"><figcaption>image-20211119220054247</figcaption></figure><p>â€‹ è¿™å¤§æ¦‚æ˜¯çˆ¬å–äº†ä¸‰å¤©çš„ç»“æœï¼Œå…±åœ¨æ•°æ®åº“å†…ç®€å†äº†å…«åƒå¤šæ¡ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¥åèƒ½å¤Ÿéšæ„è°ƒç”¨è¿™äº›æ•°æ®hhhh~</p><p>â€‹ æ€»ä¹‹ï¼ŒMysqlä¸­æœ€ä¸ºæ ¸å¿ƒçš„å°±æ˜¯CRUP(å¢åˆ æ”¹æŸ¥)ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯æŸ¥ï¼Œå®é™…é¡¹ç›®ä¸­å¾€å¾€ç»å¤§éƒ¨åˆ†é¡¹ç›®éƒ½æ˜¯å­˜åœ¨sqlæ•°æ®åº“ä¸­ï¼Œä¾‹å¦‚ï¼šç½‘é¡µçš„sabbarï¼Œç½‘é¡µçš„èœå•ï¼Œç”¨æˆ·çš„ä¿¡æ¯ï¼Œç”¨æˆ·çš„å‘è¨€ï¼Œç”¨æˆ·æ‰€æ‹¥æœ‰çš„ä¸œè¥¿ç­‰ç­‰</p><p>â€‹ è¿™é‡Œå¼€å§‹ï¼Œå­¦çš„ä¹Ÿåªæ˜¯åŸºç¡€ï¼ŒMysqlåé¢è¿˜å¾—å­¦äº›æ›´æ·±å…¥çš„ç©æ„...</p><p>â€‹ å¥½äº†ï¼Œè¨€å½’æ­£ä¼ ï¼Œå½“ä½ è®¿é—®æ·˜å®ï¼Œäº¬ä¸œï¼Œå¤©çŒ«ï¼Œå¾®ä¿¡ç­‰ç›¸å…³è½¯ä»¶æˆ–è€…ç½‘é¡µæ—¶ï¼Œæ˜¯å¦å‘ç°æ¯æ¬¡é€€å‡ºï¼Œå†æ¬¡ç™»é™†æ—¶ï¼Œä½ çš„è®¢å•ï¼ŒèŠå¤©ç­‰ä¿¡æ¯ä¾æ—§è¿˜å­˜åœ¨</p><p>â€‹ åˆæˆ–è€…è¯´ï¼Œä½ ç”µè„‘ä¸Šçš„åŸç¥å¸è½½äº†ï¼Œé‡è£…å›æ¥åï¼Œå†æ¬¡ç™»é™†è´¦å·åï¼Œä½ è´¦å·ä¸Šçš„æ‰€æœ‰è§’è‰²å’Œç‰©å“ä¾æ—§å­˜åœ¨</p><p>â€‹ è¿™ä¹‹ä¸­å°±æ˜¯Mysqlçš„åŠŸåŠ³----å®ƒå­˜å‚¨äº†ä½ çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå½“ä½ è®¿é—®åˆ°ç›¸å…³çš„ç½‘ç«™ã€è½¯ä»¶ã€æœåŠ¡æ—¶ï¼Œå¯¹æ–¹çš„åå°æœç´¢åˆ°ä½ çš„æ•°æ®å¹¶è¿”å›ç»™ä½ </p><p>â€‹ å¯èƒ½è¿™æ ·è¯´æœ‰ç‚¹æŠ½è±¡ï¼Œä¸¾ä¸€ä¸ªç”Ÿæ´»åŒ–çš„æ¡ˆä¾‹è¯´æ˜---&gt; å¦‚æœè¯´ï¼Œå›¾ä¹¦é¦†æ˜¯ä¿å­˜ä¹¦ç±çš„ï¼Œé‚£ä¹ˆæ•°æ®åº“å°±æ˜¯ä¿å­˜æ•°æ®çš„</p><p>â€‹ å¯èƒ½ä½ ä¼šè¿™æ ·æƒ³ï¼Œæˆ‘ç°åœ¨æ­£åœ¨ç”¨ç€Excelæ¥å­˜å‚¨æ•°æ®ï¼Œå†ä¸æµä¹Ÿå¯ä»¥ç”¨txtæ–‡ä»¶å•Šä¹‹ç±»çš„æ–‡ä»¶æ¥ä¿å­˜æ•°æ®ï¼Œä¸ºä»€ä¹ˆè¦ç”¨Mysql</p><p>â€‹ ä½†æ˜¯ï¼Œå‡è®¾ç°åœ¨æœ‰ä¸€åƒä¸‡æ¡ä¸é‡æ ·çš„æ•°æ®ï¼Œæˆ‘è¦ä½ å¿«é€Ÿçš„è¯»å–æˆ–è€…å†™å…¥æˆ–è€…åœ¨è¿™äº›æ•°æ®ä¸­æŸ¥æ‰¾æŸä¸ªç¬¦åˆæ¡ä»¶çš„å€¼ï¼Œä½¿ç”¨Excel.....ä¸€åƒä¸‡æ¡æ•°æ®å¯èƒ½è¿è½¯ä»¶éƒ½æ‰“ä¸å¼€ï¼Œä½¿ç”¨æ™®é€šçš„txtä¹‹ç±»çš„æ–‡ä»¶ï¼Œæœ¬äººæœ‰å¹¸è¯•è¿‡ï¼ˆä¸€ä¸ªå¯†ç å­—å…¸ï¼‰ï¼Œå¯ä»¥è¯´æ‰“å¼€æ…¢ï¼ŒæŸ¥è¯¢æ…¢ï¼Œå®Œå…¨ä¸ç¬¦åˆæˆ‘çš„ä½¿ç”¨éœ€æ±‚</p><p>â€‹ ä½†æ˜¯ä½¿ç”¨æ•°æ®åº“çš„è¯ï¼Œè¿™äº›çƒ¦æ¼å°±æ²¡æœ‰äº†ï¼Œæˆ‘å¯èƒ½å¿«é€Ÿçš„å¢åˆ æ”¹æŸ¥ï¼Œä¸è¿‡ç›®å‰æˆ‘è¿˜ä¸å¥½è¯´ï¼Œç­‰è¿‡å®Œä¸€éåå¤§æ¦‚å°±èƒ½çŸ¥é“å®ƒæœ‰å¤šé¡ºæ‰‹äº†</p><h2 id="mysqlçš„å®‰è£…" tabindex="-1"><a class="header-anchor" href="#mysqlçš„å®‰è£…" aria-hidden="true">#</a> Mysqlçš„å®‰è£…</h2><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows" aria-hidden="true">#</a> Windows</h3>',15),_s={href:"https://www.bilibili.com/video/BV1fh411y7R8?p=732&t=1.5",target:"_blank",rel:"noopener noreferrer"},xs={href:"https://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"},Rs=p('<figure><img src="'+i+'" alt="image-20211119224623277" tabindex="0" loading="lazy"><figcaption>image-20211119224623277</figcaption></figure><p>å°TIpsï¼šåœ¨é…ç½®<code>my.ini</code>çš„è¿‡ç¨‹ä¸­ï¼Œå­—ç¬¦é›†<code>default-character-set</code>å¯ä»¥é€‰æ‹©è®¾ç½®ä¸º<code>utf8mb4</code></p><p>ä¸ºå•¥å‘¢ï¼Ÿæ¯”æ–¹è¯´æƒ³åœ¨sqlé‡Œå­˜æ”¾ğŸ‚ğŸå­ç±»çš„è¡¨æƒ…ï¼Œutf-8æ˜¯å­˜æ”¾ä¸è¿›å»çš„ï¼Œå› ä¸ºè¿™ç±»è¡¨æƒ…å ç”¨å››ä¸ªå­—ç¬¦...</p><h4 id="ä¸ªäººwindowså®‰è£…æµç¨‹" tabindex="-1"><a class="header-anchor" href="#ä¸ªäººwindowså®‰è£…æµç¨‹" aria-hidden="true">#</a> ä¸ªäººWindowså®‰è£…æµç¨‹</h4>',4),Ms={href:"https://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"},Ts=p(`<li><p>åˆ°è§£å‹ç›®å½•ï¼Œåˆ›å»ºé…ç½®æ–‡ä»¶my.ini</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span> 
<span class="token comment"># è®¾ç½®mysqlçš„å®‰è£…ç›®å½•ï¼Œä¹Ÿå°±æ˜¯åˆšæ‰æˆ‘ä»¬è§£å‹çš„ç›®å½• è¿™é‡Œè¦ä¹ˆç”¨æ­£æ–œæ /ï¼Œè¦ä¹ˆç”¨\\\\åŒåæ–œæ </span>
<span class="token key attr-name">basedir</span><span class="token punctuation">=</span><span class="token value attr-value">C:/mysql-8.0.13-winx64</span>
<span class="token comment"># è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•</span>
<span class="token key attr-name">datadir</span><span class="token punctuation">=</span><span class="token value attr-value">C:/mysql-8.0.13-winx64/data</span>
<span class="token comment"># è®¾ç½®é»˜è®¤ä½¿ç”¨çš„ç«¯å£</span>
<span class="token key attr-name">port</span><span class="token punctuation">=</span><span class="token value attr-value">3306</span>
<span class="token comment"># å…è®¸æœ€å¤§è¿æ¥æ•°</span>
<span class="token key attr-name">max_connections</span><span class="token punctuation">=</span><span class="token value attr-value">200</span>
<span class="token comment"># å…è®¸è¿æ¥å¤±è´¥çš„æ¬¡æ•°ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢æœ‰äººè¯•å›¾æ”»å‡»æ•°æ®åº“</span>
<span class="token key attr-name">max_connect_errors</span><span class="token punctuation">=</span><span class="token value attr-value">10</span>
<span class="token comment"># æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†</span>
<span class="token key attr-name">character-set-server</span><span class="token punctuation">=</span><span class="token value attr-value">utf8mb4</span>
<span class="token comment"># æ•°æ®åº“å­—ç¬¦é›†å¯¹åº”ä¸€äº›æ’åºç­‰è§„åˆ™ä½¿ç”¨çš„å­—ç¬¦é›†</span>
<span class="token key attr-name">collation-server</span><span class="token punctuation">=</span><span class="token value attr-value">utf8mb4_general_ci</span>
<span class="token comment"># åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“</span>
<span class="token key attr-name">default-storage-engine</span><span class="token punctuation">=</span><span class="token value attr-value">INNODB</span>
<span class="token comment"># é»˜è®¤ä½¿ç”¨â€œmysql_native_passwordâ€æ’ä»¶ä½œä¸ºè®¤è¯åŠ å¯†æ–¹å¼</span>
<span class="token comment"># MySQL8.0é»˜è®¤è®¤è¯åŠ å¯†æ–¹å¼ä¸ºcaching_sha2_password</span>
<span class="token key attr-name">default_authentication_plugin</span><span class="token punctuation">=</span><span class="token value attr-value">mysql_native_password</span>
 
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysql</span><span class="token punctuation">]</span></span>
<span class="token comment"># è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†</span>
<span class="token key attr-name">default-character-set</span><span class="token punctuation">=</span><span class="token value attr-value">utf8mb4</span>
 
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">client</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">default-character-set</span><span class="token punctuation">=</span><span class="token value attr-value">utf8mb4</span>
<span class="token key attr-name">port</span><span class="token punctuation">=</span><span class="token value attr-value">3306</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è¿›å…¥åˆ°<code>bin</code>ç›®å½•ï¼Œä»¥ç®¡ç†å‘˜æ–¹å¼æ‰“å¼€<code>powerShell</code>æˆ–è€…<code>Cmd</code></p><ol><li><p>å®‰è£…æœåŠ¡</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code><span class="token punctuation">.</span><span class="token operator">/</span>mysqld<span class="token punctuation">.</span>exe install 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>åˆå§‹åŒ–ï¼š</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code><span class="token punctuation">.</span><span class="token operator">/</span>mysqld<span class="token punctuation">.</span>exe <span class="token operator">--</span>initialize <span class="token operator">--</span>console
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ç­‰å¾…åˆå§‹åŒ–å®Œæ¯•åï¼Œä¼šåœ¨æœ€åæ‰“å°å‡ºé»˜è®¤çš„rootè´¦æˆ·å¯†ç ï¼ŒæŠŠå¯†ç å…ˆè®°ä¸‹æ¥ï¼Œæ ¼å¼å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š<br><code>root@localhost:dS8hTh)u?hAl</code>ï¼Œå…¶ä¸­<code>dS8hTh)u?hAl</code>å°±æ˜¯åˆå§‹å¯†ç </p></li><li><p>æ³¨æ„ è¿™ä¸€æ­¥å¯†ç ä¸­å¯èƒ½ä¼šå¸¦æœ‰ç©ºæ ¼ï¼Œåˆ«å¤åˆ¶å¤šäº†..</p></li></ol></li><li><p>æ¥ä¸‹æ¥ä¿®æ”¹é»˜è®¤åˆå§‹å¯†ç </p><ol><li><p>ä¾æ—§æ˜¯åœ¨<code>bin</code>ç›®å½•ä¸­çš„powershellæˆ–è€…cmd</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p
<span class="token comment"># ç„¶åä¼šæç¤ºè¦æ±‚è¾“å…¥rootçš„å¯†ç ï¼Œè¾“å…¥ä¸Šä¸€æ­¥ä¸­è·å–åˆ°çš„å³å¯</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¿®æ”¹å¯†ç </p><ul><li><p>é¦–å…ˆè¾“å…¥<code>use mysql;</code></p></li><li><p>ç„¶åçœ‹ä¸‹æœ‰æ²¡æœ‰å‡ºç°ä¸€æ¡æ¶ˆæ¯</p><ul><li><p>å¦‚æœå‘ç°å±å¹•ä¸­æœ‰è¿™æ ·çš„æ¶ˆæ¯ï¼šYou must reset your password using ALTER USER statement before executing this statement.</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;localhost&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;è¦æ”¹æˆçš„å¯†ç &#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li><li><p>å¦‚æœæ²¡æœ‰ï¼š</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> authentication_string<span class="token operator">=</span>password<span class="token punctuation">(</span><span class="token string">&#39;è¦æ”¹æˆçš„å¯†ç &#39;</span><span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token keyword">user</span> <span class="token operator">=</span><span class="token string">&#39;root&#39;</span> <span class="token operator">and</span> Host<span class="token operator">=</span><span class="token string">&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ul></li><li><p>ä¿®æ”¹å®Œæ¯•åï¼š</p><ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># åˆ·æ–°æƒé™</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li></ol></li><li><p>æ·»åŠ ç³»ç»Ÿå˜é‡</p><ol><li>å¤åˆ¶<code>bin</code>ç›®å½•è·¯å¾„æ‰“å¼€ç¯å¢ƒå˜é‡é…ç½®ï¼Œé…ç½®å½“å‰ç”¨æˆ·çš„Pathï¼Œæ·»åŠ è¯¥è·¯å¾„ï¼Œå…³é—­æ‰€æœ‰çš„cmdå†é‡æ–°æ‰“å¼€å³å¯</li></ol></li>`,4),Is=p(`<p>ç›¸å…³å…³é—­å¯åŠ¨å‘½ä»¤ï¼š</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code><span class="token comment">#å¯åŠ¨æœåŠ¡</span>
net <span class="token function">start</span> mysql
<span class="token comment">#å…³é—­æœåŠ¡</span>
net stop mysql
<span class="token comment">#è¿›å…¥mysql</span>
mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="å¸è½½mysql" tabindex="-1"><a class="header-anchor" href="#å¸è½½mysql" aria-hidden="true">#</a> å¸è½½mysql</h5>`,3),Cs={href:"https://www.cnblogs.com/zhaosq/p/10469848.html",target:"_blank",rel:"noopener noreferrer"},Os={href:"https://blog.csdn.net/weixin_29348211/article/details/113163856",target:"_blank",rel:"noopener noreferrer"},Us=p(`<p>ä¸¤ç¯‡æ–‡ç« çš„æ“ä½œéƒ½è·Ÿç€åšä¸‹ï¼Œç„¶åæŠŠpathä¸­çš„ç›¸å…³ä¿¡æ¯åˆ é™¤å³å¯</p><h3 id="linux" tabindex="-1"><a class="header-anchor" href="#linux" aria-hidden="true">#</a> Linux</h3><p>å› ä¸ºæˆ‘åªç”¨Ubuntuç³»ç»Ÿï¼Œæ‰€ä»¥åªæ”¾å‡ºUbuntuç³»ç»Ÿçš„å®‰è£…æ–¹å¼ï¼Œè‹¥è¦ç”¨å…¶ä»–ç³»ç»Ÿè‡ªè¡Œç™¾åº¦</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#å®‰è£…</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> mysql-server
<span class="token comment"># åˆå§‹åŒ–Mysql</span>
<span class="token function">sudo</span> mysql_secure_installation
<span class="token comment"># è¿™é‡Œä¼šè¦æ±‚è¿›è¡Œç›¸å…³é…ç½®ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¯†ç ï¼Œå…¶ä»–çš„è‡ªå·±çœ‹ç€æ•´ï¼Œå»ºè®®æ˜¯è·Ÿç€ç¿»è¯‘æ¥è¿›è¡Œæ“ä½œ</span>
<span class="token comment"># https://blog.csdn.net/weixx3/article/details/94133847/ ä¹Ÿå¯ä»¥å‚ç…§è¿™ç¯‡æ–‡ç« </span>

<span class="token comment">#æ£€æŸ¥Mysqlè¿è¡ŒçŠ¶æ€</span>
systemctl status mysql.service

<span class="token comment">#å¦‚æœä¸æ˜¯è¿è¡ŒçŠ¶æ€çš„è¯ï¼ˆactiveä¸æ˜¯runningï¼‰ï¼šå¯åŠ¨mysql</span>
<span class="token function">sudo</span> <span class="token function">service</span> mysql start 

<span class="token comment">#åœæ­¢mysql</span>
<span class="token function">sudo</span> <span class="token function">service</span> mysql stop

<span class="token comment">#é‡å¯mysql</span>
<span class="token function">sudo</span> <span class="token function">service</span> mysql restart

<span class="token comment">#åˆ·æ–°æƒé™</span>
flush privileges<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹å­—ç¬¦é›†ä¸ºutf8mb4:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vi</span> /etc/mysql/mysql.conf.d/mysqld.cnf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token comment"># æ³¨æ„ æ˜¯ä¿®æ”¹ è‹¥åŸå…ˆåªæœ‰[mysql]ï¼Œåˆ™è¦†ç›–ï¼Œå…¶ä½™æƒ…å†µå‚ç…§windowså®‰è£…ä¸€è§ˆçš„å†™æ³•å†™</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">client</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">default-character-set</span> <span class="token punctuation">=</span> <span class="token value attr-value">utf8mb4</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysql</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">default-character-set</span> <span class="token punctuation">=</span> <span class="token value attr-value">utf8mb4</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">character-set-server</span><span class="token punctuation">=</span><span class="token value attr-value">utf8mb4</span>
<span class="token key attr-name">character-set-client-handshake</span> <span class="token punctuation">=</span> <span class="token value attr-value">FALSE</span>
<span class="token key attr-name">collation-server</span> <span class="token punctuation">=</span> <span class="token value attr-value">utf8mb4_unicode_ci</span>
<span class="token key attr-name">init_connect</span><span class="token punctuation">=</span><span class="token value attr-value">&#39;<span class="token inner-value">SET NAMES utf8mb4</span>&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åé‡å¯mysqlï¼Œè¿›å…¥mysqlæ’å…¥æœç´¢éªŒè¯ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŸ¥çœ‹å­—ç¬¦é›†</span>
<span class="token keyword">SHOW</span> VARIABLES <span class="token keyword">WHERE</span> Variable_name <span class="token operator">LIKE</span> <span class="token string">&#39;character\\_set\\_%&#39;</span> <span class="token operator">OR</span> Variable_name <span class="token operator">LIKE</span> <span class="token string">&#39;collation%&#39;</span><span class="token punctuation">;</span>
<span class="token comment"># å¦‚æœè¯´å‘ç°è¿˜æœ‰utf8çš„å­—æ ·ï¼š</span>
<span class="token keyword">set</span> character_set_client <span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span>
<span class="token keyword">set</span> character_set_results <span class="token operator">=</span> utf8mb4<span class="token punctuation">;</span>
<span class="token keyword">set</span> character_set_connection <span class="token operator">=</span> utf8mb4<span class="token punctuation">;</span>
<span class="token comment"># æˆ–è€… SET NAMES utf8mb4; å°±å¯ä»¥ä¿®æ”¹clientç¼–ç </span>
<span class="token keyword">SET</span> NAMES utf8mb4<span class="token punctuation">;</span>
<span class="token comment"># æœ€ç»ˆç»“æœå¤§æ¦‚æ˜¯è¿™æ ·çš„</span>
<span class="token operator">+</span><span class="token comment">--------------------------+--------------------+</span>
<span class="token operator">|</span> Variable_name            <span class="token operator">|</span> <span class="token keyword">Value</span>              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------------+--------------------+</span>
<span class="token operator">|</span> character_set_client     <span class="token operator">|</span> utf8mb4            <span class="token operator">|</span>
<span class="token operator">|</span> character_set_connection <span class="token operator">|</span> utf8mb4            <span class="token operator">|</span>
<span class="token operator">|</span> character_set_database   <span class="token operator">|</span> utf8mb4            <span class="token operator">|</span>
<span class="token operator">|</span> character_set_filesystem <span class="token operator">|</span> <span class="token keyword">binary</span>             <span class="token operator">|</span>
<span class="token operator">|</span> character_set_results    <span class="token operator">|</span> utf8mb4            <span class="token operator">|</span>
<span class="token operator">|</span> character_set_server     <span class="token operator">|</span> utf8mb4            <span class="token operator">|</span>
<span class="token operator">|</span> character_set_system     <span class="token operator">|</span> utf8mb3            <span class="token operator">|</span>
<span class="token operator">|</span> collation_connection     <span class="token operator">|</span> utf8mb4_unicode_ci <span class="token operator">|</span>
<span class="token operator">|</span> collation_database       <span class="token operator">|</span> utf8mb4_unicode_ci <span class="token operator">|</span>
<span class="token operator">|</span> collation_server         <span class="token operator">|</span> utf8mb4_unicode_ci <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------------+--------------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®è¿œç¨‹è®¿é—®ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>
<span class="token comment">#ç„¶åè¾“å…¥å¯†ç è¿›å…¥mysql</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># åŸå…ˆæ˜¯è¿™æ ·çš„</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

<span class="token comment"># æ³¨æ„&#39;root&#39;@&#39;localhost&#39; å‡æœ‰å•å¼•å·ï¼Œå…¶ä½™çš„ä¹Ÿæ˜¯</span>

<span class="token comment"># è¦è®¾ç½®æˆè¿™æ ·</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&quot;æƒ³è®¾ç½®æˆçš„å¯†ç &quot;</span><span class="token punctuation">;</span>
<span class="token comment">#å…¶ä¸­root@localhosï¼Œlocalhostå°±æ˜¯æœ¬åœ°è®¿é—®ï¼Œé…ç½®æˆ%å°±æ˜¯æ‰€æœ‰ä¸»æœºéƒ½å¯è¿æ¥ï¼›</span>
<span class="token comment">#ç¬¬äºŒä¸ª&#39;123456&#39;ä¸ºä½ ç»™æ–°å¢æƒé™ç”¨æˆ·è®¾ç½®çš„å¯†ç ï¼Œ%ä»£è¡¨æ‰€æœ‰ä¸»æœºï¼Œä¹Ÿå¯ä»¥æ˜¯å…·ä½“çš„ipï¼›</span>
<span class="token comment">#ä¸è¿‡è¿™éšè®¾ç½®äº†%ä½†æˆ‘rooté€šè¿‡å·¥å…·è¿˜æ˜¯ç™»é™†ä¸è¿›å»ï¼Œå¯èƒ½æ˜¯ä¸ºäº†å®‰å…¨æ€§ï¼Œæ‰€ä»¥æ–°å»ºæ•°æ®åº“å’Œç”¨æˆ·ï¼›</span>


<span class="token comment">#æˆ–è€…æŒ‡å®šç”¨æˆ·ï¼š</span>
<span class="token comment">#ç”¨rootç”¨æˆ·æ–°å»ºæ•°æ®å’Œç”¨ä½œè¿œç¨‹è®¿é—®çš„ç”¨æˆ·</span>
<span class="token comment">##1 åˆ›å»ºæ•°æ®åº“weixx</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> weixx<span class="token punctuation">;</span>
<span class="token comment">##2 åˆ›å»ºç”¨æˆ·wxx(å¯†ç 654321) å¹¶å…è®¸wxxç”¨æˆ·å¯ä»¥ä»ä»»æ„æœºå™¨ä¸Šç™»å…¥mysqlçš„weixxæ•°æ®åº“</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> weixx<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;wxx&#39;</span><span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&quot;654321&quot;</span><span class="token punctuation">;</span> 

<span class="token comment">#åˆ·æ–°æƒé™</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12),Js={href:"https://blog.csdn.net/weixx3/article/details/80782479",target:"_blank",rel:"noopener noreferrer"},Ds=n("h4",{id:"å¸è½½å’Œé‡è£…mysql",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å¸è½½å’Œé‡è£…mysql","aria-hidden":"true"},"#"),s(" å¸è½½å’Œé‡è£…Mysql")],-1),Ks={href:"https://blog.csdn.net/fanrongwoaini/article/details/107518693",target:"_blank",rel:"noopener noreferrer"},Bs={href:"https://www.cnblogs.com/zhangxuel1ang/p/13456116.html",target:"_blank",rel:"noopener noreferrer"},Gs=p(`<h3 id="docker" tabindex="-1"><a class="header-anchor" href="#docker" aria-hidden="true">#</a> Docker</h3><p>æˆ‘è¿˜æ˜¯æ›´å–œæ¬¢ç”¨Docker</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull mysql@ç‰ˆæœ¬å·
<span class="token comment"># ä¸æŒ‡å®šç‰ˆæœ¬çš„è¯é»˜è®¤æ˜¯æœ€æ–°</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> mysql <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œæœ€å¥½ä¸è¦åŠ -då‚æ•°ã€‚-dè¡¨ç¤ºåå°æ‰§è¡Œï¼Œå°±ä¸èƒ½çœ‹åˆ°åˆå§‹åŒ–æ•°æ®åº“è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½æœ‰ä¸€ä¼šå„¿ï¼Œæ²¡ç»è¿‡åˆå§‹åŒ–æ•°æ®åº“ä¸èƒ½å¯åŠ¨æœåŠ¡çš„ã€‚</p><figure><img src="`+k+`" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>å‡ºç°è¿™æ¡è®°å½•å°±è¯´æ˜å®‰è£…æˆåŠŸï¼Œå¯ä»¥æŠŠè¿™ä¸ªæ§åˆ¶å°å…³æ‰ï¼Œé‡æ–°å¼€ä¸€ä¸ª</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> start mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿›å…¥bash</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mysql <span class="token function">bash</span>
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ·»åŠ è¿œç¨‹ç™»å½•ç”¨æˆ·</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;è´¦æˆ·å&#39;</span><span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">&#39;å¯†ç &#39;</span><span class="token punctuation">;</span> 

<span class="token comment">#æˆ–è€…</span>
<span class="token comment">##1 åˆ›å»ºæ•°æ®åº“weixx</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> weixx<span class="token punctuation">;</span>
<span class="token comment">##2 åˆ›å»ºç”¨æˆ·wxx(å¯†ç 654321) å¹¶å…è®¸wxxç”¨æˆ·å¯ä»¥ä»ä»»æ„æœºå™¨ä¸Šç™»å…¥mysqlçš„weixxæ•°æ®åº“</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> weixx<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;wxx&#39;</span><span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&quot;654321&quot;</span><span class="token punctuation">;</span> 
<span class="token comment">#åˆ·æ–°æƒé™</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>

<span class="token keyword">exit</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡å¯</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">service</span> mysql restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è®¾ç½®å­—ç¬¦é›†çš„æ–¹å¼ï¼šå’ŒLinuxä¸­ä¸€è‡´ï¼šä¸ªäººå»ºè®®ä½¿ç”¨å›¾å½¢åŒ–æ–¹å¼æ“ä½œ</p><figure><img src="`+u+`" alt="image-20211119233159061" tabindex="0" loading="lazy"><figcaption>image-20211119233159061</figcaption></figure><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">client</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">default-character-set</span> <span class="token punctuation">=</span> <span class="token value attr-value">utf8mb4</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysql</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">default-character-set</span> <span class="token punctuation">=</span> <span class="token value attr-value">utf8mb4</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">character-set-server</span><span class="token punctuation">=</span><span class="token value attr-value">utf8mb4</span>
<span class="token key attr-name">character-set-client-handshake</span> <span class="token punctuation">=</span> <span class="token value attr-value">FALSE</span>
<span class="token key attr-name">collation-server</span> <span class="token punctuation">=</span> <span class="token value attr-value">utf8mb4_unicode_ci</span>
<span class="token key attr-name">init_connect</span><span class="token punctuation">=</span><span class="token value attr-value">&#39;<span class="token inner-value">SET NAMES utf8mb4</span>&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®å®Œæ¯•åï¼Œé‡å¯mysql</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> restart mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="mysqlçš„åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#mysqlçš„åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> Mysqlçš„åŸºæœ¬ä½¿ç”¨</h2><p>è¿æ¥åˆ°ä»»æ„çš„mysqlæ•°æ®åº“çš„æŒ‡ä»¤</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql <span class="token parameter variable">-h</span> ä¸»æœºIP <span class="token parameter variable">-P</span> ç«¯å£ <span class="token parameter variable">-u</span> ç”¨æˆ·å -på¯†ç 
<span class="token comment">#å°å†™çš„på’Œå¯†ç ä¸è¦æœ‰ç©ºæ ¼</span>
<span class="token comment">#å¦‚æœ-pæ—¶æ²¡è·Ÿå¯†ç ï¼Œå›è½¦åä¼šè¦æ±‚è¾“å…¥å¯†ç </span>
<span class="token comment">#æ¼”ç¤ºï¼š</span>
mysql <span class="token parameter variable">-h</span> localhost <span class="token parameter variable">-P</span> <span class="token number">3306</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p123456</span>

<span class="token comment">#å½“ç„¶é»˜è®¤çš„æƒ…å†µä¸‹å‰ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ localhost å’Œ 3306</span>
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šå°†Mysqlçš„é»˜è®¤ç«¯å£æ”¹æˆåˆ«çš„ï¼Œå¦‚53146ï¼ˆ3306å®¹æ˜“è¢«é»‘å®¢æ”»å‡»ï¼‰</p><h3 id="ä½¿ç”¨å›¾å½¢åŒ–ç®¡ç†è½¯ä»¶æ¥æ“ä½œmysql" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨å›¾å½¢åŒ–ç®¡ç†è½¯ä»¶æ¥æ“ä½œmysql" aria-hidden="true">#</a> ä½¿ç”¨å›¾å½¢åŒ–ç®¡ç†è½¯ä»¶æ¥æ“ä½œMysql</h3>`,25),js={href:"https://www.navicat.com.cn/products",target:"_blank",rel:"noopener noreferrer"},zs={href:"https://github.com/gitccl/Navicat-key",target:"_blank",rel:"noopener noreferrer"},Hs={href:"https://github.com/webyog/sqlyog-community/wiki/Downloads",target:"_blank",rel:"noopener noreferrer"},Ys=n("p",null,"ä»–ä»¬ä¸¤çš„åŠŸèƒ½éƒ½å¤§åŒå°å¼‚",-1),Fs={href:"https://www.bilibili.com/video/BV1fh411y7R8?p=734&t=0.9",target:"_blank",rel:"noopener noreferrer"},Vs=p(`<p>â€‹ å›¾å½¢åŒ–çš„å¥½å¤„æ˜¯æ–¹ä¾¿ç›´è§‚çš„æŸ¥çœ‹æ•°æ®ï¼Œä½†æ˜¯åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæ’å…¥æ•°æ®ä¹‹ç±»çš„è¿‡ç¨‹ä¸€èˆ¬éƒ½æ˜¯æ‰ç”¨å‘½ä»¤æ¨¡å¼æ’å…¥ï¼ˆé…åˆç›¸å…³è¯­è¨€çš„ç›¸å…³åº“ï¼‰ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå‡è®¾ç°åœ¨ä½ è¦ç®¡ç†ä¸€åƒä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼Œæ¯ä¸ªç”¨æˆ·çš„ä¿¡æ¯ä½ éƒ½æƒ³è¦æ‰‹åŠ¨å½•å…¥ï¼Œé‚£å²‚ä¸æ˜¯...</p><p>â€‹ ä»¥ååœ¨Javaç¨‹åºä¸­ä¹Ÿæ˜¯é€šè¿‡æŒ‡ä»¤æ¥æ“ä½œæ•°æ®åº“çš„ï¼Œè¿™é‡Œæ”¾ä¸‹è€éŸ©è§†é¢‘ä¸­åŸºæœ¬çš„æ“ä½œï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#Create database</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> db02<span class="token punctuation">;</span>
<span class="token keyword">use</span> db02<span class="token punctuation">;</span>
<span class="token comment">#Create table</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> users<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#insert values</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> users <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;åŒ—äº¬&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> users <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;æå››&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å¤©æ´¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> users <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;ç‹è€äº”&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å—äº¬&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#search </span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ å½“ç„¶ï¼Œæ— è®ºä½ æ˜¯å¦æ„Ÿè§‰åˆ°äº†å›¾å½¢åŒ–ç•Œé¢çš„å¥½å¤„ï¼Œæˆ‘éƒ½å»ºè®®ä½ ----è¿˜æ˜¯ç”¨å›å‘½ä»¤è¡Œå¼€æ‰“çš„é‚£ä¸ªmysqlè¿›è¡Œæ“ä½œï¼Œå› ä¸ºå®é™…è¿‡ç¨‹ä¸­å¤§éƒ¨åˆ†çš„æ“ä½œéƒ½æ˜¯ç”±sqlè¯­å¥æ¥å®Œæˆçš„ï¼Œæ¯”å¦‚ä¸Šé¢çš„é‚£äº›ã€‚</p><p>â€‹ æ‰€ä»¥ä½¿ç”¨å‘½ä»¤è¡Œæ¥æ“ä½œæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚ï¼ˆåŒæ—¶å¯ä»¥æœ‰æ•ˆçš„é™ä½ä¸€ä¸¢ä¸¢é¢è¯•ä¸é€šè¿‡çš„æ¦‚ç‡ï¼‰</p><h3 id="mysqlçš„ç»“æ„" tabindex="-1"><a class="header-anchor" href="#mysqlçš„ç»“æ„" aria-hidden="true">#</a> Mysqlçš„ç»“æ„</h3><figure><img src="`+d+'" alt="image-20211120135003148" tabindex="0" loading="lazy"><figcaption>image-20211120135003148</figcaption></figure><figure><img src="'+m+'" alt="image-20211120135054472" tabindex="0" loading="lazy"><figcaption>image-20211120135054472</figcaption></figure><figure><img src="'+v+`" alt="image-20211120135239889" tabindex="0" loading="lazy"><figcaption>image-20211120135239889</figcaption></figure><h2 id="sqlè¯­å¥åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#sqlè¯­å¥åˆ†ç±»" aria-hidden="true">#</a> SQLè¯­å¥åˆ†ç±»</h2><ul><li>DDL:æ•°æ®å®šä¹‰è¯­å¥:<code>create</code>è¡¨ï¼Œåº“...</li><li>DML:æ•°æ®åº“æ“ä½œè¯­å¥: <ul><li>å¢åŠ <code>insert</code></li><li>ä¿®æ”¹<code>update</code></li><li>åˆ é™¤<code>delete</code></li></ul></li><li>DQL:æ•°æ®åº“çš„æŸ¥è¯¢è¯­å¥<code>select</code> æŸ¥è¯¢æ—¶éœ€æŒ‡å®šå“ªä¸ªæ•°æ®åº“ <ul><li>æ¯”å¦‚æŒ‡å®šdb1çš„user:<code>select * from db1.user</code></li></ul></li><li>DCL:æ•°æ®åº“æ§åˆ¶è¯­å¥-ç®¡ç†æ•°æ®åº“ <ul><li>ç»™ç”¨æˆ·æˆæƒ<code>grant</code></li><li>å–æ¶ˆå¯¹ç”¨æˆ·çš„æˆæƒ<code>revoke</code></li></ul></li></ul><h2 id="æ•°æ®åº“çš„ç›¸å…³æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“çš„ç›¸å…³æ“ä½œ" aria-hidden="true">#</a> æ•°æ®åº“çš„ç›¸å…³æ“ä½œ</h2><h3 id="åˆ›å»ºæ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ•°æ®åº“" aria-hidden="true">#</a> åˆ›å»ºæ•°æ®åº“</h3><p>è¯­æ³•ï¼š<code>CREATE DATABASE [å¯é€‰ï¼šIF NOT EXITS] æ•°æ®åº“å [å¯é€‰ CHARACTER SET] [å¯é€‰ COLLATE]</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># åˆ›å»ºä¸€ä¸ªé»˜è®¤ç±»å‹çš„æ•°æ®åº“</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> db1<span class="token punctuation">;</span>
<span class="token comment"># åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œå¦‚æœå·²å­˜åœ¨ï¼Œå°±ä¸åˆ›å»º ä¸å­˜åœ¨åˆ™åˆ›å»º</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> db1<span class="token punctuation">;</span>

<span class="token comment"># åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œå¹¶æŒ‡å®šå­—ç¬¦é›†ä¸ºutf-8;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">if</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> db2 <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8<span class="token punctuation">;</span>

<span class="token comment"># åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œå¹¶æŒ‡å®šå­—ç¬¦é›†ä¸ºutf-8,æ ¡éªŒè§„åˆ™ä¸ºåŒºåˆ†å¤§å°å†™utf8_bin</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">if</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> db3 <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token keyword">COLLATE</span> utf8_bin<span class="token punctuation">;</span>

<span class="token comment"># é€šå¸¸æ¥è¯´ï¼Œåˆ›å»ºæ•°æ®åº“çš„æ—¶å€™ï¼Œä¸ºäº†è§„é¿å…³é”®å­—ï¼Œéƒ½ä¼šä½¿ç”¨åå¼•å·åŒ…è£¹åå­—</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token identifier"><span class="token punctuation">\`</span>select<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>CHARACTER SET</code>:æŒ‡å®šæ•°æ®åº“é‡‡ç”¨çš„å­—ç¬¦é›†ï¼Œå¦‚æœä¸æŒ‡å®šå­—ç¬¦é›†ï¼Œé»˜è®¤ä¸ºé…ç½®æ•°æ®åº“æ—¶è®¾ç½®çš„å­—ç¬¦é›†(utf8æˆ–è€…utf8mb4)</p><p><code>COLLATE</code>:æŒ‡å®šæ•°æ®åº“çš„æ ¡éªŒè§„åˆ™ï¼Œæ— è®ºæ˜¯å“ªç§å­—ç¬¦é›†ï¼Œæ’åºè§„åˆ™çš„åå­—éƒ½æ˜¯å¤§åŒå°å¼‚çš„ï¼Œutf-8é»˜è®¤ä¸º<code>utf8_general_ci</code>ï¼Œä¸‹é¢ä¸¾å‡ ä¸ªå¸¸ç”¨çš„</p><table><thead><tr><th style="text-align:center;">åç§°</th><th style="text-align:center;">ç‰¹ç‚¹</th></tr></thead><tbody><tr><td style="text-align:center;">utf8_general_ci</td><td style="text-align:center;">æ ¡å¯¹é€Ÿåº¦å¿«ï¼Œä½†å‡†ç¡®åº¦ç¨å·®ï¼Œä¸åŒºåˆ†å¤§å°å†™</td></tr><tr><td style="text-align:center;">utf8_general_cs</td><td style="text-align:center;">æ ¡å¯¹é€Ÿåº¦å¿«ï¼Œä½†å‡†ç¡®åº¦ç¨å·®ï¼ŒåŒºåˆ†å¤§å°å†™</td></tr><tr><td style="text-align:center;">utf8_unicode_ci</td><td style="text-align:center;">å‡†ç¡®åº¦é«˜ï¼Œä½†æ ¡å¯¹é€Ÿåº¦ç¨æ…¢ï¼Œä¸åŒºåˆ†å¤§å°å†™</td></tr><tr><td style="text-align:center;">utf8_bin</td><td style="text-align:center;">å°†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ç”¨äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨ï¼ŒåŒºåˆ†å¤§å°å†™;</td></tr></tbody></table><p>ä¸€èˆ¬æ¥è¯´ï¼Œéƒ½æ˜¯åœ¨<code>general_ci</code>å’Œ <code>utf8_bin</code>ä¹‹é—´æ¥å›é€‰æ‹©ï¼Œå…¶ä»–å­—ç¬¦é›†åŒç†ï¼Œä¾‹å¦‚utf8mb4è¦åŒºåˆ†å¤§å°å†™å°±ï¼š<code>utf8mb4_bin</code></p><h3 id="æŸ¥çœ‹ã€åˆ é™¤æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹ã€åˆ é™¤æ•°æ®åº“" aria-hidden="true">#</a> æŸ¥çœ‹ã€åˆ é™¤æ•°æ®åº“</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“</span>
<span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>

<span class="token comment"># æ˜¾ç¤ºåˆ›å»ºæ•°æ®åº“æ—¶çš„è¯­å¥</span>
<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">database</span> æ•°æ®åº“å<span class="token punctuation">;</span>

<span class="token comment"># åˆ é™¤ä¸€ä¸ªæ•°æ®åº“</span>
<span class="token keyword">drop</span> <span class="token keyword">database</span> æ•°æ®åº“å<span class="token punctuation">;</span>

<span class="token comment"># åˆ é™¤ä¸€ä¸ªæ•°æ®åº“ å¦‚æœå­˜åœ¨å°±åˆ é™¤ï¼Œä¸å­˜åœ¨å°±ä»€ä¹ˆä¹Ÿä¸åš</span>
<span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> æ•°æ®åº“å<span class="token punctuation">;</span>

<span class="token comment"># é€šå¸¸æ¥è¯´ ä¸ºäº†ä¸¥è°¨æ€§ï¼Œæ•°æ®åº“åéƒ½ä¼šç”¨åå¼•å·åŒ…è£¹</span>
<span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token identifier"><span class="token punctuation">\`</span>db222<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤‡ä»½ã€æ¢å¤æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#å¤‡ä»½ã€æ¢å¤æ•°æ®åº“" aria-hidden="true">#</a> å¤‡ä»½ã€æ¢å¤æ•°æ®åº“</h3><ul><li>å¤‡ä»½æ•°æ®åº“ï¼ˆCMDæˆ–è€…Shellä¸‹æ‰§è¡Œï¼‰åƒä¸‡åˆ«ç”¨powerShell åƒä¸‡åˆ«ç”¨powerShell åƒä¸‡åˆ«ç”¨powerShell</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å¤‡ä»½æ•´ä¸ªæ•°æ®åº“</span>
mysqldump <span class="token parameter variable">-u</span> ç”¨æˆ·å <span class="token parameter variable">-p</span> <span class="token parameter variable">-B</span> æ•°æ®åº“1 æ•°æ®åº“2 æ•°æ®åº“n <span class="token operator">&gt;</span> æ–‡ä»¶å.sqlæˆ–è€…è·¯å¾„/æ–‡ä»¶å.sql
<span class="token comment">#ä¾‹å¦‚</span>
<span class="token builtin class-name">cd</span> d:<span class="token punctuation">\\</span><span class="token punctuation">;</span>
mysqldump <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> <span class="token parameter variable">-B</span> db1 <span class="token operator">&gt;</span>my.sql

<span class="token comment">#å¤‡ä»½æ•°æ®åº“çš„æŸäº›è¡¨</span>
mysqldump <span class="token parameter variable">-u</span> ç”¨æˆ·å <span class="token parameter variable">-p</span> æ•°æ®åº“å è¡¨1 è¡¨2 è¡¨n <span class="token operator">&gt;</span> æ–‡ä»¶å.sqlæˆ–è€…è·¯å¾„/æ–‡ä»¶å.sql

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸æŒ‡å®šè·¯å¾„çš„è¯é»˜è®¤ä½ç½®æ˜¯å½“å‰shellæ‰€åœ¨åŒçº§è·¯å¾„ä¸‹</p><ul><li>æ¢å¤æ•°æ®åº“(è¦è¿›å…¥åˆ°MySQLå‘½ä»¤è¡Œä¸­æ‰§è¡Œ)</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å¿…é¡»å¾—è¿›å…¥å‘½ä»¤è¡Œ</span>
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå†æ‰§è¡Œæ¢å¤ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>source è·¯å¾„:æ–‡ä»¶<span class="token punctuation">;</span>

<span class="token comment">#ä¾‹å¦‚</span>
source d:\\my<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token punctuation">;</span>

<span class="token comment"># æ¢å¤æ•°æ®è¡¨-è¦è¿›å…¥åˆ°è‡ªå·±æƒ³çš„æ•°æ®åº“ä¸­;</span>
<span class="token keyword">use</span> æ•°æ®åº“å<span class="token punctuation">;</span>
source è·¯å¾„:æ–‡ä»¶<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…ç›´æ¥æŠŠæ–‡ä»¶æ‹–åˆ°é‚£äº›å›¾å½¢åŒ–è½¯ä»¶ä¸­æ‰§è¡Œä¹Ÿå¯</p><h2 id="è¡¨çš„ç›¸å…³æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#è¡¨çš„ç›¸å…³æ“ä½œ" aria-hidden="true">#</a> è¡¨çš„ç›¸å…³æ“ä½œ</h2><h3 id="åˆ›å»ºã€æŸ¥çœ‹ã€åˆ é™¤è¡¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºã€æŸ¥çœ‹ã€åˆ é™¤è¡¨" aria-hidden="true">#</a> åˆ›å»ºã€æŸ¥çœ‹ã€åˆ é™¤è¡¨</h3><p>â€‹ mysqlä¸­ï¼Œæ™®éçš„å‘½åè§„åˆ™æ˜¯ä¸‹åˆ’çº¿å‘½åï¼Œè€Œéæ˜¯ç¼–ç¨‹è¯­è¨€ä¸­å¸¸è§çš„é©¼å³°å‘½åï¼Œä¾‹å¦‚<code>userMessage</code>åœ¨mysqlä¸­å°±è¦å†™æˆ<code>user_message</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨åï¼ˆ
 å­—æ®µå<span class="token number">1</span> å­—æ®µç±»å‹ å¯é€‰<span class="token operator">-</span>éªŒè¯è§„åˆ™<span class="token punctuation">,</span>
 å­—æ®µå<span class="token number">1</span> å­—æ®µç±»å‹<span class="token punctuation">,</span>
 å­—æ®µå<span class="token number">1</span> å­—æ®µç±»å‹<span class="token punctuation">,</span>
 å­—æ®µå<span class="token number">1</span> å­—æ®µç±»å‹
ï¼‰<span class="token keyword">character</span> <span class="token keyword">set</span> å­—ç¬¦é›†  <span class="token keyword">collate</span> æ ¡éªŒè§„åˆ™ <span class="token keyword">engine</span> å¼•æ“<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>character set</code>å­—æ®µçš„å­—ç¬¦é›†ï¼Œä¸æŒ‡å®šä¸ºæ‰€åœ¨æ•°æ®åº“çš„å­—ç¬¦é›†</p><p><code>collate</code>å­—æ®µçš„æ ¡éªŒè§„åˆ™ï¼Œä¸æŒ‡å®šä¸ºæ‰€åœ¨æ•°æ®åº“çš„è§„åˆ™</p><p><code>engine</code>å¼•æ“ï¼Œè¿™ç©æ„æ¶‰åŠçš„å†…å®¹æœ‰ç‚¹å¤š</p><p>éªŒè¯è§„åˆ™ï¼Œè¿™ä¸ªåé¢å•ç‹¬è¯´-ä¹Ÿè¢«ç§°ä¸ºçº¦æŸ</p><p>æŸ¥çœ‹å½“å‰åº“(database)ä¸­çš„æ‰€æœ‰è¡¨ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŸ¥çœ‹db1ä¸‹çš„æ‰€æœ‰è¡¨;</span>
<span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ é™¤å½“å‰åº“(database)ä¸­çš„æŸä¸ªè¡¨ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># åˆ é™¤è¡¨ï¼šdb1ä¸‹çš„emp;</span>
<span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> emp<span class="token punctuation">;</span>

<span class="token comment"># å¦‚æœå­˜åœ¨åˆ™åˆ é™¤ï¼š</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> emp<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqlçš„æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#mysqlçš„æ•°æ®ç±»å‹" aria-hidden="true">#</a> MySqlçš„æ•°æ®ç±»å‹</h3><p>å¤§è‡´å¦‚ä¸‹ï¼Œæ ‡äº†çº¢æ——çš„å°±æ˜¯å¸¸ç”¨çš„ï¼Œå½“ç„¶è¿˜æœ‰ä¸ªéå¸¸ç½•è§çš„bit(M)ç±»å‹ï¼ŒMæŒ‡å®šä½æ•°ï¼Œé»˜è®¤å€¼1ï¼ŒèŒƒå›´1~64</p><p>å¦‚æœç²¾åº¦è¦æ±‚æ¯”ä»·é«˜çš„è¯å°±ç”¨Deicmalæ¥å­˜æ”¾æ•°å€¼</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ä¸ä¼šç”¨åˆ°äºŒè¿›åˆ¶ç±»å‹ï¼Œæ–‡ä»¶ä¸€èˆ¬éƒ½æ˜¯ç›´æ¥å­˜åˆ°ä¸€èˆ¬ï¼Œæ•°æ®åº“ä¸­å»ºä¸ªç´¢å¼•è·¯å¾„</p><figure><img src="`+b+'" alt="MySqlæ•°æ®ç±»å‹" tabindex="0" loading="lazy"><figcaption>MySqlæ•°æ®ç±»å‹</figcaption></figure><figure><img src="'+y+'" alt="image-20211120185628320" tabindex="0" loading="lazy"><figcaption>image-20211120185628320</figcaption></figure><figure><img src="'+g+'" alt="image-20211120185641114" tabindex="0" loading="lazy"><figcaption>image-20211120185641114</figcaption></figure><figure><img src="'+w+'" alt="image-20211120192745001" tabindex="0" loading="lazy"><figcaption>image-20211120192745001</figcaption></figure><figure><img src="'+h+'" alt="image-20211120192825877" tabindex="0" loading="lazy"><figcaption>image-20211120192825877</figcaption></figure><p>Charå’ŒVarcharçš„é•¿åº¦ï¼ˆæ¯”å¦‚varchar(255)ï¼‰è¡¨ç¤ºçš„æ˜¯255ä¸ªå­—ç¬¦ï¼Œè€Œå¹¶éæ˜¯255ä¸ªå­—èŠ‚</p><p>åæ­£ç”¨çš„æ—¶å€™åªè¦çŸ¥é“ï¼Œå®šä¹‰å¤šé•¿ï¼Œå°±èƒ½æ”¾å¤šå°‘ä¸ªå­—å³å¯</p><figure><img src="'+q+'" alt="image-20211120205829953" tabindex="0" loading="lazy"><figcaption>image-20211120205829953</figcaption></figure><figure><img src="'+f+`" alt="image-20211120205914839" tabindex="0" loading="lazy"><figcaption>image-20211120205914839</figcaption></figure><h4 id="decimalç±»å‹é¢å¤–è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#decimalç±»å‹é¢å¤–è¯´æ˜" aria-hidden="true">#</a> Decimalç±»å‹é¢å¤–è¯´æ˜</h4><p>è¿™ä¸ªä¸œè¥¿å¾—é¢å¤–æå‡ºæ¥è¯´ä¸€å˜´</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> db3<span class="token punctuation">(</span>
 num <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
              
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#ç¬¬ä¸€ä¸ªå€¼å°±æ˜¯æ€»é•¿åº¦ï¼Œç¬¬äºŒä¸ªå€¼å°±æ˜¯å°æ•°æ‰€å é•¿åº¦ï¼›</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> db3 <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">233.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># è¿™æ ·æŸ¥è¯¢å¯ä»¥å¾—åˆ°ï¼š233.10000000000000000000 1åé¢æœ‰19ä¸ªå°æ•°</span>

<span class="token comment"># ä¹Ÿå¯ä»¥è¿™æ ·è®©åªèƒ½æ’å…¥æ•´æ•°ï¼Œä»¥å­˜æ”¾è¾ƒå¤§èŒƒå›´çš„æ•´æ•°</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> db3<span class="token punctuation">(</span>
 num <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
              
<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+E+'" alt="image-20211120190547035" tabindex="0" loading="lazy"><figcaption>image-20211120190547035</figcaption></figure><figure><img src="'+L+'" alt="image-20211120185843253" tabindex="0" loading="lazy"><figcaption>image-20211120185843253</figcaption></figure><figure><img src="'+S+`" alt="image-20211120185843253.png" tabindex="0" loading="lazy"><figcaption>image-20211120185843253.png</figcaption></figure><h4 id="æ—¶é—´ç›¸å…³ç±»å‹é¢å¤–è¯´æ˜defaultå€¼å’Œon-updateå€¼" tabindex="-1"><a class="header-anchor" href="#æ—¶é—´ç›¸å…³ç±»å‹é¢å¤–è¯´æ˜defaultå€¼å’Œon-updateå€¼" aria-hidden="true">#</a> æ—¶é—´ç›¸å…³ç±»å‹é¢å¤–è¯´æ˜defaultå€¼å’Œon updateå€¼</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> test_time <span class="token punctuation">(</span>
 birthday <span class="token keyword">DATE</span><span class="token punctuation">,</span>
 job_time <span class="token keyword">DATETIME</span><span class="token punctuation">,</span>
 login_time <span class="token keyword">TIMESTAMP</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">on</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
    <span class="token comment">#TIMESTAMP å¯ä»¥é€šè¿‡defaultæ¥è®¾ç½®åˆå§‹å€¼ å’Œ on update æ¥è®¾ç½®è‡ªåŠ¨æ›´æ–°</span>
    <span class="token comment"># é™¤äº†DATETIMEï¼Œå…¶ä»–çš„æ—¶é—´å­—æ®µéƒ½å¯ä»¥è²Œä¼¼è¿™æ ·CURRENT_XXX</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> test_time<span class="token punctuation">(</span>birthday<span class="token punctuation">,</span>job_time<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2011-1-1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2001-1-1 1:1:1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> test_time<span class="token punctuation">;</span>

<span class="token comment"># å¯ä»¥çœ‹åˆ°login_timeè¢«å¡«å……äº†ç›¸å…³æ—¶é—´</span>
<span class="token operator">+</span><span class="token comment">------------+---------------------+---------------------+</span>
<span class="token operator">|</span> birthday   <span class="token operator">|</span> job_time            <span class="token operator">|</span> login_time          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+---------------------+---------------------+</span>
<span class="token operator">|</span> <span class="token number">2011</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2001</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">01</span>:<span class="token number">01</span>:<span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">21</span>:<span class="token number">18</span>:<span class="token number">36</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+---------------------+---------------------+</span>

<span class="token comment">#æ›´æ–°ä¸€ä¸‹è¯•è¯•ï¼š</span>
<span class="token keyword">update</span> test_time <span class="token keyword">set</span>  birthday<span class="token operator">=</span><span class="token string">&#39;2111-11-1&#39;</span> <span class="token keyword">where</span> birthday<span class="token operator">=</span><span class="token string">&#39;2011-01-01&#39;</span><span class="token punctuation">;</span>
<span class="token comment"># å¯ä»¥çœ‹åˆ°login_timeåŒæ­¥çš„è¢«æ›´æ–°äº†</span>
<span class="token operator">+</span><span class="token comment">------------+---------------------+---------------------+</span>
<span class="token operator">|</span> birthday   <span class="token operator">|</span> job_time            <span class="token operator">|</span> login_time          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+---------------------+---------------------+</span>
<span class="token operator">|</span> <span class="token number">2111</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2001</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">01</span>:<span class="token number">01</span>:<span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">21</span>:<span class="token number">24</span>:<span class="token number">56</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+---------------------+---------------------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¿®æ”¹è¡¨-å­—æ®µçš„å¢åˆ æ”¹" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹è¡¨-å­—æ®µçš„å¢åˆ æ”¹" aria-hidden="true">#</a> ä¿®æ”¹è¡¨-å­—æ®µçš„å¢åˆ æ”¹</h3><p>å¢åŠ å­—æ®µ<code>alter table è¡¨å add å­—æ®µ1 å­—æ®µç±»å‹ [å¯é€‰çº¦æŸ] [after å­—æ®µ2]</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> image <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token comment"># åœ¨æŸä¸ªå­—æ®µåé¢æ’å…¥ï¼š</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> <span class="token identifier"><span class="token punctuation">\`</span>version<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">after</span> name<span class="token punctuation">;</span>
<span class="token comment"># åœ¨nameåé¢æ’å…¥version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹å­—æ®µå±æ€§<code>alter table è¡¨å modify å­—æ®µ1 å­—æ®µç±»å‹ [å¯é€‰çº¦æŸ] [after å­—æ®µ2]</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">modify</span> job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># å°†å·²æœ‰çš„jobçš„æ•°æ®ç±»å‹æ›¿æ¢ä¸ºvarchar60</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">modify</span> job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;å·¥ä½œ&#39;</span><span class="token punctuation">;</span>
<span class="token comment">#èƒ½ä¿®æ”¹å­—æ®µç±»å‹ã€ç±»å‹é•¿åº¦ã€é»˜è®¤å€¼ã€æ³¨é‡Š</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">modify</span> age <span class="token keyword">int</span> <span class="token keyword">after</span> name<span class="token punctuation">;</span>
<span class="token comment"># å°†ageå±æ€§æ”¾åˆ°nameå±æ€§åé¢ï¼Œæ³¨æ„ï¼Œå­—æ®µç±»å‹ä¸èƒ½è½ä¸‹</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹å­—æ®µååŠå­—æ®µç±»å‹<code>alter table è¡¨å change æ—§å­—æ®µå æ–°å­—æ®µå æ–°å­—æ®µç±»å‹ [å¯é€‰çº¦æŸ] [after å­—æ®µ2]</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> emp change name user_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;ç”¨æˆ·å&#39;</span><span class="token punctuation">;</span>

<span class="token comment"># ä¹Ÿå¯ä»¥åœ¨é‡å‘½ååæ’å…¥åˆ°å…¶ä»–å…ƒç´ åé¢</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> employee change job today_job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">77</span><span class="token punctuation">)</span> <span class="token keyword">after</span> sex<span class="token punctuation">;</span>
<span class="token comment"># å°†jobé‡å‘½ååä¸¢åœ¨sexåé¢ï¼Œæ³¨æ„ï¼Œå­—æ®µç±»å‹ä¸èƒ½è½ä¸‹</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ é™¤å­—æ®µ<code>alter table è¡¨å drop å­—æ®µå</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">drop</span> name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æŸ¥çœ‹è¡¨çš„ç»“æ„:<code>desc è¡¨å;</code></p><p>ä¿®æ”¹è¡¨åï¼š<code>Rename table è¡¨å to æ–°è¡¨å;</code></p><p>ä¿®æ”¹è¡¨å­—ç¬¦é›†ï¼š<code>alter table è¡¨å character set å­—ç¬¦é›†</code></p><h2 id="crud-å¢åˆ æ”¹æŸ¥" tabindex="-1"><a class="header-anchor" href="#crud-å¢åˆ æ”¹æŸ¥" aria-hidden="true">#</a> CRUD-å¢åˆ æ”¹æŸ¥</h2><h3 id="insertæ·»åŠ æ•°æ®" tabindex="-1"><a class="header-anchor" href="#insertæ·»åŠ æ•°æ®" aria-hidden="true">#</a> Insertæ·»åŠ æ•°æ®</h3><p>è¯­æ³•ï¼š<code>insert into è¡¨å [å¯é€‰(æ•°æ®é¡¹ç›®)] values(æ•°æ®),[å¯é€‰ (æ•°æ®)]</code></p><p>æ’å…¥æ•°æ®çš„åŸåˆ™ï¼šæ ¡éªŒç”¨æˆ·çš„æ•°æ®æ˜¯å¦åˆå‘ï¼Œæ˜¯å¦åœ¨ç¬¦åˆé¢„æœŸå†…ï¼Œéœ€å‰åç«¯åŒé‡éªŒè¯+é˜²æ³¨å…¥å¤„ç†ï¼›</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> person<span class="token punctuation">(</span>
    id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    price <span class="token keyword">double</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># æ’å…¥ä¸€æ¡æ•°æ® éœ€è¦ä¼ å…¥æ‰€æœ‰å­—æ®µï¼ˆæŒ‰ç…§é¡ºåºï¼‰</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> person <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">,</span><span class="token number">1500.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># æŒ‡å®šå­—æ®µæ’å…¥æ•°æ®ï¼ˆæŒ‰ç…§æŒ‡å®šå­—æ®µçš„é¡ºåºï¼‰</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> person<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;æå››&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+--------+--------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> price  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+--------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span> <span class="token number">1500.1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> æå››   <span class="token operator">|</span>   <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+--------+</span>

<span class="token comment"># æ’å…¥å¤šæ¡æ•°æ®(å¯ä»¥é…åˆæŒ‡å®šå­—æ®µä½¿ç”¨)</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> person <span class="token keyword">values</span>
 <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;ç‹è€äº”&quot;</span><span class="token punctuation">,</span><span class="token number">6663.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&quot;é™ˆå…­&quot;</span><span class="token punctuation">,</span><span class="token number">2333.15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&quot;å˜å­&quot;</span><span class="token punctuation">,</span><span class="token number">159.15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+-----------+---------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name      <span class="token operator">|</span> price   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+---------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>  <span class="token number">1500.1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> æå››      <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>  <span class="token number">6663.1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> é™ˆå…­      <span class="token operator">|</span> <span class="token number">2333.15</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> å˜å­      <span class="token operator">|</span>  <span class="token number">159.15</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+---------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="updateæ›´æ–°æ•°æ®" tabindex="-1"><a class="header-anchor" href="#updateæ›´æ–°æ•°æ®" aria-hidden="true">#</a> Updateæ›´æ–°æ•°æ®</h3><p>è¯­æ³•ï¼š<code>update è¡¨å set å­—æ®µå=å­—æ®µå€¼,å­—æ®µå=å­—æ®µå€¼ [å¯é€‰ï¼š whereç­›é€‰å™¨]</code></p><p>update è¯­æ³•å¯ä»¥ç”¨äºæ›´æ–°åŸæœ‰è¡¨è¡Œä¸­çš„å„åˆ—</p><p>setå­—å¥æŒ‡ç¤ºè¦ä¿®æ”¹é‚£äº›è¡Œå’Œè¦ç»™äºˆå“ªäº›å€¼</p><p><strong>whereå­—å¥æŒ‡å®šåº”è¯¥æ›´æ–°å“ªäº›è¡Œï¼Œå¦‚æœæ²¡æœ‰whereï¼Œåˆ™æ›´æ–°æ‰€æœ‰è¡Œ</strong>ï¼Œå®é™…å·¥ä½œä¸­ç»å¯¹ä¸èƒ½çŠ¯è¿™ç§é”™è¯¯......</p><p>å¦‚æœè¦ä¿®æ”¹å¤šä¸ªå­—æ®µ å¯ä»¥<code>set å­—æ®µ1=å€¼1,å­—æ®µ2=å€¼2....</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#å°†è¡¨ä¸­çš„æ‰€æœ‰æ¡ç›®çš„priceå­—æ®µä¿®æ”¹ä¸º1000</span>
<span class="token keyword">update</span> person <span class="token keyword">set</span> price <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name      <span class="token operator">|</span> price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> æå››      <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> é™ˆå…­      <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> å˜å­      <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>


<span class="token comment">#å°†å§“åä¸ºå¼ ä¸‰çš„äººçš„priceä¿®æ”¹ä¸º2000</span>
<span class="token keyword">update</span> person <span class="token keyword">set</span> price <span class="token operator">=</span> <span class="token number">2000</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">2000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>


<span class="token comment">#å°†æ‰€æœ‰äººçš„å·¥èµ„æ”¹å˜ä¸ºåŸæœ¬çš„å·¥èµ„+1500</span>
<span class="token keyword">update</span> person <span class="token keyword">set</span> price <span class="token operator">=</span> price<span class="token operator">+</span><span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name      <span class="token operator">|</span> price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>  <span class="token number">3000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> æå››      <span class="token operator">|</span>  <span class="token number">2000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>  <span class="token number">2000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> é™ˆå…­      <span class="token operator">|</span>  <span class="token number">2000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> å˜å­      <span class="token operator">|</span>  <span class="token number">2000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>

<span class="token comment"># å°†æå››çš„å·¥èµ„å˜ä¸ºåŸæœ¬çš„å·¥èµ„+666</span>
<span class="token keyword">update</span> person <span class="token keyword">set</span> price <span class="token operator">=</span> price<span class="token operator">+</span><span class="token number">666</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;æå››&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> æå››   <span class="token operator">|</span>  <span class="token number">2666</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="deleteåˆ é™¤æ•°æ®" tabindex="-1"><a class="header-anchor" href="#deleteåˆ é™¤æ•°æ®" aria-hidden="true">#</a> Deleteåˆ é™¤æ•°æ®</h3><p>è¯­æ³•ï¼š<code>delete from è¡¨å [å¯é€‰ where ç­›é€‰å™¨]</code></p><p>å¦‚æœæ²¡æœ‰å¸¦whereï¼Œåˆ™åˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®</p><p>ä½¿ç”¨deleteè¯­å¥ä»…åˆ é™¤è®°å½•ï¼Œä¸åˆ é™¤è¡¨çš„æœ¬èº«ï¼Œå¦‚æœè¯´è¦åˆ é™¤ä¸€ä¸ªè¡¨ï¼Œä¸€èˆ¬éƒ½æ˜¯ç›´æ¥ä½¿ç”¨<code>drop table è¡¨å</code>è¯­å¥</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># åˆ é™¤è¡¨ä¸­name=ç‹è€äº”çš„äºº;</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> person <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;ç‹è€äº”&quot;</span><span class="token punctuation">;</span>

<span class="token comment"># åˆ é™¤æŸä¸ªè¡¨ä¸­çš„æ‰€æœ‰æ•°æ® è°¨æ…ä½¿ç”¨</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>

<span class="token comment"># å¦‚æœè¯´æ˜¯æƒ³åˆ é™¤æŸä¸€åˆ—çš„æ‰€æœ‰å€¼ï¼Œå»ºè®®ä½¿ç”¨update</span>
<span class="token keyword">update</span> person <span class="token keyword">set</span> price<span class="token operator">=</span><span class="token boolean">null</span> <span class="token punctuation">;</span>
<span class="token comment">#æ›¿æ¢ä¸ºnullçš„æ–¹å¼ æˆ–è€…ç”¨æ›¿æ¢ä¸º&quot;&quot;,0ä¹‹ç±»çš„æ–¹å¼</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name      <span class="token operator">|</span> price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>  <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> æå››      <span class="token operator">|</span>  <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>  <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> é™ˆå…­      <span class="token operator">|</span>  <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> å˜å­      <span class="token operator">|</span>  <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>

<span class="token comment">#å¦‚æœè¯´æƒ³è¦åˆ é™¤ä¸€åˆ—ï¼Œç›´æ¥é€šè¿‡æ“ä½œå­—æ®µçš„æ–¹å¼ï¼š</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> person <span class="token keyword">drop</span> price<span class="token punctuation">;</span>

<span class="token comment"># æ€»ä¹‹ï¼Œé™¤ééå¸¸æ˜ç¡®è‡ªå·±ç¡®å®è¦åˆ é™¤è¿™ä¸ªè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œä¸ç„¶åƒä¸‡ä¸è¦</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>
<span class="token comment"># æ­£å¸¸æƒ…å†µä¸‹ï¼Œåˆ é™¤æ•°æ®å¿…é¡»åŠ whereç­›é€‰å™¨</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ é™¤è¡¨æ•°æ®å¢å¼º" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤è¡¨æ•°æ®å¢å¼º" aria-hidden="true">#</a> åˆ é™¤è¡¨æ•°æ®å¢å¼º</h3><ol><li><p>å½“ä½ ä¸å†éœ€è¦è¯¥è¡¨æ—¶ï¼Œ ç”¨ dropï¼š<code>drop tableè¡¨å</code></p><ul><li>drop æ˜¯ç›´æ¥å°†è¡¨æ ¼åˆ é™¤ï¼Œæ— æ³•æ‰¾å›ã€‚ä¾‹å¦‚åˆ é™¤ user è¡¨ï¼š</li></ul></li><li><p>å½“ä½ ä»è¦ä¿ç•™è¯¥è¡¨ï¼Œä½†è¦åˆ é™¤æ‰€æœ‰è®°å½•æ—¶ï¼Œç”¨truncate<br><code>truncate ï¼ˆtableï¼‰ è¡¨å</code></p><ul><li>truncate æ˜¯åˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®ï¼Œä½†ä¸èƒ½ä¸whereä¸€èµ·ä½¿ç”¨ï¼›</li></ul></li><li><p>å½“ä½ è¦åˆ é™¤éƒ¨åˆ†è®°å½•æˆ–è€…æœ‰å¯èƒ½ä¼šåæ‚”çš„è¯ï¼Œ ç”¨ delete<br><code>delete from è¡¨å [where]</code></p><ul><li>delete ä¹Ÿæ˜¯åˆ é™¤è¡¨ä¸­æ•°æ®ï¼Œä½†å¯ä»¥ä¸whereè¿ç”¨ï¼Œåˆ é™¤ç‰¹å®šè¡Œï¼›</li></ul></li></ol>`,94),Ps={href:"https://www.cnblogs.com/fcc-123/p/10672604.html",target:"_blank",rel:"noopener noreferrer"},Ws=p('<p>å¦‚æœè¯´æƒ³è¦åˆ é™¤æŸä¸ªè¡¨å¹¶ä¸”ä¸ç•™æœ‰ç¼“å­˜ï¼Œä½†æ˜¯åˆå…ˆä½¿ç”¨äº†deleteåˆ é™¤ï¼Œé‚£ä¹ˆå†è¡¥ä¸€æ¬¡truncate å³å¯</p><h1 id="select-æŸ¥æ‰¾-å•è¡¨æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#select-æŸ¥æ‰¾-å•è¡¨æŸ¥è¯¢" aria-hidden="true">#</a> Select æŸ¥æ‰¾-å•è¡¨æŸ¥è¯¢</h1><p>â€‹ çœ‹åˆ°è¿™ä¸ªH1æ ‡é¢˜äº†å—ï¼Œæ˜¯æ•´ä¸ªsqlä¸­æœ€é‡è¦çš„ç©æ„ã€‚æ²¡æœ‰ä»»ä½•ä¸œè¥¿æ¯”ä»–æ›´é‡è¦äº†ã€‚åœ¨ä»»ä½•ç±»å‹ã€ä»»ä½•ç§ç±»çš„æ•°æ®åº“ä¸­ï¼ŒæŸ¥æ‰¾æ°¸è¿œéƒ½æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ï¼ŒæŸ¥æ‰¾å¯¹äºæ•°æ®åº“æ¥è¯´å°±å¥½æ¯”ï¼Œé¥­å¯¹äºäººçš„é‡è¦æ€§ä¸€èˆ¬ã€‚</p><h2 id="åŸºæœ¬è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬è¯­æ³•" aria-hidden="true">#</a> åŸºæœ¬è¯­æ³•</h2><p>åŸºæœ¬è¯­æ³•å¾ˆç®€å•ï¼š</p><p><code>select [å¯é€‰ï¼šdistinct] *å·æˆ–è€…å­—æ®µå1ï¼Œå­—æ®µå2ï¼Œå­—æ®µå3... from è¡¨å</code></p><p>distinct: å»é‡ï¼Œå½“ç»“æœä¸­æœ‰é‡å¤å€¼çš„æ—¶å€™è‡ªåŠ¨åˆå¹¶å»é‡</p><p>ä¹Ÿå¯ä»¥ç»™å­—æ®µå–ä¸ªåˆ«åï¼š<code>select å­—æ®µ1 as &#39;åˆ«å1&#39;,å­—æ®µ2 as &#39;åˆ«å2&#39;... from è¡¨å</code></p><p><strong>å­—æ®µåæ˜¯ä½¿ç”¨è¿ç®—ç¬¦çš„</strong></p><p>ç„¶ååœ¨è¡¨ååé¢å¯ä»¥è·Ÿwhereè¯­å¥ï¼š<code>select ç›¸å…³æ•°æ® from è¡¨å where ç›¸å…³é€»è¾‘è¡¨è¾¾å¼</code></p><p>ä¸‹é¢ä¼šæ¼”ç¤ºçš„è¡¨è¾¾å¼ï¼šï¼ˆä»£ç å—æœ€åï¼‰è¿ç®—ï¼Œå¤§å°ç­‰äºï¼Œand å’Œæ¨¡ç³ŠåŒ¹é…ä¸æ­£åˆ™è¡¨è¾¾å¼</p>',11),Qs={href:"https://www.runoob.com/mysql/mysql-operator.html",target:"_blank",rel:"noopener noreferrer"},Xs={href:"https://www.runoob.com/mysql/mysql-regexp.html",target:"_blank",rel:"noopener noreferrer"},$s={href:"https://www.runoob.com/mysql/mysql-like-clause.html",target:"_blank",rel:"noopener noreferrer"},Zs=p(`<div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
<span class="token comment">#è·å–personä¸­çš„æ‰€æœ‰å­—æ®µ</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span> 
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name      <span class="token operator">|</span> price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> æå››      <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> é™ˆå…­      <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+-------+</span>

<span class="token keyword">select</span> name<span class="token punctuation">,</span>price <span class="token keyword">from</span> person<span class="token punctuation">;</span>
<span class="token comment">#åªè·å–å§“åï¼Œè–ªæ°´</span>
<span class="token operator">+</span><span class="token comment">-----------+-------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------+</span>
<span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span> é™ˆå…­      <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------+</span>

<span class="token keyword">select</span> name <span class="token keyword">as</span> <span class="token string">&quot;å§“å&quot;</span> <span class="token punctuation">,</span>price <span class="token keyword">as</span> <span class="token string">&quot;è–ªæ°´&quot;</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>
<span class="token comment">#ç»™è·å–åˆ°çš„å€¼é‡å‘½å</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+</span>
<span class="token operator">|</span> å§“å      <span class="token operator">|</span> è–ªæ°´   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+</span>
<span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>   <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>   <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>   <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span> é™ˆå…­      <span class="token operator">|</span>   <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+</span>

<span class="token keyword">select</span> <span class="token keyword">distinct</span> price <span class="token keyword">from</span> person<span class="token punctuation">;</span>
<span class="token comment"># ç»™è–ªæ°´å»é‡ï¼Œæ³¨æ„ï¼Œè¿™é‡Œå»é‡çš„è¯å¾—æ˜¯å¾—åˆ°çš„æ‰€æœ‰å­—æ®µå€¼ä¸€è‡´</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span> price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>

<span class="token comment">#åŠ å…¥nameå­—æ®µï¼Œåˆ¤å®šçš„æ—¶å€™ä¹Ÿä¼šåˆ¤å®šnameæ˜¯å¦é‡å¤</span>
<span class="token comment"># åªæœ‰nameï¼Œpriceå®Œå…¨ç›¸åŒçš„æ—¶å€™æ‰ä¼šå»é‡</span>
<span class="token keyword">select</span> <span class="token keyword">distinct</span> name<span class="token punctuation">,</span>price <span class="token keyword">from</span> person<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+-------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> price <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------+</span>
<span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">|</span> é™ˆå…­      <span class="token operator">|</span>  <span class="token number">1500</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------+</span>


<span class="token comment"># ç»™Studentè¡¨</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>   <span class="token number">50</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>      <span class="token number">75</span> <span class="token operator">|</span>   <span class="token number">99</span> <span class="token operator">|</span>     <span class="token number">105</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€æ      <span class="token operator">|</span>      <span class="token number">40</span> <span class="token operator">|</span>   <span class="token number">30</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ é£      <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">63</span> <span class="token operator">|</span>      <span class="token number">53</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‰¹æœ—æ™®    <span class="token operator">|</span>       <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">60</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> è”¡è€ç‹—    <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token comment">#ä¸­çš„æ¯ä¸ªå­¦å‘˜çš„æ€»æˆç»©è¿›è¡Œç›¸åŠ å¹¶ç®—å‡ºå…¶å¹³å‡å€¼</span>

<span class="token keyword">select</span> name <span class="token punctuation">,</span><span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;æ€»åˆ†&quot;</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> æ€»åˆ†   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+</span>
<span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>    <span class="token number">230</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>    <span class="token number">279</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>    <span class="token number">240</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€æ      <span class="token operator">|</span>    <span class="token number">120</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ é£      <span class="token operator">|</span>    <span class="token number">176</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‰¹æœ—æ™®    <span class="token operator">|</span>    <span class="token number">160</span> <span class="token operator">|</span>
<span class="token operator">|</span> è”¡è€ç‹—    <span class="token operator">|</span>    <span class="token number">190</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+</span>

<span class="token comment">#é™„å¸¦ä¸Šå¹³å‡è´¹</span>
<span class="token keyword">select</span> name <span class="token punctuation">,</span><span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;æ€»åˆ†&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3</span> <span class="token keyword">as</span> <span class="token string">&quot;å¹³å‡åˆ†&quot;</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+-----------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> æ€»åˆ†   <span class="token operator">|</span> å¹³å‡åˆ†    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+-----------+</span>
<span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>    <span class="token number">200</span> <span class="token operator">|</span>   <span class="token number">66.6667</span> <span class="token operator">|</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>    <span class="token number">230</span> <span class="token operator">|</span>   <span class="token number">76.6667</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>    <span class="token number">279</span> <span class="token operator">|</span>   <span class="token number">93.0000</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>    <span class="token number">240</span> <span class="token operator">|</span>   <span class="token number">80.0000</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€æ      <span class="token operator">|</span>    <span class="token number">120</span> <span class="token operator">|</span>   <span class="token number">40.0000</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ é£      <span class="token operator">|</span>    <span class="token number">176</span> <span class="token operator">|</span>   <span class="token number">58.6667</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‰¹æœ—æ™®    <span class="token operator">|</span>    <span class="token number">160</span> <span class="token operator">|</span>   <span class="token number">53.3333</span> <span class="token operator">|</span>
<span class="token operator">|</span> è”¡è€ç‹—    <span class="token operator">|</span>    <span class="token number">190</span> <span class="token operator">|</span>   <span class="token number">63.3333</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+-----------+</span>

<span class="token comment"># ä½¿ç”¨ç®€å•çš„whereè¯­å¥</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;æå››&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>
<span class="token operator">|</span> æå››   <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>
<span class="token comment">#è‹±è¯­å¤§äº60</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> english<span class="token operator">&gt;</span><span class="token number">60</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>      <span class="token number">75</span> <span class="token operator">|</span>   <span class="token number">99</span> <span class="token operator">|</span>     <span class="token number">105</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‰¹æœ—æ™®    <span class="token operator">|</span>       <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">60</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token comment">#æ€»åˆ†å¤§äº200</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">200</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>      <span class="token number">75</span> <span class="token operator">|</span>   <span class="token number">99</span> <span class="token operator">|</span>     <span class="token number">105</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>

<span class="token comment">#æ•°å­¦å¤§äº60ä¸”ä¸­æ–‡å¤§äº50çš„äººï¼š</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> math<span class="token operator">&gt;</span><span class="token number">60</span> <span class="token operator">and</span> chinese<span class="token operator">&gt;</span><span class="token number">50</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>      <span class="token number">75</span> <span class="token operator">|</span>   <span class="token number">99</span> <span class="token operator">|</span>     <span class="token number">105</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ é£      <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">63</span> <span class="token operator">|</span>      <span class="token number">53</span> <span class="token operator">|</span>
<span class="token operator">|</span> è”¡è€ç‹—    <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>

<span class="token comment">#è‹±è¯­æˆç»©å¤§äºè¯­æ–‡æˆç»©:</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> english<span class="token operator">&gt;</span>chinese<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>      <span class="token number">75</span> <span class="token operator">|</span>   <span class="token number">99</span> <span class="token operator">|</span>     <span class="token number">105</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€æ      <span class="token operator">|</span>      <span class="token number">40</span> <span class="token operator">|</span>   <span class="token number">30</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‰¹æœ—æ™®    <span class="token operator">|</span>       <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">60</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>

<span class="token comment">#æŸ¥è¯¢æ•°å­¦åˆ†æ•°ä¸º80å’Œ99çš„åŒå­¦</span>
<span class="token keyword">select</span> name <span class="token string">&quot;å§“å&quot;</span><span class="token punctuation">,</span>math <span class="token string">&quot;æ•°å­¦åˆ†æ•°&quot;</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> math <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+--------------+</span>
<span class="token operator">|</span> å§“å      <span class="token operator">|</span> æ•°å­¦åˆ†æ•°     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------------+</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>           <span class="token number">80</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>           <span class="token number">99</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>           <span class="token number">80</span> <span class="token operator">|</span>
<span class="token operator">|</span> è”¡è€ç‹—    <span class="token operator">|</span>           <span class="token number">80</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------------+</span>

<span class="token comment">#æŸ¥è¯¢å¹³å‡åˆ†å¤§äº50ä¸” æ•°å­¦æˆç»©å¤§äºè‹±è¯­æˆç»© çš„å§“å¼ çš„å­¦ç”Ÿ;</span>

<span class="token comment">#ä½¿ç”¨æ¨¡ç³ŠåŒ¹é…</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token punctuation">(</span>chinese <span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3</span><span class="token operator">&gt;</span><span class="token number">50</span> <span class="token operator">and</span> math<span class="token operator">&gt;</span>english <span class="token operator">and</span> name <span class="token operator">like</span> <span class="token string">&quot;å¼ %&quot;</span><span class="token punctuation">;</span>

<span class="token comment">#ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token punctuation">(</span>chinese <span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3</span><span class="token operator">&gt;</span><span class="token number">50</span> <span class="token operator">and</span> math<span class="token operator">&gt;</span>english <span class="token operator">and</span> name <span class="token operator">REGEXP</span> <span class="token string">&#39;^å¼ &#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>
<span class="token operator">|</span> å¼ é£   <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">63</span> <span class="token operator">|</span>      <span class="token number">53</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç»Ÿè®¡å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#ç»Ÿè®¡å‡½æ•°" aria-hidden="true">#</a> ç»Ÿè®¡å‡½æ•°</h2><h3 id="order-by-å¯¹ç»“æœè¿›è¡Œæ’åº" tabindex="-1"><a class="header-anchor" href="#order-by-å¯¹ç»“æœè¿›è¡Œæ’åº" aria-hidden="true">#</a> Order By å¯¹ç»“æœè¿›è¡Œæ’åº</h3><p>è¯­æ³•ï¼š<code>select æ¡ç›® from è¡¨å [æ¡ä»¶ç­›é€‰ where] order by æ ¹æ®å“ªä¸ªå­—æ®µ asc|desc</code></p><p>ASC å‡åºï¼ˆé»˜è®¤ï¼‰ ã€DESC é™åº</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æ ¹æ®æ•°å­¦æˆç»©å‡åºæ’åˆ—</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">order</span> <span class="token keyword">by</span> math<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>
<span class="token operator">|</span> è€æ      <span class="token operator">|</span>      <span class="token number">40</span> <span class="token operator">|</span>   <span class="token number">30</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>   <span class="token number">50</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‰¹æœ—æ™®    <span class="token operator">|</span>       <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">60</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ é£      <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">63</span> <span class="token operator">|</span>      <span class="token number">53</span> <span class="token operator">|</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> è”¡è€ç‹—    <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">80</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>      <span class="token number">75</span> <span class="token operator">|</span>   <span class="token number">99</span> <span class="token operator">|</span>     <span class="token number">105</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+---------+------+---------+</span>

<span class="token comment"># åŠ ä¸Šwhereç­›é€‰å™¨ æ ¹æ®è¯­æ–‡æˆç»©å‡åºæ’åº</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&quot;å¼ %&quot;</span> <span class="token keyword">order</span> <span class="token keyword">by</span> chinese <span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>
<span class="token operator">|</span> å¼ é£   <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">63</span> <span class="token operator">|</span>      <span class="token number">53</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>   <span class="token number">50</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>


<span class="token comment"># é™åº</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&quot;å¼ %&quot;</span> <span class="token keyword">order</span> <span class="token keyword">by</span> chinese <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> chinese <span class="token operator">|</span> math <span class="token operator">|</span> english <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>
<span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>   <span class="token number">50</span> <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ é£   <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>   <span class="token number">63</span> <span class="token operator">|</span>      <span class="token number">53</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+------+---------+</span>

<span class="token comment"># æ ¹æ®æ€»åˆ†è¿›è¡Œå‡åºæ’åº as å¯ä»¥å®šä¹‰å±€éƒ¨å˜é‡</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span><span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span> <span class="token keyword">as</span> total_sorce <span class="token keyword">from</span> student <span class="token keyword">order</span> <span class="token keyword">by</span> total_sorce<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> name      <span class="token operator">|</span> total_sorce <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> è€æ      <span class="token operator">|</span>         <span class="token number">120</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‰¹æœ—æ™®    <span class="token operator">|</span>         <span class="token number">160</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ é£      <span class="token operator">|</span>         <span class="token number">176</span> <span class="token operator">|</span>
<span class="token operator">|</span> è”¡è€ç‹—    <span class="token operator">|</span>         <span class="token number">190</span> <span class="token operator">|</span>
<span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>         <span class="token number">200</span> <span class="token operator">|</span>
<span class="token operator">|</span> æå››      <span class="token operator">|</span>         <span class="token number">230</span> <span class="token operator">|</span>
<span class="token operator">|</span> è€éŸ©      <span class="token operator">|</span>         <span class="token number">240</span> <span class="token operator">|</span>
<span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>         <span class="token number">279</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="count-åˆå¹¶ã€ç»Ÿè®¡å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#count-åˆå¹¶ã€ç»Ÿè®¡å‡½æ•°" aria-hidden="true">#</a> Count-åˆå¹¶ã€ç»Ÿè®¡å‡½æ•°</h3><p>è¯­æ³•ï¼š<code>select count(*)|count(åˆ—å) from è¡¨å [å¯é€‰ whereç­‰]</code></p><p>count(*)å’Œcount(åˆ—å)çš„åŒºåˆ«</p><ul><li>count(*) è¿”å›æ»¡è¶³æ¡ä»¶çš„è®°å½•çš„è¡Œæ•°ï¼Œä¸ä¼šæ’é™¤å€¼ä¸ºnullçš„ <ul><li>æ¯”å¦‚è¯´ä¸€ä¸ªäººå§“åå¹´é¾„ageä¹‹ç±»çš„æ‰€æœ‰ä¿¡æ¯éƒ½ä¸ºnullï¼Œä¾ç„¶ä¹Ÿä¼šè®¡å…¥+1</li></ul></li><li>count(åˆ—å) ç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„æŸåˆ—æœ‰å¤šå°‘ä¸ªï¼Œä¼šæ’é™¤å€¼ä¸ºnullçš„ <ul><li>æ¯”å¦‚è¯´è¦ç»Ÿè®¡age ç„¶åæœ‰ä¸€ä¸ªäººçš„ageä¸ºnullï¼Œåˆ™è¿™ä¸ªäººå°†ä¸ä¼šç®—å…¥å…¶ä¸­ï¼Œä¸ä¼š+1</li></ul></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#ç»Ÿè®¡å­¦ç”Ÿè¡¨å…±æœ‰å¤šå°‘è¡Œ</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> count <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span> count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span>     <span class="token number">8</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>

<span class="token comment"># ç»Ÿè®¡æ•°å­¦æˆç»©å¤§äºç­‰äº80çš„å­¦ç”Ÿæœ‰å¤šå°‘</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> <span class="token keyword">as</span> count <span class="token keyword">from</span> student <span class="token keyword">where</span> math <span class="token operator">&gt;=</span><span class="token number">80</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span> count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>

<span class="token comment"># ç»Ÿè®¡æ€»åˆ†å¤§äº200çš„äººæ•°æœ‰å¤šå°‘</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">200</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+</span>
<span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+</span>
<span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sum-åˆè®¡å‡½æ•°-è®¡ç®—æ•°å€¼çš„æ€»åˆ" tabindex="-1"><a class="header-anchor" href="#sum-åˆè®¡å‡½æ•°-è®¡ç®—æ•°å€¼çš„æ€»åˆ" aria-hidden="true">#</a> SUM- åˆè®¡å‡½æ•°-è®¡ç®—æ•°å€¼çš„æ€»åˆ</h3><p>è¯¥å‡½æ•°æ»¡è¶³whereæ¡ä»¶çš„è¡Œçš„å’Œï¼Œä¸€èˆ¬ç”¨äºæ•°å€¼åˆ—</p><p>è¯­æ³•ï¼š<code>select sum(åˆ—å)ï¼Œ{sum(åˆ—å)...} from è¡¨å [whereç­›é€‰å™¨]</code></p><p>åªèƒ½å¯¹æ•°å€¼ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># è®¡ç®—æ•°å­¦çš„æ€»æˆç»©</span>
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> <span class="token string">&quot;æ•°å­¦&quot;</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> æ•°å­¦   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span>    <span class="token number">542</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>

<span class="token comment">#ç»Ÿè®¡è¯­æ–‡ï¼Œæ•°å­¦ï¼Œè‹±è¯­å„ç§‘çš„æ€»æˆç»©</span>
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>chinese<span class="token punctuation">)</span> <span class="token string">&quot;è¯­æ–‡&quot;</span><span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> <span class="token string">&quot;æ•°å­¦&quot;</span><span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>english<span class="token punctuation">)</span> <span class="token string">&quot;è‹±è¯­&quot;</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+--------+</span>
<span class="token operator">|</span> è¯­æ–‡   <span class="token operator">|</span> æ•°å­¦   <span class="token operator">|</span> è‹±è¯­   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+--------+</span>
<span class="token operator">|</span>    <span class="token number">445</span> <span class="token operator">|</span>    <span class="token number">542</span> <span class="token operator">|</span>    <span class="token number">608</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+--------+</span>

<span class="token comment">#ç»Ÿè®¡è¯­æ–‡æ•°å­¦è‹±è¯­çš„æˆç»©æ€»å’Œ</span>
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span> <span class="token string">&quot;æ€»åˆ†&quot;</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> æ€»åˆ†   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span>   <span class="token number">1595</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>


<span class="token comment">#ç»Ÿè®¡å¹³å‡åˆ†</span>
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">&quot;å¹³å‡åˆ†&quot;</span> <span class="token keyword">from</span> student <span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token operator">|</span> å¹³å‡åˆ†    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token operator">|</span>  <span class="token number">199.3750</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="avg-åˆè®¡å‡½æ•°-æ±‚å¹³å‡å€¼" tabindex="-1"><a class="header-anchor" href="#avg-åˆè®¡å‡½æ•°-æ±‚å¹³å‡å€¼" aria-hidden="true">#</a> AVG-åˆè®¡å‡½æ•°-æ±‚å¹³å‡å€¼</h3><p>è¿”å›æ»¡è¶³whereæ¡ä»¶çš„ä¸€åˆ—çš„å¹³å‡å€¼</p><p>è¯­æ³•ï¼š<code>select avg(åˆ—å){avg(åˆ—å)...} from è¡¨å [where]</code></p><p>åªèƒ½å¯¹æ•°å€¼ä½¿ç”¨</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æ±‚æ•°å­¦å¹³å‡åˆ†;</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;æ•°å­¦å¹³å‡åˆ†&quot;</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------+</span>
<span class="token operator">|</span> æ•°å­¦å¹³å‡åˆ†       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+</span>
<span class="token operator">|</span>         <span class="token number">67.7500</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+</span>

<span class="token comment"># æ€»å¹³å‡åˆ†</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;æ€»å¹³å‡åˆ†&quot;</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> æ€»å¹³å‡åˆ†      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span>     <span class="token number">199.3750</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="max-min-åˆè®¡å‡½æ•°-è¿”å›æœ€å¤§æœ€å°å€¼" tabindex="-1"><a class="header-anchor" href="#max-min-åˆè®¡å‡½æ•°-è¿”å›æœ€å¤§æœ€å°å€¼" aria-hidden="true">#</a> Max/Min-åˆè®¡å‡½æ•°-è¿”å›æœ€å¤§æœ€å°å€¼</h3><p>è¿”å›æ»¡è¶³whereæ¡ä»¶åˆ—çš„æœ€å¤§ã€æœ€å°å€¼</p><p>è¯­æ³•ï¼š<code>select max|min(åˆ—å) from è¡¨å [where]</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#æ±‚ä¸€ä¸ªç­çº§çš„æ€»æœ€é«˜åˆ†å’Œæ€»æœ€ä½åˆ†</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span> <span class="token string">&quot;æœ€é«˜åˆ†&quot;</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>chinese<span class="token operator">+</span>math<span class="token operator">+</span>english<span class="token punctuation">)</span> <span class="token string">&quot;æœ€ä½åˆ†&quot;</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+-----------+</span>
<span class="token operator">|</span> æœ€é«˜åˆ†    <span class="token operator">|</span> æœ€ä½åˆ†    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-----------+</span>
<span class="token operator">|</span>       <span class="token number">279</span> <span class="token operator">|</span>       <span class="token number">120</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-----------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="group-by-having-åˆ†ç»„-è¿‡æ»¤" tabindex="-1"><a class="header-anchor" href="#group-by-having-åˆ†ç»„-è¿‡æ»¤" aria-hidden="true">#</a> Group By+Having-åˆ†ç»„+è¿‡æ»¤</h3><p>è¯­æ³•ï¼š<code>select å­—æ®µ1,å­—æ®µ2,... from è¡¨å [whereç­›é€‰å™¨] group by å­—æ®µ</code></p><p>å¯é€‰ï¼Œä½¿ç”¨havingå­—å¥å¯¹åˆ†ç»„åçš„ç»“æœè¿›è¡Œè¿‡æ»¤ ä¸€èˆ¬æƒ…å†µä¸‹group byå’Œhavingæ˜¯å½¢å½±ä¸ç¦»çš„</p><p><code>select å­—æ®µ1,å­—æ®µ2,... from è¡¨å group by å­—æ®µ having...</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># å…ˆåˆ†åˆ«å»ºç«‹å¥½å‡ å¼ è¡¨</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> dept<span class="token punctuation">(</span> <span class="token comment">/*éƒ¨é—¨è¡¨*/</span>
 deptno <span class="token keyword">MEDIUMINT</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">,</span>
    dname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    loc <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> dept <span class="token keyword">values</span>
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&quot;ACCOUNTING&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;NEW Work&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&quot;RESEARCH&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;DALLAS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">&quot;SALES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CHICAGO&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string">&quot;OPERATIONS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;BOSTON&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># å‘˜å·¥è¡¨</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp<span class="token punctuation">(</span>
 empno <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">/*ç¼–å·*/</span>
    ename <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token comment">/*åå­—*/</span>
    job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token comment">/*å·¥ä½œ*/</span>
    mgr <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span><span class="token punctuation">,</span><span class="token comment">/*ä¸Šçº§ç¼–å·*/</span>
    hiredate <span class="token keyword">DATE</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">/*å…¥èŒæ—¶é—´*/</span>
    sal <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">/*è–ªæ°´*/</span>
    comm <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">/*çº¢åˆ©*/</span>
    deptno <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token comment">/*éƒ¨é—¨ç¼–å·*/</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp <span class="token keyword">values</span>
 <span class="token punctuation">(</span><span class="token number">7369</span><span class="token punctuation">,</span><span class="token string">&#39;SMITH&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;CLERK&#39;</span><span class="token punctuation">,</span><span class="token number">7902</span><span class="token punctuation">,</span><span class="token string">&#39;1990-12-17&#39;</span><span class="token punctuation">,</span><span class="token number">800.00</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7521</span><span class="token punctuation">,</span><span class="token string">&#39;WARD&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;SALESMAN&#39;</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">&#39;1991-2-20&#39;</span><span class="token punctuation">,</span><span class="token number">1600.00</span><span class="token punctuation">,</span><span class="token number">300.00</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7566</span><span class="token punctuation">,</span><span class="token string">&#39;JONES&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;SALESMAN&#39;</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">&#39;1991-2-22&#39;</span><span class="token punctuation">,</span><span class="token number">2100.02</span><span class="token punctuation">,</span><span class="token number">500.00</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7654</span><span class="token punctuation">,</span><span class="token string">&#39;MARTIN&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MANAGER&#39;</span><span class="token punctuation">,</span><span class="token number">7939</span><span class="token punctuation">,</span><span class="token string">&#39;1991-9-28&#39;</span><span class="token punctuation">,</span><span class="token number">645.20</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7782</span><span class="token punctuation">,</span><span class="token string">&#39;BLACK&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;SALESMAN&#39;</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">&#39;1995-10-17&#39;</span><span class="token punctuation">,</span><span class="token number">625.00</span><span class="token punctuation">,</span><span class="token number">1250.00</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7788</span><span class="token punctuation">,</span><span class="token string">&#39;COALK&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MANAGER&#39;</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">&#39;1997-4-19&#39;</span><span class="token punctuation">,</span><span class="token number">3954.20</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7839</span><span class="token punctuation">,</span><span class="token string">&#39;SOCTT&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MANAGER&#39;</span><span class="token punctuation">,</span><span class="token number">7939</span><span class="token punctuation">,</span><span class="token string">&#39;1991-12-3&#39;</span><span class="token punctuation">,</span><span class="token number">2681.30</span><span class="token punctuation">,</span><span class="token number">2450.00</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7844</span><span class="token punctuation">,</span><span class="token string">&#39;KING&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ANALYST&#39;</span><span class="token punctuation">,</span><span class="token number">7566</span><span class="token punctuation">,</span><span class="token string">&#39;1992-5-7&#39;</span><span class="token punctuation">,</span><span class="token number">1564.60</span><span class="token punctuation">,</span><span class="token number">211.00</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7900</span><span class="token punctuation">,</span><span class="token string">&#39;TURNER&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;PRESIDENT&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;1888-1-1&#39;</span><span class="token punctuation">,</span><span class="token number">2435.00</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7902</span><span class="token punctuation">,</span><span class="token string">&#39;JAMES&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;CLERK&#39;</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">&#39;1996-1-13&#39;</span><span class="token punctuation">,</span><span class="token number">433.10</span><span class="token punctuation">,</span><span class="token number">255.52</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7934</span><span class="token punctuation">,</span><span class="token string">&#39;FORD&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ANALYST&#39;</span><span class="token punctuation">,</span><span class="token number">7566</span><span class="token punctuation">,</span><span class="token string">&#39;1990-6-3&#39;</span><span class="token punctuation">,</span><span class="token number">6321.50</span><span class="token punctuation">,</span><span class="token number">153.025</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">7966</span><span class="token punctuation">,</span><span class="token string">&#39;MILLER&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;CLERK&#39;</span><span class="token punctuation">,</span><span class="token number">7782</span><span class="token punctuation">,</span><span class="token string">&#39;1991-10-12&#39;</span><span class="token punctuation">,</span><span class="token number">735.05</span><span class="token punctuation">,</span><span class="token number">453.25</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#å·¥èµ„çº§åˆ«è¡¨</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> salgrade<span class="token punctuation">(</span>
 grade <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">/*å·¥èµ„çº§åˆ«*/</span>
    losal <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">/*è¯¥çº§åˆ«çš„æœ€ä½å·¥èµ„*/</span>
    hisal <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token comment">/*è¯¥çº§åˆ«çš„æœ€é«˜å·¥èµ„*/</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade <span class="token keyword">values</span>
 <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">700</span><span class="token punctuation">,</span><span class="token number">1200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1201</span><span class="token punctuation">,</span><span class="token number">1400</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1401</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2001</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3001</span><span class="token punctuation">,</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥ä½¿ç”¨Group By+Havingå®Œæˆä¸€ç³»åˆ—æ“ä½œ</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æ˜¾ç¤ºæ¯ä¸ªéƒ¨é—¨çš„å¹³å‡å’Œæœ€é«˜å·¥èµ„,æŒ‰ç…§éƒ¨é—¨æ¥åˆ†ç»„æŸ¥è¯¢ å¹¶ä»ä½åˆ°é«˜æ’åº</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token string">&quot;å¹³å‡å·¥èµ„&quot;</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token string">&quot;æœ€é«˜å·¥èµ„&quot;</span><span class="token punctuation">,</span>deptno <span class="token string">&quot;éƒ¨é—¨åˆ†ç»„&quot;</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno <span class="token keyword">order</span> <span class="token keyword">by</span> deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+</span>
<span class="token operator">|</span> å¹³å‡å·¥èµ„       <span class="token operator">|</span> æœ€é«˜å·¥èµ„      <span class="token operator">|</span> éƒ¨é—¨åˆ†ç»„      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+</span>
<span class="token operator">|</span>  <span class="token number">3946.766667</span> <span class="token operator">|</span>      <span class="token number">6321.50</span> <span class="token operator">|</span>           <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1004.950000</span> <span class="token operator">|</span>      <span class="token number">2681.30</span> <span class="token operator">|</span>           <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1690.005000</span> <span class="token operator">|</span>      <span class="token number">2435.00</span> <span class="token operator">|</span>           <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+</span>

<span class="token comment">#æ˜¾ç¤º æ¯ä¸ªéƒ¨é—¨ çš„ æ¯ç§å²—ä½ çš„ å¹³å‡å·¥èµ„ å’Œ æœ€ä½å·¥èµ„</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token string">&quot;å¹³å‡å·¥èµ„&quot;</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token string">&quot;æœ€ä½å·¥èµ„&quot;</span><span class="token punctuation">,</span>deptno <span class="token string">&quot;éƒ¨é—¨åˆ†ç»„&quot;</span><span class="token punctuation">,</span>job <span class="token string">&quot;å²—ä½&quot;</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">,</span>job <span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+-----------+</span>
<span class="token operator">|</span> å¹³å‡å·¥èµ„      <span class="token operator">|</span> æœ€ä½å·¥èµ„      <span class="token operator">|</span> éƒ¨é—¨åˆ†ç»„       <span class="token operator">|</span> å²—ä½      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+-----------+</span>
<span class="token operator">|</span>   <span class="token number">675.800000</span> <span class="token operator">|</span>       <span class="token number">433.10</span> <span class="token operator">|</span>           <span class="token number">20</span> <span class="token operator">|</span> CLERK     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1441.673333</span> <span class="token operator">|</span>       <span class="token number">625.00</span> <span class="token operator">|</span>           <span class="token number">30</span> <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1663.250000</span> <span class="token operator">|</span>       <span class="token number">645.20</span> <span class="token operator">|</span>           <span class="token number">20</span> <span class="token operator">|</span> MANAGER   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3954.200000</span> <span class="token operator">|</span>      <span class="token number">3954.20</span> <span class="token operator">|</span>           <span class="token number">10</span> <span class="token operator">|</span> MANAGER   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3943.050000</span> <span class="token operator">|</span>      <span class="token number">1564.60</span> <span class="token operator">|</span>           <span class="token number">10</span> <span class="token operator">|</span> ANALYST   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2435.000000</span> <span class="token operator">|</span>      <span class="token number">2435.00</span> <span class="token operator">|</span>           <span class="token number">30</span> <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+-----------+</span>

<span class="token comment"># æ˜¾ç¤ºå¹³å‡å·¥èµ„ä½äº2000çš„éƒ¨é—¨å·å’Œå®ƒçš„å¹³å‡å·¥èµ„ ä½¿ç”¨äº†having</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> sal_avg<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno <span class="token keyword">having</span> sal_avg<span class="token operator">&lt;</span><span class="token number">2000</span> <span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+--------+</span>
<span class="token operator">|</span> sal_avg     <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+--------+</span>
<span class="token operator">|</span> <span class="token number">1004.950000</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1690.005000</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+--------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+A+'" alt="image-20211121154510850" tabindex="0" loading="lazy"><figcaption>image-20211121154510850</figcaption></figure><h2 id="å­—ç¬¦ä¸²å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²å‡½æ•°" aria-hidden="true">#</a> å­—ç¬¦ä¸²å‡½æ•°</h2><figure><img src="'+N+`" alt="image-20211121154625191" tabindex="0" loading="lazy"><figcaption>image-20211121154625191</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#è¿”å›å­—ä¸²å­—ç¬¦é›†</span>
<span class="token keyword">select</span> <span class="token keyword">charset</span><span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token comment">#utf8mb3å°±æ˜¯utf8</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token operator">|</span> <span class="token keyword">charset</span><span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">|</span> utf8mb3        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>

<span class="token comment">#æ‹¼æ¥å­—æ®µ</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span>ename<span class="token punctuation">,</span><span class="token string">&quot;å·¥ä½œæ˜¯&quot;</span><span class="token punctuation">,</span>job<span class="token punctuation">)</span> <span class="token string">&quot;å§“åå’Œå·¥ä½œ&quot;</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------------+</span>
<span class="token operator">|</span> å§“åå’Œå·¥ä½œ               <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------------+</span>
<span class="token operator">|</span> SMITHå·¥ä½œæ˜¯CLERK         <span class="token operator">|</span>
<span class="token operator">|</span> WARDå·¥ä½œæ˜¯SALESMAN       <span class="token operator">|</span>
<span class="token operator">|</span> JONESå·¥ä½œæ˜¯SALESMAN      <span class="token operator">|</span>
<span class="token operator">|</span> MARTINå·¥ä½œæ˜¯MANAGER      <span class="token operator">|</span>
<span class="token operator">|</span> BLACKå·¥ä½œæ˜¯SALESMAN      <span class="token operator">|</span>
<span class="token operator">|</span> COALKå·¥ä½œæ˜¯MANAGER       <span class="token operator">|</span>
<span class="token operator">|</span> SOCTTå·¥ä½œæ˜¯MANAGER       <span class="token operator">|</span>
<span class="token operator">|</span> KINGå·¥ä½œæ˜¯ANALYST        <span class="token operator">|</span>
<span class="token operator">|</span> TURNERå·¥ä½œæ˜¯PRESIDENT    <span class="token operator">|</span>
<span class="token operator">|</span> JAMESå·¥ä½œæ˜¯CLERK         <span class="token operator">|</span>
<span class="token operator">|</span> FORDå·¥ä½œæ˜¯ANALYST        <span class="token operator">|</span>
<span class="token operator">|</span> MILLERå·¥ä½œæ˜¯CLERK        <span class="token operator">|</span>
<span class="token operator">|</span> MILLERå·¥ä½œæ˜¯CLERK        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------------+</span>

<span class="token comment"># æŸ¥è¯¢  å­—æ®µ2 åœ¨å­—æ®µ1ä¸­å‡ºç°çš„ä½ç½®ï¼Œæ²¡æœ‰åˆ™è¿”å›0</span>
<span class="token keyword">select</span> instr<span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------------------+</span>
<span class="token operator">|</span> instr<span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------------+</span>
<span class="token operator">|</span>                            <span class="token number">7</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------------+</span>

<span class="token comment">#è½¬æ¢æˆå°å†™</span>
<span class="token keyword">select</span> <span class="token function">lcase</span><span class="token punctuation">(</span><span class="token string">&quot;ABCEDf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------+</span>
<span class="token operator">|</span> <span class="token function">lcase</span><span class="token punctuation">(</span><span class="token string">&quot;ABCEDf&quot;</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+</span>
<span class="token operator">|</span> abcedf          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+</span>

<span class="token comment">#è½¬æ¢æˆå¤§å†™</span>
<span class="token keyword">select</span> <span class="token function">ucase</span><span class="token punctuation">(</span><span class="token string">&quot;dlkjkl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------+</span>
<span class="token operator">|</span> <span class="token function">lcase</span><span class="token punctuation">(</span><span class="token string">&quot;ABCEDf&quot;</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+</span>
<span class="token operator">|</span> abcedf          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------+</span>

<span class="token comment">#ä»æŸä¸ªå­—ç¬¦ä¸²å–nä¸ªå­—ç¬¦å‡ºæ¥ï¼ˆå·¦è¾¹å¼€å§‹å–ï¼‰</span>
<span class="token keyword">select</span> <span class="token keyword">left</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> <span class="token keyword">left</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>
<span class="token operator">|</span> hell                  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+</span>

<span class="token comment">#right å’Œä¸Šæ–¹åŒç†ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹å–</span>


<span class="token comment"># è¿”å›strçš„é•¿åº¦ ï¼ˆæŒ‰ç…§å­—èŠ‚ï¼‰</span>
<span class="token keyword">select</span> length<span class="token punctuation">(</span><span class="token string">&quot;ä¸–ç•Œä½ å¥½&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------------+</span>
<span class="token operator">|</span> length<span class="token punctuation">(</span><span class="token string">&quot;ä¸–ç•Œä½ å¥½&quot;</span><span class="token punctuation">)</span>     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------+</span>
<span class="token operator">|</span>                     <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------+</span>

<span class="token comment"># å°†hello world ä¸­çš„hello æ›¿æ¢ä¸º ä½ å¥½</span>
<span class="token keyword">select</span> <span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ä½ å¥½&quot;</span><span class="token punctuation">)</span> <span class="token string">&quot;Replace&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> <span class="token keyword">Replace</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> ä½ å¥½ world   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>

<span class="token comment">#é€å­—ç¬¦æ¯”è¾ƒä¸¤å­—ç¬¦ä¸²å¤§å°;</span>
<span class="token keyword">select</span> strcmp<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment"># è¿”å›0</span>
<span class="token keyword">select</span> strcmp<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;jello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># -1 å³è¾¹æ¯”å·¦è¾¹å¤§è¿”å›è´Ÿæ•°ï¼Œå·¦è¾¹æ¯”å³è¾¹å¤§è¿”å›æ­£æ•°</span>

<span class="token comment">#æˆªå–å­—ç¬¦ä¸²--&gt;æˆ‘æƒ³ä»helloä¸­æˆªå–ell---&gt; string,startindex,length</span>
<span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------------+</span>
<span class="token operator">|</span> substring<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------+</span>
<span class="token operator">|</span> ell                    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------+</span>
<span class="token comment">#æˆªå–ç¬¬äºŒä½å¼€å§‹åŠåé¢æ‰€æœ‰---&gt; string,startindex</span>
<span class="token operator">+</span><span class="token comment">----------------------+</span>
<span class="token operator">|</span> substring<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------+</span>
<span class="token operator">|</span> ello                 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------+</span>

<span class="token comment"># å–å‡ºå‰ç«¯ç©ºæ ¼ ltrim å³ç«¯ç©ºæ ¼ rtrim å‰åç«¯ç©ºæ ¼ä¸€èµ·å»é™¤ trim</span>
<span class="token keyword">select</span> trim<span class="token punctuation">(</span><span class="token string">&quot;  æµ‹è¯•   &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> trim<span class="token punctuation">(</span><span class="token string">&quot;  æµ‹è¯•   &quot;</span><span class="token punctuation">)</span>   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> æµ‹è¯•                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>


<span class="token comment"># ä»¥é¦–å­—æ¯å¤§å†™ï¼Œå…¶ä½™å­—æ¯å°å†™çš„å½¢å¼æ˜¾ç¤ºæ‰€æœ‰å‘˜å·¥å</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token function">ucase</span><span class="token punctuation">(</span><span class="token keyword">left</span><span class="token punctuation">(</span>ename<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">lcase</span><span class="token punctuation">(</span>substring<span class="token punctuation">(</span>ename<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token string">&quot;å‘˜å·¥å§“å&quot;</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> å‘˜å·¥å§“å     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> Smith        <span class="token operator">|</span>
<span class="token operator">|</span> Ward         <span class="token operator">|</span>
<span class="token operator">|</span> Jones        <span class="token operator">|</span>
<span class="token operator">|</span> Martin       <span class="token operator">|</span>
<span class="token operator">|</span> Black        <span class="token operator">|</span>
<span class="token operator">|</span> Coalk        <span class="token operator">|</span>
<span class="token operator">|</span> Soctt        <span class="token operator">|</span>
<span class="token operator">|</span> King         <span class="token operator">|</span>
<span class="token operator">|</span> Turner       <span class="token operator">|</span>
<span class="token operator">|</span> James        <span class="token operator">|</span>
<span class="token operator">|</span> Ford         <span class="token operator">|</span>
<span class="token operator">|</span> Miller       <span class="token operator">|</span>
<span class="token operator">|</span> Miller       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°å­¦ç›¸å…³å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æ•°å­¦ç›¸å…³å‡½æ•°" aria-hidden="true">#</a> æ•°å­¦ç›¸å…³å‡½æ•°</h2><figure><img src="`+_+`" alt="image-20211121163030748" tabindex="0" loading="lazy"><figcaption>image-20211121163030748</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æ¯”è¾ƒç®€å•çš„è¿™é‡Œä¸å†™äº†ï¼Œå†™ä¸€äº›çœ‹èµ·æ¥éš¾ç†è§£çš„</span>

<span class="token comment">#å°†10è¿›åˆ¶çš„8ï¼Œè½¬æ¢æˆ2è¿›åˆ¶è¾“å‡º</span>
<span class="token keyword">select</span> conv<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> conv<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> <span class="token number">1000</span>         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token comment">#å°†16è¿›åˆ¶çš„9ï¼Œè½¬æ¢ä¸º2è¿›åˆ¶è¾“å‡º</span>
<span class="token keyword">select</span> conv<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> conv<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> <span class="token number">1001</span>         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>

<span class="token comment">#å°†2è¿›åˆ¶çš„10001ï¼Œè½¬æ¢æˆ10è¿›åˆ¶</span>
<span class="token keyword">select</span> conv<span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>
<span class="token operator">|</span> conv<span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>
<span class="token operator">|</span> <span class="token number">17</span>               <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>

<span class="token comment"># ä¿ç•™å°æ•°ä½æ•° åªä¿ç•™ä¸¤ä½ï¼ˆè‡ªåŠ¨å››èˆäº”å…¥ï¼‰</span>
<span class="token keyword">select</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token number">78.12543</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token number">78.12543</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token number">78.13</span>              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>


<span class="token comment"># å– 1 -1 5 15 35 0 -200 ä¹‹ä¸­æœ€å°çš„å€¼</span>
<span class="token keyword">select</span> least<span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">,</span><span class="token number">15</span> <span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">200</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------------------------+</span>
<span class="token operator">|</span> least<span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">,</span><span class="token number">15</span> <span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">200</span> <span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------------------+</span>
<span class="token operator">|</span>                               <span class="token operator">-</span><span class="token number">200</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment"># ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼ŒèŒƒå›´åœ¨0&lt;=number&lt;=1.0</span>
<span class="token keyword">select</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token number">0.3412554928485821</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+ </span>

<span class="token comment"># å¯ä»¥é€šè¿‡ç»™å®šç§å­ï¼Œè®©æ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°éƒ½ä¸€æ ·</span>
<span class="token keyword">select</span> rand<span class="token punctuation">(</span><span class="token number">232332323</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#æ— è®ºæ‰§è¡Œå¤šå°‘æ¬¡ï¼Œéƒ½å°†åªä¼šç”Ÿæˆ0.08963447072509162</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> rand<span class="token punctuation">(</span><span class="token number">232332323</span><span class="token punctuation">)</span>     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> <span class="token number">0.08963447072509162</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ—¶é—´æ—¥æœŸç›¸å…³å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æ—¶é—´æ—¥æœŸç›¸å…³å‡½æ•°" aria-hidden="true">#</a> æ—¶é—´æ—¥æœŸç›¸å…³å‡½æ•°</h2><figure><img src="`+x+'" alt="image-20211121165926182" tabindex="0" loading="lazy"><figcaption>image-20211121165926182</figcaption></figure><figure><img src="'+R+'" alt="image-20211121172736581" tabindex="0" loading="lazy"><figcaption>image-20211121172736581</figcaption></figure><figure><img src="'+M+'" alt="image-20211121172709333" tabindex="0" loading="lazy"><figcaption>image-20211121172709333</figcaption></figure><figure><img src="'+T+'" alt="image-20211121173857683" tabindex="0" loading="lazy"><figcaption>image-20211121173857683</figcaption></figure><figure><img src="'+I+`" alt="image-20211121173952348" tabindex="0" loading="lazy"><figcaption>image-20211121173952348</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> mes<span class="token punctuation">(</span>id <span class="token keyword">int</span><span class="token punctuation">,</span>content <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>send_time <span class="token keyword">DATETIME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#æ·»åŠ ä¸€æ¡è®°å½•ï¼Œæ—¶é—´ä¸ºå½“å‰æ—¶é—´</span>
<span class="token comment"># ä½¿ç”¨current_timestamp</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> mes <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;åŒ—äº¬æ–°é—»&quot;</span><span class="token punctuation">,</span><span class="token keyword">current_timestamp</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#ä½¿ç”¨now()</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> mes <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;ä¸Šæµ·æ–°é—»&quot;</span><span class="token punctuation">,</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+--------------+---------------------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> content      <span class="token operator">|</span> send_time           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------+---------------------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> åŒ—äº¬æ–°é—»     <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">21</span> <span class="token number">17</span>:<span class="token number">03</span>:<span class="token number">26</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> ä¸Šæµ·æ–°é—»     <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">21</span> <span class="token number">17</span>:<span class="token number">06</span>:<span class="token number">14</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------+---------------------+</span>


<span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰çš„æ–°é—»ä¿¡æ¯ï¼Œå’Œå‘å¸ƒæ—¥æœŸï¼Œåªæ˜¾ç¤ºæ—¥æœŸï¼Œä¸æ˜¾ç¤ºæ—¶é—´</span>
<span class="token keyword">select</span> content<span class="token punctuation">,</span><span class="token keyword">date</span><span class="token punctuation">(</span>send_time<span class="token punctuation">)</span> <span class="token keyword">from</span> mes<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+-----------------+</span>
<span class="token operator">|</span> content      <span class="token operator">|</span> <span class="token keyword">date</span><span class="token punctuation">(</span>send_time<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+-----------------+</span>
<span class="token operator">|</span> åŒ—äº¬æ–°é—»     <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">21</span>      <span class="token operator">|</span>
<span class="token operator">|</span> ä¸Šæµ·æ–°é—»     <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">21</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+-----------------+</span>

<span class="token comment"># æŸ¥è¯¢ååˆ†é’Ÿå†…å‘å¸ƒçš„æ–°é—»</span>
<span class="token comment"># 2021å¹´11æœˆ21æ—¥17:10:42</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mes <span class="token keyword">where</span> date_add<span class="token punctuation">(</span>send_time<span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">10</span> <span class="token keyword">minute</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------------+---------------------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> content      <span class="token operator">|</span> send_time           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------+---------------------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> åŒ—äº¬æ–°é—»     <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">21</span> <span class="token number">17</span>:<span class="token number">03</span>:<span class="token number">26</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> ä¸Šæµ·æ–°é—»     <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">21</span> <span class="token number">17</span>:<span class="token number">06</span>:<span class="token number">14</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------+---------------------+</span>


<span class="token comment"># 2011-11-1å’Œ1990-1-1ç›¸å·®å¤šå°‘å¤©</span>
<span class="token keyword">select</span> datediff<span class="token punctuation">(</span><span class="token string">&#39;2011-11-1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1990-1-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token operator">|</span> datediff<span class="token punctuation">(</span><span class="token string">&#39;2011-11-1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1990-1-1&#39;</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token operator">|</span>                             <span class="token number">7974</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>

<span class="token comment">#ä½¿ç”¨mysqlè¯­å¥ï¼ŒæŸ¥è¯¢è‡ªå·±æ´»äº†å¤šå°‘å¤©</span>
<span class="token keyword">select</span> datediff<span class="token punctuation">(</span><span class="token keyword">current_date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;2001-8-7&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
<span class="token operator">|</span> datediff<span class="token punctuation">(</span><span class="token keyword">current_date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;2001-8-7&#39;</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
<span class="token operator">|</span>                                <span class="token number">7411</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>

<span class="token comment">#å¦‚æœæˆ‘èƒ½æ´»åˆ°80å²ï¼Œç®—å‡ºæˆ‘è¿˜èƒ½æ´»å¤šå°‘å¤©</span>
<span class="token comment"># 80å²çš„å¹´ä»½</span>
<span class="token keyword">select</span> date_add<span class="token punctuation">(</span><span class="token string">&#39;2011-8-7&#39;</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">80</span> <span class="token keyword">year</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#80å²çš„å¹´ä»½-å·²ç»æ´»äº†çš„å¤©æ•°</span>
<span class="token keyword">select</span>  datediff<span class="token punctuation">(</span>date_add<span class="token punctuation">(</span><span class="token string">&#39;2011-8-7&#39;</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">80</span> <span class="token keyword">year</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------------------+</span>
<span class="token operator">|</span> datediff<span class="token punctuation">(</span>date_add<span class="token punctuation">(</span><span class="token string">&#39;2011-8-7&#39;</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">80</span> <span class="token keyword">year</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------------------+</span>
<span class="token operator">|</span>                                                 <span class="token number">25461</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------------------+</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åŠ å¯†å‡½æ•°å’Œç³»ç»Ÿå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#åŠ å¯†å‡½æ•°å’Œç³»ç»Ÿå‡½æ•°" aria-hidden="true">#</a> åŠ å¯†å‡½æ•°å’Œç³»ç»Ÿå‡½æ•°</h2><figure><img src="`+C+'" alt="image-20211121174113576" tabindex="0" loading="lazy"><figcaption>image-20211121174113576</figcaption></figure>',48),sn={href:"https://blog.csdn.net/rocky1996/article/details/75283826",target:"_blank",rel:"noopener noreferrer"},nn={href:"https://www.cnblogs.com/gjc592/p/9681093.html",target:"_blank",rel:"noopener noreferrer"},an=p(`<div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŸ¥è¯¢ç”¨æˆ·</span>
<span class="token comment">#  å¯ä»¥æŸ¥è¯¢åˆ°ç™»é™†åˆ°mysqlçš„æœ‰å“ªäº›ç”¨æˆ·ï¼Œä»¥åŠç™»é™†çš„IP</span>
<span class="token keyword">select</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token operator">|</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token operator">|</span> root<span class="token variable">@localhost</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------+ </span>

<span class="token comment">#æŸ¥è¯¢å½“å‰ä½¿ç”¨çš„æ•°æ®åº“åç§°</span>
<span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------+</span>
<span class="token operator">|</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+</span>
<span class="token operator">|</span> db1        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+</span>

<span class="token comment">#ä¸ºå­—ç¬¦ä¸²ç®—å‡ºä¸€ä¸ªmd5 32çš„å­—ç¬¦ä¸²ï¼Œå¸¸ç”¨çš„å¯¹ç”¨æˆ·å¯†ç çš„åŠ å¯†æ–¹å¼; å›ºå®šçš„ä¸‰åäºŒä½å­—ç¬¦</span>
<span class="token comment">#å½“ç„¶ï¼Œæ­£å¸¸å·¥ä½œä¸­ï¼Œè¿™ä¸ªmd5åŠ å¯†åŠ å¯†çš„æ˜¯å·²ç»åŠ å¯†çš„ç”¨æˆ·å¯†ç ï¼›ï¼ˆå¤šé‡å¥—å¨ƒåŠ å¯†ä¸€æ ·ï¼‰</span>
<span class="token keyword">select</span> md5<span class="token punctuation">(</span><span class="token number">123456789</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token operator">|</span> md5<span class="token punctuation">(</span><span class="token number">123456789</span><span class="token punctuation">)</span>                   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">25</span>f9e794323b453885f5181f1b624d0b <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> myuser<span class="token punctuation">(</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>password <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> myuser <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>md5<span class="token punctuation">(</span><span class="token number">123456879</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+----------------------------------+</span>
<span class="token operator">|</span> name  <span class="token operator">|</span> password                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+----------------------------------+</span>
<span class="token operator">|</span> admin <span class="token operator">|</span> <span class="token number">97</span>b290acab82d5937fb87a28b06181a3 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+----------------------------------+</span>

<span class="token comment">#ä¸€èˆ¬éªŒè¯ç”¨æˆ·çš„æ—¶å€™åº”è¯¥æ˜¯ ç±»ä¼¼äºè¿™æ ·çš„</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> myuser <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">&quot;admin&quot;</span> <span class="token operator">and</span> password<span class="token operator">=</span>md5<span class="token punctuation">(</span><span class="token number">123456879</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># password(str) åŠ å¯†å‡½æ•°</span>
<span class="token keyword">SELECT</span> PASSWORD<span class="token punctuation">(</span><span class="token string">&quot;123456789&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#å½“ç„¶ï¼Œmysql8.0å¼€å§‹å°±ç§»é™¤äº†è¿™ä¸ªå‡½æ•°ï¼Œä»Šå¤©åˆšåˆšå‘ç°çš„ï¼Œå¦‚æœå†ä½¿ç”¨PASSWORDä¼šæŠ¥é”™:You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near</span>
<span class="token comment">#å¯ä»¥ä½¿ç”¨SHA1æ›¿ä»£</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æµç¨‹æ§åˆ¶å‡½æ•°-if-ifnull-case" tabindex="-1"><a class="header-anchor" href="#æµç¨‹æ§åˆ¶å‡½æ•°-if-ifnull-case" aria-hidden="true">#</a> æµç¨‹æ§åˆ¶å‡½æ•°-IF-IFNULL-CASE</h2><p>ifç±»ä¼¼äºä¸‰å…ƒè¡¨è¾¾å¼</p><p>ifnullç±»ä¼¼äºif</p><p>caseç±»ä¼¼äº å¥—å¨ƒç‰ˆä¸‰å…ƒè¡¨è¾¾å¼</p><figure><img src="`+O+`" alt="image-20211121205018177" tabindex="0" loading="lazy"><figcaption>image-20211121205018177</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># ifè¯­å¥çš„åŸºæœ¬ä½¿ç”¨ï¼š</span>
<span class="token keyword">select</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&#39;åŒ—äº¬&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ä¸Šæµ·&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&#39;åŒ—äº¬&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ä¸Šæµ·&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------------------+-----------------------------+</span>
<span class="token operator">|</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&#39;åŒ—äº¬&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ä¸Šæµ·&#39;</span><span class="token punctuation">)</span>     <span class="token operator">|</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&#39;åŒ—äº¬&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ä¸Šæµ·&#39;</span><span class="token punctuation">)</span>     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------+-----------------------------+</span>
<span class="token operator">|</span> åŒ—äº¬                       <span class="token operator">|</span> ä¸Šæµ·                        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------+-----------------------------+</span>

<span class="token comment"># ifnull</span>
<span class="token keyword">select</span> ifnull<span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ifnull<span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------------+-------------------------+</span>
<span class="token operator">|</span> ifnull<span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span> <span class="token operator">|</span> ifnull<span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------+-------------------------+</span>
<span class="token operator">|</span> hello                <span class="token operator">|</span> world                   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------+-------------------------+</span>

<span class="token comment"># è¿›é˜¶ä½¿ç”¨åŠwhen caseçš„ç”¨æ³•ï¼šæ•°æ®æºï¼š</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span>  <span class="token number">645.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> BLACK  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1995</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">625.00</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> COALK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1997</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> SOCTT  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">07</span> <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>  <span class="token number">211.00</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1888</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1996</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">13</span> <span class="token operator">|</span>  <span class="token number">433.10</span> <span class="token operator">|</span>  <span class="token number">255.52</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>  <span class="token number">153.03</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7966</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">12</span> <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>  <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7966</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">12</span> <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>  <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>


<span class="token comment"># æŸ¥è¯¢empè¡¨ï¼Œå¦‚æœcommæ˜¯nullï¼Œåˆ™æ˜¾ç¤º0</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span> IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token keyword">as</span> comm<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token comment"># æˆ–è€…</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span> <span class="token keyword">IF</span><span class="token punctuation">(</span>comm <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token keyword">as</span> comm<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+---------+--------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+---------+--------+</span>
<span class="token operator">|</span> SMITH  <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token number">0.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span>  <span class="token number">645.20</span> <span class="token operator">|</span>    <span class="token number">0.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLACK  <span class="token operator">|</span>  <span class="token number">625.00</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> COALK  <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>    <span class="token number">0.00</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT  <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>  <span class="token number">211.00</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>    <span class="token number">0.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span>  <span class="token number">433.10</span> <span class="token operator">|</span>  <span class="token number">255.52</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>  <span class="token number">153.03</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>  <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>  <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+---------+--------+</span>

<span class="token comment"># å¦‚æœempè¡¨çš„jobæ˜¯CLERKåˆ™æ˜¾ç¤ºèŒå‘˜ï¼Œå¦‚æœæ˜¯MANAGERåˆ™æ˜¾ç¤ºç»ç†ï¼Œå¦‚æœæ˜¯SALESMANåˆ™æ˜¾ç¤ºé”€å”®äººå‘˜ï¼Œå…¶ä»–æ­£å¸¸æ˜¾ç¤º</span>
<span class="token comment"># ä½¿ç”¨ case when   æ³¨æ„ï¼Œè¿™ç©æ„ä½¿ç”¨çš„æ—¶å€™æ²¡æœ‰é€—å·çš„</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span><span class="token punctuation">(</span> <span class="token keyword">CASE</span> 
              <span class="token keyword">WHEN</span> job <span class="token operator">=</span> <span class="token string">&#39;CLERK&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;èŒå‘˜&#39;</span>
              <span class="token keyword">WHEN</span> job <span class="token operator">=</span> <span class="token string">&#39;MANAGER&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;ç»ç†&#39;</span>
              <span class="token keyword">WHEN</span> job <span class="token operator">=</span> <span class="token string">&#39;SALESMAN&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;é”€å”®äººå‘˜&#39;</span>
              <span class="token keyword">ELSE</span> job <span class="token keyword">end</span>
             <span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;job&quot;</span>
             <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> job          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------------+</span>
<span class="token operator">|</span> SMITH  <span class="token operator">|</span> èŒå‘˜         <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> é”€å”®äººå‘˜     <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> é”€å”®äººå‘˜     <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> ç»ç†         <span class="token operator">|</span>
<span class="token operator">|</span> BLACK  <span class="token operator">|</span> é”€å”®äººå‘˜     <span class="token operator">|</span>
<span class="token operator">|</span> COALK  <span class="token operator">|</span> ç»ç†         <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT  <span class="token operator">|</span> ç»ç†         <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> ANALYST      <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> PRESIDENT    <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span> èŒå‘˜         <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST      <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span> èŒå‘˜         <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span> èŒå‘˜         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å•è¡¨è¡¥å……-åŠ å¼ºæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#å•è¡¨è¡¥å……-åŠ å¼ºæŸ¥è¯¢" aria-hidden="true">#</a> å•è¡¨è¡¥å……-åŠ å¼ºæŸ¥è¯¢</h2><h3 id="whereæ¯”è¾ƒæ—¥æœŸ" tabindex="-1"><a class="header-anchor" href="#whereæ¯”è¾ƒæ—¥æœŸ" aria-hidden="true">#</a> Whereæ¯”è¾ƒæ—¥æœŸ</h3><p>åœ¨Mysqlä¸­ï¼Œæ—¥æœŸç±»å‹å¯ä»¥ç›´æ¥æ¯”è¾ƒ</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŸ¥æ‰¾1992.10.1åå…¥èŒçš„å‘˜å·¥-ä½¿ç”¨whereå®Œæˆ</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>hiredate <span class="token keyword">from</span> emp <span class="token keyword">where</span> hiredate<span class="token operator">&gt;</span><span class="token string">&#39;1992-10-1&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+------------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> hiredate   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------+</span>
<span class="token operator">|</span> BLACK <span class="token operator">|</span> <span class="token number">1995</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>
<span class="token operator">|</span> COALK <span class="token operator">|</span> <span class="token number">1997</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES <span class="token operator">|</span> <span class="token number">1996</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="likeæ¨¡ç³ŠæŸ¥è¯¢è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#likeæ¨¡ç³ŠæŸ¥è¯¢è§„åˆ™" aria-hidden="true">#</a> Likeæ¨¡ç³ŠæŸ¥è¯¢è§„åˆ™</h3><ul><li><code>%</code>è¡¨ç¤º0åˆ°å¤šä¸ªå­—ç¬¦</li><li><code>_</code>è¡¨ç¤ºå•ä¸ªå­—ç¬¦</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŸ¥æ‰¾é¦–å­—æ¯ä¸ºSçš„å‘˜å·¥å§“åå’Œå·¥èµ„ è¿™é‡Œå› ä¸ºè¡¨æ ¼æ˜¯éä¸¥æ ¼åŒ¹é…å¤§å°å†™çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨å°å†™çš„s</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">&#39;s%&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> SMITH <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>

<span class="token comment"># ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸ºAçš„æ‰€æœ‰å‘˜å·¥ è¿™é‡Œå› ä¸ºè¡¨æ ¼æ˜¯éä¸¥æ ¼åŒ¹é…å¤§å°å†™çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨å°å†™çš„a</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">&#39;__a%&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> BLACK <span class="token operator">|</span>  <span class="token number">625.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> COALK <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ¤æ–­å€¼æ˜¯å¦ä¸ºnull" tabindex="-1"><a class="header-anchor" href="#åˆ¤æ–­å€¼æ˜¯å¦ä¸ºnull" aria-hidden="true">#</a> åˆ¤æ–­å€¼æ˜¯å¦ä¸ºNULl</h3><p>ä½¿ç”¨ <code>select * from xxx where xxx IS NULL</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æ˜¾ç¤ºæ²¡æœ‰ä¸Šçº§é›‡å‘˜çš„æƒ…å†µ</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> mgr <span class="token operator">is</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1888</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+------+--------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æŸ¥è¯¢è¡¨çš„ç»“æ„" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢è¡¨çš„ç»“æ„" aria-hidden="true">#</a> æŸ¥è¯¢è¡¨çš„ç»“æ„</h3><p><code>desc è¡¨åç§°</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŸ¥çœ‹empè¡¨çš„è¡¨ç»“æ„;</span>
<span class="token keyword">desc</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+--------------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> Field    <span class="token operator">|</span> <span class="token keyword">Type</span>               <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+--------------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> empno    <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> ename    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>        <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span>         <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> job      <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>         <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span>         <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> mgr      <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> hiredate <span class="token operator">|</span> <span class="token keyword">date</span>               <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sal      <span class="token operator">|</span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>       <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> comm     <span class="token operator">|</span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>       <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> deptno   <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+--------------------+------+-----+---------+-------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="order-byæ’åº-å¤šé‡æ’åº" tabindex="-1"><a class="header-anchor" href="#order-byæ’åº-å¤šé‡æ’åº" aria-hidden="true">#</a> Order Byæ’åº-å¤šé‡æ’åº</h3><p>è¯­æ³•ï¼š<code>select * from è¡¨å [where] order by å­—æ®µ1 å­—æ®µ1æ’åºè§„åˆ™, å­—æ®µ2 å­—æ®µ2æ’åºè§„åˆ™...</code></p><p>å­—æ®µ1 ä¸­ç›¸åŒçš„æŒ‰ç…§å­—æ®µ2çš„æ’åºè§„åˆ™è¿›è¡Œæ’åº å­—æ®µ2ä¸­ç›¸åŒçš„å­—æ®µæŒ‰ç…§å­—æ®µ3çš„è§„åˆ™è¿›è¡Œæ’åº...ä»¥æ­¤ç±»æ¨</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŒ‰ç…§éƒ¨é—¨å·å‡åºè€Œé›‡å‘˜çš„å·¥èµ„é™åºçš„é¡ºåºæ’åˆ—</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> deptno<span class="token punctuation">,</span>sal <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+--------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+--------+</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> COALK  <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT  <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> SMITH  <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span>  <span class="token number">645.20</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span>  <span class="token number">433.10</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLACK  <span class="token operator">|</span>  <span class="token number">625.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+--------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="limit-åˆ†é¡µæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#limit-åˆ†é¡µæŸ¥è¯¢" aria-hidden="true">#</a> LIMIT åˆ†é¡µæŸ¥è¯¢</h3><p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œ<strong>åšä»»ä½•é¡¹ç›®æ—¶éƒ½è¦ç”¨åˆ°åˆ†é¡µ</strong>ï¼Œå› ä¸ºæ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸€å¼ è¡¨çš„æ•°æ®å¾€å¾€æ˜¯å‡ ä¸‡å‡ åä¸‡å‡ ç™¾ä¸‡ï¼Œä¸å¯èƒ½è¯´æ¯æ¬¡æŸ¥è¯¢éƒ½æŠŠå…¨éƒ¨æŸ¥è¯¢ä¸‹æ¥ï¼š</p><p>åŸºæœ¬è¯­æ³•ï¼š<code>select ... from è¡¨å [where order group ç­‰è¯­å¥] LIMIT ä½ç½®,æ•°é‡</code></p><p>ä½ç½®(index)ä»é›¶å¼€å§‹è®¡æ•°</p><p>å˜›ï¼Œä¹Ÿå°±æ˜¯è¯´ å®é™…ä¸Šæ˜¯index+1</p><ul><li>0,10ï¼Œè¡¨ç¤ºç¬¬ä¸€æ¡åˆ°ç¬¬åæ¡</li><li>10,20è¡¨ç¤ºç¬¬åä¸€æ¡åˆ°ç¬¬äºŒåæ¡</li><li>20ï¼Œ30è¡¨ç¤ºç¬¬äºŒåä¸€æ¡åˆ°ç¬¬ä¸‰åæ¡</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŒ‰ç…§å‘˜å·¥çš„idå·å‡åºå–å‡ºï¼Œæ¯é¡µæ˜¾ç¤ºä¸‰æ¡è®°å½•ï¼Œåˆ†åˆ«æ˜¾ç¤º1,2,3é¡µ</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span>  empno <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">#ç¬¬ä¸€é¡µ</span>
<span class="token operator">+</span><span class="token comment">-------+-------+----------+------+------------+---------+--------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename <span class="token operator">|</span> job      <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm   <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------+----------+------+------------+---------+--------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH <span class="token operator">|</span> CLERK    <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>   <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD  <span class="token operator">|</span> SALESMAN <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span> <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES <span class="token operator">|</span> SALESMAN <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span> <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------+----------+------+------------+---------+--------+--------+</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span>  empno <span class="token keyword">limit</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">#ç¬¬äºŒé¡µ</span>
<span class="token operator">+</span><span class="token comment">-------+--------+----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> MANAGER  <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span>  <span class="token number">645.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> BLACK  <span class="token operator">|</span> SALESMAN <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1995</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">625.00</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> COALK  <span class="token operator">|</span> MANAGER  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1997</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+----------+------+------------+---------+---------+--------+</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span>  empno <span class="token keyword">limit</span> <span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">#ç¬¬ä¸‰é¡µ</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> SOCTT  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">07</span> <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>  <span class="token number">211.00</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1888</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨åˆ†ç»„å‡½æ•°å’Œåˆ†ç»„å­—å¥ã€æµç¨‹æ§åˆ¶å¢å¼º-group-byã€if" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨åˆ†ç»„å‡½æ•°å’Œåˆ†ç»„å­—å¥ã€æµç¨‹æ§åˆ¶å¢å¼º-group-byã€if" aria-hidden="true">#</a> ä½¿ç”¨åˆ†ç»„å‡½æ•°å’Œåˆ†ç»„å­—å¥ã€æµç¨‹æ§åˆ¶å¢å¼º GROUP BYã€IF</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æ˜¾ç¤º æ¯ç§å²—ä½ çš„ é›‡å‘˜æ€»æ•°ã€å¹³å‡å·¥èµ„</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+-------------+</span>
<span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+-------------+</span>
<span class="token operator">|</span>        <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">1004.950000</span> <span class="token operator">|</span>
<span class="token operator">|</span>        <span class="token number">4</span> <span class="token operator">|</span> <span class="token number">1690.005000</span> <span class="token operator">|</span>
<span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">3946.766667</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+-------------+</span>

<span class="token comment"># æ˜¾ç¤º é›‡å‘˜æ€»æ•° ä»¥åŠ æ²¡æœ‰è·å¾—è¡¥åŠ© çš„å‘˜å·¥æ•°</span>
<span class="token comment"># count æŸåˆ— å¦‚æœè¯¥åˆ—çš„å€¼ä¸ºnullï¼Œæ˜¯ä¸ä¼šåŠ å…¥ç»Ÿè®¡çš„</span>

<span class="token comment"># æ–¹æ³•1</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">if</span><span class="token punctuation">(</span>comm <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+--------------------------------+</span>
<span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">if</span><span class="token punctuation">(</span>comm <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+--------------------------------+</span>
<span class="token operator">|</span>       <span class="token number">13</span> <span class="token operator">|</span>                              <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+--------------------------------+</span>

<span class="token comment"># æ–¹æ³•2</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">count</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+----------------------+</span>
<span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">count</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+----------------------+</span>
<span class="token operator">|</span>       <span class="token number">13</span> <span class="token operator">|</span>                    <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+----------------------+</span>

<span class="token comment"># æ˜¾ç¤ºç®¡ç†è€…çš„æ€»äººæ•°(mgr)</span>
<span class="token comment"># count å»null distinct å»é‡</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> mgr<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> mgr<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span>                   <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>

<span class="token comment"># æ˜¾ç¤ºé›‡å‘˜çš„å·¥èµ„çš„æœ€å¤§å·®é¢</span>

<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span>             <span class="token number">5888.40</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="group-having-limit-order-çš„ä½¿ç”¨é¡ºåº" tabindex="-1"><a class="header-anchor" href="#group-having-limit-order-çš„ä½¿ç”¨é¡ºåº" aria-hidden="true">#</a> Group Having limit order çš„ä½¿ç”¨é¡ºåº</h3><p>é¦–å…ˆä»–ä»¬å¿…é¡»åœ¨whereä¹‹åï¼Œ</p><p>è¿™ä¹‹åçš„é¡ºåºå°±æ˜¯</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µ <span class="token keyword">from</span> è¡¨å <span class="token keyword">where</span> æ¡ä»¶
 <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> å­—æ®µ
 <span class="token keyword">HAVING</span> å­—æ®µ
 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> å­—æ®µ
 <span class="token keyword">LIMIT</span> å­—æ®µ<span class="token punctuation">;</span>
<span class="token comment">#LIMITæ°¸è¿œåœ¨æœ€å</span>

<span class="token comment">#åº”ç”¨æ¡ˆä¾‹ ç»Ÿè®¡å„ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„ å¹¶ä¸”æ˜¯å¹³å‡å·¥èµ„å¤§äº1000çš„æ‰ä¼šåŠ å…¥ç»Ÿè®¡ï¼Œå¹¶ä¸”æŒ‰ç…§å·¥èµ„ä»é«˜åˆ°ä½æ’åºï¼Œå–å‡ºå‰ä¸¤è¡Œè®°å½•</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> sal_avg<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp 
 <span class="token keyword">group</span> <span class="token keyword">by</span> deptno <span class="token keyword">having</span> sal_avg<span class="token operator">&gt;</span><span class="token number">1000</span>
    <span class="token keyword">order</span> <span class="token keyword">by</span> sal_avg <span class="token keyword">DESC</span>
    <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+--------+</span>
<span class="token operator">|</span> sal_avg     <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+--------+</span>
<span class="token operator">|</span> <span class="token number">3946.766667</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1690.005000</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+--------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="select-æŸ¥æ‰¾-å¤šè¡¨æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#select-æŸ¥æ‰¾-å¤šè¡¨æŸ¥è¯¢" aria-hidden="true">#</a> Select æŸ¥æ‰¾-å¤šè¡¨æŸ¥è¯¢</h1><p>å®é™…ä¸Šå¼€å‘è¿‡ç¨‹ä¸­å¤šè¡¨ç”¨çš„å¤šä¸€äº›ï¼ˆæŒ‡ä¸ƒå…«ä¸ªè¡¨ä¸€å—æŸ¥..ï¼‰</p><figure><img src="`+U+`" alt="image-20211121223552978" tabindex="0" loading="lazy"><figcaption>image-20211121223552978</figcaption></figure><p>æ¥ä¸‹æ¥è¿‡ç¨‹ä¸­è¦ç”¨åˆ°çš„ä¸‰å¼ è¡¨</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+------------+----------+</span>
<span class="token operator">|</span> deptno <span class="token operator">|</span> dname      <span class="token operator">|</span> loc      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+------------+----------+</span>
<span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span> NEW <span class="token keyword">Work</span> <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span> DALLAS   <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span> CHICAGO  <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">40</span> <span class="token operator">|</span> OPERATIONS <span class="token operator">|</span> BOSTON   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+------------+----------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> salgrade<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+---------+</span>
<span class="token operator">|</span> grade <span class="token operator">|</span> losal   <span class="token operator">|</span> hisal   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+---------+</span>
<span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">700.00</span> <span class="token operator">|</span> <span class="token number">1200.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">1201.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">1401.00</span> <span class="token operator">|</span> <span class="token number">2000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span> <span class="token number">2001.00</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">3001.00</span> <span class="token operator">|</span> <span class="token number">9999.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+---------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span>  <span class="token number">645.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> BLACK  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1995</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">625.00</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> COALK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1997</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> SOCTT  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">07</span> <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>  <span class="token number">211.00</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1888</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1996</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">13</span> <span class="token operator">|</span>  <span class="token number">433.10</span> <span class="token operator">|</span>  <span class="token number">255.52</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>  <span class="token number">153.03</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7966</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">12</span> <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>  <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7966</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">12</span> <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>  <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">13</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+J+'" alt="image-20211121223951951" tabindex="0" loading="lazy"><figcaption>image-20211121223951951</figcaption></figure><figure><img src="'+D+'" alt="image-20211121224339699" tabindex="0" loading="lazy"><figcaption>image-20211121224339699</figcaption></figure><p>è¿™æ ·å¤šè¡¨æŸ¥è¯¢é»˜è®¤å¤„ç†è¿”å›çš„ç»“æœï¼Œç§°ä¸ºç¬›å¡å°”é›†</p><h2 id="å¤šè¡¨æŸ¥è¯¢-whereè¿‡æ»¤" tabindex="-1"><a class="header-anchor" href="#å¤šè¡¨æŸ¥è¯¢-whereè¿‡æ»¤" aria-hidden="true">#</a> å¤šè¡¨æŸ¥è¯¢-whereè¿‡æ»¤</h2><p>è§£å†³è¿™ä¸ªå¤šè¡¨çš„å…³é”®å°±æ˜¯è¦å†™å‡ºæ­£ç¡®çš„è¿‡æ»¤æ¡ä»¶ where</p><figure><img src="'+K+`" alt="image-20211121230457415" tabindex="0" loading="lazy"><figcaption>image-20211121230457415</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>
<span class="token comment"># emp.deptno = dept.deptno å³ä¸ºå»é‡</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">,</span>dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>deptno <span class="token operator">=</span> dept<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
<span class="token comment"># æ­¤æ—¶è‹¥æƒ³è¦æ˜¾ç¤ºæŒ‡å®šå€¼åˆ™éœ€è¦ï¼š</span>
<span class="token keyword">select</span> emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>emp<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span>dept<span class="token punctuation">.</span>dname <span class="token keyword">from</span> emp<span class="token punctuation">,</span>dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>deptno <span class="token operator">=</span> dept<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+------------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> deptno <span class="token operator">|</span> dname      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+------------+</span>
<span class="token operator">|</span> SMITH  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> BLACK  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span>
<span class="token operator">|</span> COALK  <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+------------+</span>


<span class="token comment"># æ˜¾ç¤ºéƒ¨é—¨å·ä¸º10çš„éƒ¨é—¨å å‘˜å·¥å å’Œå·¥èµ„</span>
<span class="token comment"># å¤šè¡¨æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥åœ¨fromå¤„å®šä¹‰åˆ«å</span>
<span class="token keyword">select</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span>
 e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span>
 e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>
 e<span class="token punctuation">.</span>sal 
 <span class="token keyword">from</span> emp <span class="token keyword">as</span> e <span class="token punctuation">,</span>dept <span class="token keyword">as</span> d <span class="token keyword">where</span> 
    e<span class="token punctuation">.</span>deptno <span class="token operator">=</span> d<span class="token punctuation">.</span>deptno  <span class="token operator">and</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------+--------+-------+---------+</span>
<span class="token operator">|</span> dname      <span class="token operator">|</span> deptno <span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+--------+-------+---------+</span>
<span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> COALK <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>
<span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> KING  <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>
<span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> FORD  <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+--------+-------+---------+</span>

<span class="token comment"># æ˜¾ç¤ºå„ä¸ªå‘˜å·¥çš„å§“åã€‚å·¥èµ„ï¼ŒåŠå·¥èµ„çº§åˆ« </span>

<span class="token keyword">select</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>e<span class="token punctuation">.</span>sal<span class="token punctuation">,</span>s<span class="token punctuation">.</span>grade
 <span class="token keyword">from</span> emp <span class="token keyword">as</span> e  <span class="token punctuation">,</span>salgrade <span class="token keyword">as</span> s
 <span class="token keyword">where</span>   e<span class="token punctuation">.</span>sal <span class="token operator">BETWEEN</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span> s<span class="token punctuation">.</span>hisal<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+-------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span> grade <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+-------+</span>
<span class="token operator">|</span> SMITH  <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">|</span> COALK  <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>     <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT  <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>     <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+-------+</span>

<span class="token comment"># æ˜¾ç¤ºé›‡å‘˜å é›‡å‘˜å·¥èµ„ åŠæ‰€åœ¨éƒ¨é—¨çš„åå­— å¹¶æŒ‰ç…§éƒ¨é—¨æ’åºï¼ˆé™åºæ’ï¼‰</span>
<span class="token comment"># éƒ¨é—¨ç›¸åŒçš„ï¼ŒæŒ‰ç…§å·¥èµ„é™åºæ’</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>e<span class="token punctuation">.</span>sal<span class="token punctuation">,</span>e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span>d<span class="token punctuation">.</span>dname 
 <span class="token keyword">from</span> emp <span class="token keyword">as</span> e<span class="token punctuation">,</span>dept <span class="token keyword">as</span> d
 <span class="token keyword">where</span> e<span class="token punctuation">.</span>deptno <span class="token operator">=</span> d<span class="token punctuation">.</span>deptno
 <span class="token keyword">order</span> <span class="token keyword">by</span> e<span class="token punctuation">.</span>deptno <span class="token keyword">desc</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>sal <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+--------+------------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span> deptno <span class="token operator">|</span> dname      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+--------+------------+</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span>
<span class="token operator">|</span> BLACK  <span class="token operator">|</span>  <span class="token number">625.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT  <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> SMITH  <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span>  <span class="token number">645.20</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span>  <span class="token number">433.10</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>
<span class="token operator">|</span> COALK  <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+--------+------------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mysql-å¤šè¡¨æŸ¥è¯¢-è‡ªè¿æ¥" tabindex="-1"><a class="header-anchor" href="#mysql-å¤šè¡¨æŸ¥è¯¢-è‡ªè¿æ¥" aria-hidden="true">#</a> Mysql å¤šè¡¨æŸ¥è¯¢-è‡ªè¿æ¥</h2><p>è‡ªè¿æ¥æŒ‡çš„æ˜¯åœ¨åŒä¸€å¼ è¡¨çš„è¿æ¥æŸ¥è¯¢ä¸ªï¼ˆå°†åŒä¸€å¼ è¡¨çœ‹åšä¸¤å¼ è¡¨ï¼‰</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æ˜¾ç¤ºå…¬ç¤ºå‘˜å·¥å’Œä»–ä¸Šçº§çš„åå­—</span>
<span class="token comment"># å‘˜å·¥çš„åå­—åœ¨ emp ä¸Šçº§çš„åå­— ä¹Ÿåœ¨emp å‘˜å·¥å’Œä¸Šçº§æ˜¯é€šè¿‡empè¡¨çš„mgrå­—æ®µå…³è”</span>
<span class="token comment"># empno æ˜¯å‘˜å·¥å½“å‰é˜¶çº§  mgr æ˜¯å‘˜å·¥ä¸Šçº§é˜¶çº§</span>
 <span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span>  <span class="token number">645.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> BLACK  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1995</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">625.00</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> COALK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1997</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> SOCTT  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">07</span> <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>  <span class="token number">211.00</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1888</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1996</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">13</span> <span class="token operator">|</span>  <span class="token number">433.10</span> <span class="token operator">|</span>  <span class="token number">255.52</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>  <span class="token number">153.03</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7966</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">12</span> <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>  <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7966</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">12</span> <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>  <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>

<span class="token keyword">select</span> <span class="token keyword">work</span><span class="token punctuation">.</span>ename <span class="token string">&quot;å‘˜å·¥å&quot;</span><span class="token punctuation">,</span>boss<span class="token punctuation">.</span>ename <span class="token string">&quot;ä¸Šçº§åç§°&quot;</span> <span class="token keyword">from</span> emp <span class="token keyword">as</span> <span class="token keyword">work</span><span class="token punctuation">,</span>emp <span class="token keyword">as</span> boss
 <span class="token keyword">where</span> <span class="token keyword">work</span><span class="token punctuation">.</span>mgr <span class="token operator">=</span> boss<span class="token punctuation">.</span>empno<span class="token punctuation">;</span>
<span class="token comment"># å› ä¸ºè¡¨ä¸­è®¾è®¡äº†å¤§éƒ¨åˆ†äººçš„ä¸Šçº§éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥è¿™é‡Œåªè·å–åˆ°å‡ ä¸ªäººçš„ï¼Œä¸ºnullæˆ–è€…ä¸å­˜åœ¨çš„éƒ½ä¸ä¼šè®°å½•åœ¨å†…</span>
<span class="token comment"># é€šè¿‡åˆ«åå³å¯è½»æ¾æ¥ä½¿ç”¨ åæ­£å¤šè¡¨æŸ¥è¯¢é€šå¸¸æƒ…å†µä¸‹åˆ†åˆ«å–ä¸ªåˆ«åå°±ä¸ä¼šé”™</span>
<span class="token operator">+</span><span class="token comment">-----------+--------------+</span>
<span class="token operator">|</span> å‘˜å·¥å    <span class="token operator">|</span> ä¸Šçº§åç§°     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------------+</span>
<span class="token operator">|</span> FORD      <span class="token operator">|</span> JONES        <span class="token operator">|</span>
<span class="token operator">|</span> KING      <span class="token operator">|</span> JONES        <span class="token operator">|</span>
<span class="token operator">|</span> MILLER    <span class="token operator">|</span> BLACK        <span class="token operator">|</span>
<span class="token operator">|</span> MILLER    <span class="token operator">|</span> BLACK        <span class="token operator">|</span>
<span class="token operator">|</span> SMITH     <span class="token operator">|</span> JAMES        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mysqlå¤šè¡¨æŸ¥è¯¢-å­æŸ¥è¯¢-æŸ¥è¯¢ç»“æœå½“åšä¸´æ—¶è¡¨ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#mysqlå¤šè¡¨æŸ¥è¯¢-å­æŸ¥è¯¢-æŸ¥è¯¢ç»“æœå½“åšä¸´æ—¶è¡¨ä½¿ç”¨" aria-hidden="true">#</a> Mysqlå¤šè¡¨æŸ¥è¯¢-å­æŸ¥è¯¢-æŸ¥è¯¢ç»“æœå½“åšä¸´æ—¶è¡¨ä½¿ç”¨</h2><p>å°±æ˜¯ç»“æœå½“æˆè¡¨æ¥ä½¿ç”¨</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æŸ¥è¯¢empå„ä¸ªcommåˆ†ç»„ä¸­ å·¥èµ„æœ€é«˜çš„äºº å¹¶æŒ‰ç…§ç±»åˆ«å‡åºæ’åº</span>

<span class="token comment"># å…ˆå¾—åˆ° å„ä¸ªç±»åˆ«ä¸­çš„æœ€é«˜å·¥èµ„</span>
<span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+----------+</span>
<span class="token operator">|</span> deptno <span class="token operator">|</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+----------+</span>
<span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>  <span class="token number">2681.30</span> <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>  <span class="token number">2435.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>  <span class="token number">6321.50</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+----------+</span>

<span class="token comment"># ç„¶åå°†å…¶ç»“æœå½“åšä¸€å¼ è¡¨ æ¥ä¼ é€’ä½¿ç”¨</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>deptno <span class="token string">&quot;ç±»åˆ«&quot;</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>ename <span class="token string">&quot;å‘˜å·¥åç§°&quot;</span><span class="token punctuation">,</span>t<span class="token punctuation">.</span>sal <span class="token string">&quot;å·¥èµ„&quot;</span>
 <span class="token keyword">from</span> emp <span class="token keyword">as</span> e <span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> sal <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">)</span><span class="token keyword">as</span> t
 <span class="token keyword">where</span> e<span class="token punctuation">.</span>sal <span class="token operator">=</span> t<span class="token punctuation">.</span>sal
 <span class="token keyword">order</span> <span class="token keyword">by</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span>t<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------------+---------+</span>
<span class="token operator">|</span> ç±»åˆ«   <span class="token operator">|</span> å‘˜å·¥åç§°     <span class="token operator">|</span> å·¥èµ„    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------------+---------+</span>
<span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> FORD         <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> SOCTT        <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> TURNER       <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------------+---------+</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mysqlå¤šè¡¨æŸ¥è¯¢-allã€anyåŒ¹é…æ“ä½œç¬¦" tabindex="-1"><a class="header-anchor" href="#mysqlå¤šè¡¨æŸ¥è¯¢-allã€anyåŒ¹é…æ“ä½œç¬¦" aria-hidden="true">#</a> Mysqlå¤šè¡¨æŸ¥è¯¢-Allã€AnyåŒ¹é…æ“ä½œç¬¦</h2><p>allå°±æ˜¯åŒ¹é…æŸä¸ªå€¼æ˜¯å¦ä¸ºå¦ä¸€ä¸ªåˆ—è¡¨è¿”å›çš„æ‰€æœ‰å­—æ®µæˆ–è€…ä¸€ä¸ªå­æŸ¥è¯¢è¿”å›çš„æ‰€æœ‰å­—æ®µçš„å€¼</p><p>allå‰é¢ä¸€èˆ¬æ˜¯å¤§äºå°äºæˆ–è€…ç­‰äºå·</p><p>all å°±æ˜¯åŒ¹é…å…¨éƒ¨</p><p>any å°±æ˜¯åŒ¹é…ä¸Šå…¶ä¸­ä¸€ä¸ªå³å¯</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># æ˜¾ç¤ºå·¥èµ„æ¯”éƒ¨é—¨30çš„ æ‰€æœ‰å‘˜å·¥ çš„å·¥èµ„é«˜çš„å‘˜å·¥å§“åã€å·¥èµ„å’Œéƒ¨é—¨å·</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp <span class="token keyword">where</span>
 sal<span class="token operator">&gt;</span><span class="token keyword">ALL</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#  ç¨å¾®çš„ç®€å†™</span>
 sal<span class="token operator">&gt;</span><span class="token keyword">ALL</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token operator">+</span><span class="token comment">-------+---------+--------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+--------+</span>
<span class="token operator">|</span> COALK <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD  <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+--------+</span>

<span class="token comment"># æ˜¾ç¤ºå·¥èµ„æ¯”éƒ¨é—¨30çš„å…¶ä¸­ ä»»ä½•ä¸€ä¸ªå‘˜å·¥ çš„å·¥èµ„é«˜çš„å‘˜å·¥</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp <span class="token keyword">where</span>
 sal<span class="token operator">&gt;</span><span class="token keyword">ANY</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># ä¹Ÿå¯ä»¥ç•¥å¾®ç®€åŒ–</span>
 sal<span class="token operator">&gt;</span><span class="token keyword">ANY</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+--------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+--------+</span>
<span class="token operator">|</span> SMITH  <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span>  <span class="token number">645.20</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> COALK  <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT  <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+--------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mysqlå¤šè¡¨æŸ¥è¯¢-å¤šåˆ—å­æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#mysqlå¤šè¡¨æŸ¥è¯¢-å¤šåˆ—å­æŸ¥è¯¢" aria-hidden="true">#</a> Mysqlå¤šè¡¨æŸ¥è¯¢-å¤šåˆ—å­æŸ¥è¯¢</h2><p>å°±æ˜¯å¤šä¸ªå€¼åŒæ—¶è¿›è¡ŒåŒ¹é…ï¼Œå¯ä»¥æœ‰æ•ˆé™ä½æŸ¥è¯¢æ—¶å€™çš„èµ„æºæµªè´¹</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#æŸ¥è¯¢ä¸ SMITH çš„éƒ¨é—¨å’Œå²—ä½å®Œå…¨ç›¸åŒçš„æ‰€æœ‰é›‡å‘˜ï¼ˆä¸åŒ…æ‹¬smithæœ¬äººï¼‰</span>

<span class="token comment"># é¦–å…ˆè·å–å²å¯†æ–¯çš„éƒ¨é—¨å’Œå²—ä½</span>
<span class="token keyword">select</span> deptno<span class="token punctuation">,</span>job <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">=</span><span class="token string">&#39;smith&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------+</span>
<span class="token operator">|</span> deptno <span class="token operator">|</span> job   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------+</span>
<span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> CLERK <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------+</span>

<span class="token comment">#å†æŠŠç»“æœå½“åšå­æŸ¥è¯¢æ¥ä½¿ç”¨ï¼Œå¹¶ä¸”ä½¿ç”¨å¤šåˆ—å­æŸ¥è¯¢çš„æ¨¡å¼</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp 
 <span class="token keyword">where</span> <span class="token punctuation">(</span>deptno<span class="token punctuation">,</span>job<span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> deptno<span class="token punctuation">,</span>job <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">=</span><span class="token string">&#39;smith&#39;</span><span class="token punctuation">)</span> <span class="token operator">and</span> ename <span class="token operator">!=</span> <span class="token string">&#39;smith&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-------+------+------------+--------+--------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job   <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal    <span class="token operator">|</span> comm   <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-------+------+------------+--------+--------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1996</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">13</span> <span class="token operator">|</span> <span class="token number">433.10</span> <span class="token operator">|</span> <span class="token number">255.52</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7966</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">12</span> <span class="token operator">|</span> <span class="token number">735.05</span> <span class="token operator">|</span> <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-------+------+------------+--------+--------+--------+</span>



<span class="token comment"># è·å–æ‰€æœ‰éƒ¨é—¨ä¸­å·¥èµ„é«˜äºè¯¥éƒ¨é—¨å¹³å‡å·¥èµ„çš„äºº</span>

<span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token keyword">as</span> sal <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">;</span>

<span class="token keyword">select</span> e<span class="token punctuation">.</span>ename <span class="token string">&#39;å‘˜å·¥å§“å&#39;</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>sal <span class="token string">&#39;å‘˜å·¥å·¥èµ„&#39;</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>deptno <span class="token string">&#39;éƒ¨é—¨åç§°&#39;</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span>sal <span class="token string">&quot;è¯¥éƒ¨é—¨å¹³å‡å·¥èµ„&quot;</span>
 <span class="token keyword">from</span> emp <span class="token keyword">as</span> e<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token keyword">as</span> sal <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">)</span><span class="token keyword">as</span> g
 <span class="token keyword">where</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>g<span class="token punctuation">.</span>deptno <span class="token operator">and</span> e<span class="token punctuation">.</span>sal<span class="token operator">&gt;</span>g<span class="token punctuation">.</span>sal
 <span class="token keyword">order</span> <span class="token keyword">by</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+-----------------------+</span>
<span class="token operator">|</span> å‘˜å·¥å§“å       <span class="token operator">|</span> å‘˜å·¥å·¥èµ„      <span class="token operator">|</span> éƒ¨é—¨åç§°      <span class="token operator">|</span> è¯¥éƒ¨é—¨å¹³å‡å·¥èµ„          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+-----------------------+</span>
<span class="token operator">|</span> COALK        <span class="token operator">|</span>      <span class="token number">3954.20</span> <span class="token operator">|</span>           <span class="token number">10</span> <span class="token operator">|</span>           <span class="token number">3946.766667</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD         <span class="token operator">|</span>      <span class="token number">6321.50</span> <span class="token operator">|</span>           <span class="token number">10</span> <span class="token operator">|</span>           <span class="token number">3946.766667</span> <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT        <span class="token operator">|</span>      <span class="token number">2681.30</span> <span class="token operator">|</span>           <span class="token number">20</span> <span class="token operator">|</span>           <span class="token number">1004.950000</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES        <span class="token operator">|</span>      <span class="token number">2100.02</span> <span class="token operator">|</span>           <span class="token number">30</span> <span class="token operator">|</span>           <span class="token number">1690.005000</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER       <span class="token operator">|</span>      <span class="token number">2435.00</span> <span class="token operator">|</span>           <span class="token number">30</span> <span class="token operator">|</span>           <span class="token number">1690.005000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+-----------------------+</span>

<span class="token comment"># æŸ¥æ‰¾æ¯ä¸ªéƒ¨é—¨å·¥èµ„æœ€é«˜çš„äººçš„è¯¦ç»†èµ„æ–™</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>ename <span class="token string">&#39;å‘˜å·¥å§“å&#39;</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>sal <span class="token string">&#39;å‘˜å·¥å·¥èµ„&#39;</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>deptno <span class="token string">&#39;éƒ¨é—¨åç§°&#39;</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span>sal <span class="token string">&quot;è¯¥éƒ¨é—¨æœ€é«˜å·¥èµ„&quot;</span>
 <span class="token keyword">from</span> emp <span class="token keyword">as</span> e<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token keyword">as</span> sal <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">)</span><span class="token keyword">as</span> g
 <span class="token keyword">where</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>g<span class="token punctuation">.</span>deptno <span class="token operator">and</span> e<span class="token punctuation">.</span>sal<span class="token operator">=</span>g<span class="token punctuation">.</span>sal
 <span class="token keyword">order</span> <span class="token keyword">by</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+-----------------------+</span>
<span class="token operator">|</span> å‘˜å·¥å§“å     <span class="token operator">|</span> å‘˜å·¥å·¥èµ„     <span class="token operator">|</span> éƒ¨é—¨åç§°     <span class="token operator">|</span> è¯¥éƒ¨é—¨æœ€é«˜å·¥èµ„        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+-----------------------+</span>
<span class="token operator">|</span> FORD         <span class="token operator">|</span>      <span class="token number">6321.50</span> <span class="token operator">|</span>           <span class="token number">10</span> <span class="token operator">|</span>               <span class="token number">6321.50</span> <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT        <span class="token operator">|</span>      <span class="token number">2681.30</span> <span class="token operator">|</span>           <span class="token number">20</span> <span class="token operator">|</span>               <span class="token number">2681.30</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER       <span class="token operator">|</span>      <span class="token number">2435.00</span> <span class="token operator">|</span>           <span class="token number">30</span> <span class="token operator">|</span>               <span class="token number">2435.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+-----------------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤šè¡¨æŸ¥è¯¢ç»†èŠ‚1-asçš„çœç•¥-è¿”å›æŸä¸ªè¡¨çš„å…¨éƒ¨å†…å®¹" tabindex="-1"><a class="header-anchor" href="#å¤šè¡¨æŸ¥è¯¢ç»†èŠ‚1-asçš„çœç•¥-è¿”å›æŸä¸ªè¡¨çš„å…¨éƒ¨å†…å®¹" aria-hidden="true">#</a> å¤šè¡¨æŸ¥è¯¢ç»†èŠ‚1 -asçš„çœç•¥ï¼Œ*è¿”å›æŸä¸ªè¡¨çš„å…¨éƒ¨å†…å®¹</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># as å¯ä»¥çœç•¥</span>
<span class="token keyword">select</span> ename <span class="token keyword">as</span> name <span class="token keyword">from</span> xxx<span class="token punctuation">;</span>
<span class="token comment">#å¯ä»¥ç®€å†™ä¸º</span>
<span class="token keyword">select</span> ename  name<span class="token punctuation">;</span>

<span class="token comment"># å½“æŸ¥è¯¢å¤šä¸ªè¡¨çš„æ—¶å€™ï¼Œè¦è¾“å‡ºæŸä¸ªè¡¨çš„å…¨éƒ¨å†…å®¹</span>
<span class="token comment"># ä½¿ç”¨*å·å³å¯</span>
<span class="token keyword">select</span> emp<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>dept<span class="token punctuation">.</span>dname <span class="token keyword">from</span> emp<span class="token punctuation">,</span>dept<span class="token punctuation">;</span>

<span class="token comment"># ä¹Ÿå¯ä»¥*å·+ asç¼©å†™</span>

<span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname <span class="token keyword">from</span> emp e<span class="token punctuation">,</span>dept d<span class="token punctuation">;</span>

<span class="token comment"># æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è¡¨å¤åˆ¶-è •è™«å¤åˆ¶ã€å¤åˆ¶è¡¨çš„ç»“æ„ã€å»é™¤è¡¨ä¸­çš„é‡å¤è®°å½•" tabindex="-1"><a class="header-anchor" href="#è¡¨å¤åˆ¶-è •è™«å¤åˆ¶ã€å¤åˆ¶è¡¨çš„ç»“æ„ã€å»é™¤è¡¨ä¸­çš„é‡å¤è®°å½•" aria-hidden="true">#</a> è¡¨å¤åˆ¶-è •è™«å¤åˆ¶ã€å¤åˆ¶è¡¨çš„ç»“æ„ã€å»é™¤è¡¨ä¸­çš„é‡å¤è®°å½•</h2><p>æœ‰çš„æ—¶å€™ï¼Œä¸ºäº†å¯¹æŸä¸ªsqlè¯­å¥è¿›è¡Œæ•ˆç‡æµ‹è¯•ï¼Œæˆ‘ä»¬éœ€è¦æµ·é‡æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•ä¸ºè¡¨åˆ›å»ºæµ·é‡æ•°æ®</p><h3 id="å¤åˆ¶è¡¨" tabindex="-1"><a class="header-anchor" href="#å¤åˆ¶è¡¨" aria-hidden="true">#</a> å¤åˆ¶è¡¨</h3><ul><li><code>insert into è¡¨1 select * from è¡¨1</code> è‡ªæˆ‘å¤åˆ¶</li><li><code>insert into è¡¨1(å­—æ®µ1 å­—æ®µ2...) select å­—æ®µ1,å­—æ®µ2... from è¡¨2</code> ä¸¤ä¸ªè¡¨ä¹‹é—´çš„å¤åˆ¶ <ul><li>æŠŠè¡¨2ä¸­ç›¸åº”å­—æ®µçš„å€¼æŒ‰ç…§é¡ºåºå¤åˆ¶åˆ°è¡¨1çš„ç›¸åº”å­—æ®µï¼ˆæŒ‰ç…§å­—æ®µ1ï¼Œå­—æ®µ2ç›¸äº’ç›¸å¯¹åº”ï¼‰</li></ul></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># å…ˆæ¥ä¸ªæµ‹è¯•çš„è¡¨</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> my_table01<span class="token punctuation">(</span> id <span class="token keyword">int</span><span class="token punctuation">,</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>sal <span class="token keyword">double</span><span class="token punctuation">,</span>job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>deptno <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">desc</span> my_table01<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> id     <span class="token operator">|</span> <span class="token keyword">int</span>         <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sal    <span class="token operator">|</span> <span class="token keyword">double</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> job    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> deptno <span class="token operator">|</span> <span class="token keyword">int</span>         <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+-------+</span>

<span class="token comment"># æŠŠempè¡¨çš„è®°å½•å¤åˆ¶åˆ°my_table01</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> my_table01
 <span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>job<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span> 
 <span class="token punctuation">(</span><span class="token keyword">SELECT</span> empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>job<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token operator">+</span><span class="token comment">------+--------+---------+-----------+--------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> sal     <span class="token operator">|</span> job       <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+---------+-----------+--------+</span>
<span class="token operator">|</span> <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span>     <span class="token number">800</span> <span class="token operator">|</span> CLERK     <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span>    <span class="token number">1600</span> <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">13</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment"># è‡ªæˆ‘å¤åˆ¶</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table01 <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table01<span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+--------+---------+-----------+--------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> sal     <span class="token operator">|</span> job       <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+---------+-----------+--------+</span>
<span class="token operator">|</span> <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span>     <span class="token number">800</span> <span class="token operator">|</span> CLERK     <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span>    <span class="token number">1600</span> <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span>   <span class="token number">645.2</span> <span class="token operator">|</span> MANAGER   <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">26</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment"># å†æ¬¡è‡ªæˆ‘å¤åˆ¶næ¬¡.</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table01 <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table01<span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table01 <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table01<span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table01 <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table01<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1703936</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">16.21</span> sec<span class="token punctuation">)</span>
<span class="token comment"># å¤åˆ¶äº†è¶Šæ¥è¶Šå¤šæ¬¡ï¼Œä¹Ÿå¯ä»¥æ˜æ˜¾çš„æ„Ÿè§‰åˆ°å¤åˆ¶çš„é€Ÿåº¦è¶Šæ¥è¶Šæ…¢</span>
<span class="token comment"># æ¯æ¬¡å¤åˆ¶éƒ½æ˜¯ä¸Šä¸€æ¬¡çš„2å€</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤åˆ¶è¡¨çš„ç»“æ„" tabindex="-1"><a class="header-anchor" href="#å¤åˆ¶è¡¨çš„ç»“æ„" aria-hidden="true">#</a> å¤åˆ¶è¡¨çš„ç»“æ„</h3><p>è¯­æ³•ï¼š<code>create table è¡¨2 like è¡¨1</code> æŠŠè¡¨1çš„ç»“æ„å®Œæ•´çš„å¤åˆ¶ç»™è¡¨2</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># å¤åˆ¶è¡¨çš„ç»“æ„</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> my_table02 <span class="token operator">like</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+--------------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> Field    <span class="token operator">|</span> <span class="token keyword">Type</span>               <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+--------------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> empno    <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> ename    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>        <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span>         <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> job      <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>         <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span>         <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> mgr      <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> hiredate <span class="token operator">|</span> <span class="token keyword">date</span>               <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> sal      <span class="token operator">|</span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>       <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> comm     <span class="token operator">|</span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>       <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> deptno   <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+--------------------+------+-----+---------+-------+</span>

<span class="token comment"># å†æŠŠempå¤åˆ¶ç»™ä»–</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> my_table02 <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Query OK<span class="token punctuation">,</span> <span class="token number">13</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
<span class="token comment">#å†æ‰§è¡Œä¸€æ¬¡å¤åˆ¶å†…å®¹</span>
Query OK<span class="token punctuation">,</span> <span class="token number">26</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¡¨çš„å»é‡" tabindex="-1"><a class="header-anchor" href="#è¡¨çš„å»é‡" aria-hidden="true">#</a> è¡¨çš„å»é‡</h3><p>å»é‡æ–¹å¼ç½‘ä¸Šåº”è¯¥æœ‰æ›´å¤šç§ï¼Œè¿™é‡Œä¸¾ä¾‹ä¸€ç§æœ€ç¬¨çš„æ–¹æ³•</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># è¡¨çš„å»é‡</span>

<span class="token comment"># 1. å…ˆåˆ›å»ºä¸€å¼ ä¸´æ—¶è¡¨my_emp è¯¥è¡¨çš„ç»“æ„å’Œmy_table02å®Œå…¨ç›¸åŒ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> my_emp <span class="token operator">like</span> my_table02<span class="token punctuation">;</span>

<span class="token comment"># 2.æŠŠ my_table02çš„è®°å½•ï¼Œé€šè¿‡ distinct å…³é”®å­—å¤„ç†åï¼Œå¤åˆ¶ç»™my_emp;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> my_emp <span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> <span class="token operator">*</span> <span class="token keyword">from</span> my_table02<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Records: <span class="token number">12</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

<span class="token comment"># 3. æ¸…é™¤æ‰ my_table02çš„æ‰€æœ‰è®°å½• è¿™é‡Œçš„deleteå¯ä»¥æ¢æˆtruncateä½¿å…¶ä¸ç¼“å­˜åˆ é™¤çš„æ•°æ®</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> my_table02<span class="token punctuation">;</span>

<span class="token comment"># 4. æŠŠmy_empçš„è¡¨å¤åˆ¶ç»™ my_table02;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> my_table02 <span class="token keyword">select</span> <span class="token keyword">DISTINCT</span> <span class="token operator">*</span> <span class="token keyword">from</span> my_emp<span class="token punctuation">;</span>

<span class="token comment"># 5. drop æ‰ ä¸´æ—¶è¡¨ my_emp;</span>

<span class="token keyword">drop</span> <span class="token keyword">table</span> my_emp<span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2100.02</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span>  <span class="token number">645.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> BLACK  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1995</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">625.00</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> COALK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1997</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3954.20</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> SOCTT  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7939</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">2681.30</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">07</span> <span class="token operator">|</span> <span class="token number">1564.60</span> <span class="token operator">|</span>  <span class="token number">211.00</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1888</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2435.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1996</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">13</span> <span class="token operator">|</span>  <span class="token number">433.10</span> <span class="token operator">|</span>  <span class="token number">255.52</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">6321.50</span> <span class="token operator">|</span>  <span class="token number">153.03</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7966</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">12</span> <span class="token operator">|</span>  <span class="token number">735.05</span> <span class="token operator">|</span>  <span class="token number">453.25</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åˆå¹¶æŸ¥è¯¢-unionã€union-all" tabindex="-1"><a class="header-anchor" href="#åˆå¹¶æŸ¥è¯¢-unionã€union-all" aria-hidden="true">#</a> åˆå¹¶æŸ¥è¯¢-UNIONã€UNION ALL</h2><figure><img src="`+B+'" alt="image-20211122154537661" tabindex="0" loading="lazy"><figcaption>image-20211122154537661</figcaption></figure><figure><img src="'+G+'" alt="image-20211122154637130" tabindex="0" loading="lazy"><figcaption>image-20211122154637130</figcaption></figure><h2 id="å¤šè¡¨æŸ¥è¯¢-å¤–è¿æ¥" tabindex="-1"><a class="header-anchor" href="#å¤šè¡¨æŸ¥è¯¢-å¤–è¿æ¥" aria-hidden="true">#</a> å¤šè¡¨æŸ¥è¯¢-å¤–è¿æ¥</h2><figure><img src="'+j+`" alt="image-20211122154827000" tabindex="0" loading="lazy"><figcaption>image-20211122154827000</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># è¿™é‡Œä½¿ç”¨mgr  ä¸Šçº§åç§°æ¥æ¼”ç¤º</span>
<span class="token keyword">select</span> worker<span class="token punctuation">.</span>ename <span class="token keyword">as</span> <span class="token string">&quot;å‘˜å·¥åç§°&quot;</span><span class="token punctuation">,</span>worker<span class="token punctuation">.</span>job <span class="token string">&quot;å‘˜å·¥å·¥ä½œ&quot;</span><span class="token punctuation">,</span>worker<span class="token punctuation">.</span>mgr <span class="token string">&quot;å‘˜å·¥ä¸Šçº§&quot;</span> <span class="token punctuation">,</span>boss<span class="token punctuation">.</span>ename <span class="token string">&quot;ä¸Šçº§åç§°&quot;</span>
 <span class="token keyword">from</span> emp <span class="token keyword">as</span> worker<span class="token punctuation">,</span>emp <span class="token keyword">as</span> boss
 <span class="token keyword">where</span> worker<span class="token punctuation">.</span>mgr <span class="token operator">=</span> boss<span class="token punctuation">.</span>empno<span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+--------------+</span>
<span class="token operator">|</span> å‘˜å·¥åç§°       <span class="token operator">|</span> å‘˜å·¥å·¥ä½œ      <span class="token operator">|</span> å‘˜å·¥ä¸Šçº§      <span class="token operator">|</span> ä¸Šçº§åç§°     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+--------------+</span>
<span class="token operator">|</span> FORD         <span class="token operator">|</span> ANALYST      <span class="token operator">|</span>         <span class="token number">7566</span> <span class="token operator">|</span> JONES        <span class="token operator">|</span>
<span class="token operator">|</span> KING         <span class="token operator">|</span> ANALYST      <span class="token operator">|</span>         <span class="token number">7566</span> <span class="token operator">|</span> JONES        <span class="token operator">|</span>
<span class="token operator">|</span> MILLER       <span class="token operator">|</span> CLERK        <span class="token operator">|</span>         <span class="token number">7782</span> <span class="token operator">|</span> BLACK        <span class="token operator">|</span>
<span class="token operator">|</span> MILLER       <span class="token operator">|</span> CLERK        <span class="token operator">|</span>         <span class="token number">7782</span> <span class="token operator">|</span> BLACK        <span class="token operator">|</span>
<span class="token operator">|</span> SMITH        <span class="token operator">|</span> CLERK        <span class="token operator">|</span>         <span class="token number">7902</span> <span class="token operator">|</span> JAMES        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+--------------+</span>
<span class="token comment"># å¯ä»¥çœ‹åˆ°ï¼Œæœ‰äº›æ²¡æœ‰ä¸Šçº§çš„å‘˜å·¥æ˜¯æ— æ³•æ˜¾ç¤ºçš„ï¼Œåªæ˜¾ç¤ºäº†æœ‰ä¸Šçº§çš„ï¼Œä¸ºæ­¤éœ€è¦å¤–è¿æ¥æ¥è®©å‘˜å·¥çš„ä¸Šçº§å¯ä»¥å®Œå…¨æ˜¾ç¤º</span>
<span class="token comment"># å³ä½¿ä»–æ²¡æœ‰ä¸Šçº§ï¼Œä¹Ÿè¦æ˜¾ç¤ºnull</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mysqlä¸­å¤–è¿æ¥åˆ†ä¸ºä¸¤ç§</p><h3 id="å·¦å¤–è¿æ¥" tabindex="-1"><a class="header-anchor" href="#å·¦å¤–è¿æ¥" aria-hidden="true">#</a> å·¦å¤–è¿æ¥</h3><ul><li><p>å·¦å¤–è¿æ¥ å¦‚æœ<code>å·¦ä¾§çš„è¡¨èƒ½å¤Ÿå®Œå…¨æ˜¾ç¤º</code>å°±æ˜¯å·¦å¤–è¿æ¥</p><ul><li><p><strong>å·¦è¾¹çš„è¡¨å³ä½¿å’Œå³è¾¹çš„è¡¨</strong>æ²¡æœ‰å®Œå…¨åŒ¹é…çš„è®°å½•ä¹Ÿèƒ½å®Œå…¨æ˜¾ç¤ºå‡ºæ¥</p></li><li><p>è¯­æ³•ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µ  <span class="token keyword">from</span>
 å·¦è¾¹çš„è¡¨ <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> å³è¾¹çš„è¡¨
 <span class="token keyword">ON</span> å·¦è¾¹çš„è¡¨çš„æŸä¸ªå€¼ <span class="token operator">=</span> å³è¾¹çš„è¡¨çš„æŸä¸ªå€¼<span class="token punctuation">;</span>

<span class="token comment"># ä½¿ç”¨å·¦å¤–è¿æ¥ï¼Œæ˜¾ç¤ºæ‰€æœ‰å‘˜å·¥çš„ä¸Šçº§ï¼ŒåŒ…æ‹¬æ²¡æœ‰ä¸Šçº§çš„å‘˜å·¥</span>
<span class="token keyword">select</span> worker<span class="token punctuation">.</span>ename <span class="token keyword">as</span> <span class="token string">&quot;å‘˜å·¥åç§°&quot;</span><span class="token punctuation">,</span>worker<span class="token punctuation">.</span>job <span class="token string">&quot;å‘˜å·¥å·¥ä½œ&quot;</span><span class="token punctuation">,</span>worker<span class="token punctuation">.</span>mgr <span class="token string">&quot;å‘˜å·¥ä¸Šçº§&quot;</span> <span class="token punctuation">,</span>boss<span class="token punctuation">.</span>ename <span class="token string">&quot;ä¸Šçº§åç§°&quot;</span>
 <span class="token keyword">from</span> emp <span class="token keyword">as</span> worker <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> emp <span class="token keyword">as</span> boss
 <span class="token keyword">ON</span> worker<span class="token punctuation">.</span>mgr <span class="token operator">=</span> boss<span class="token punctuation">.</span>empno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+--------------+</span>
<span class="token operator">|</span> å‘˜å·¥åç§°      <span class="token operator">|</span> å‘˜å·¥å·¥ä½œ       <span class="token operator">|</span> å‘˜å·¥ä¸Šçº§      <span class="token operator">|</span> ä¸Šçº§åç§°      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+--------------+</span>
<span class="token operator">|</span> SMITH        <span class="token operator">|</span> CLERK        <span class="token operator">|</span>         <span class="token number">7902</span> <span class="token operator">|</span> JAMES        <span class="token operator">|</span>
<span class="token operator">|</span> WARD         <span class="token operator">|</span> SALESMAN     <span class="token operator">|</span>         <span class="token number">7698</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">|</span> JONES        <span class="token operator">|</span> SALESMAN     <span class="token operator">|</span>         <span class="token number">7698</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN       <span class="token operator">|</span> MANAGER      <span class="token operator">|</span>         <span class="token number">7939</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">|</span> BLACK        <span class="token operator">|</span> SALESMAN     <span class="token operator">|</span>         <span class="token number">7698</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">|</span> COALK        <span class="token operator">|</span> MANAGER      <span class="token operator">|</span>         <span class="token number">7698</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">|</span> SOCTT        <span class="token operator">|</span> MANAGER      <span class="token operator">|</span>         <span class="token number">7939</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">|</span> KING         <span class="token operator">|</span> ANALYST      <span class="token operator">|</span>         <span class="token number">7566</span> <span class="token operator">|</span> JONES        <span class="token operator">|</span>
<span class="token operator">|</span> TURNER       <span class="token operator">|</span> PRESIDENT    <span class="token operator">|</span>         <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">|</span> JAMES        <span class="token operator">|</span> CLERK        <span class="token operator">|</span>         <span class="token number">7698</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">|</span> FORD         <span class="token operator">|</span> ANALYST      <span class="token operator">|</span>         <span class="token number">7566</span> <span class="token operator">|</span> JONES        <span class="token operator">|</span>
<span class="token operator">|</span> MILLER       <span class="token operator">|</span> CLERK        <span class="token operator">|</span>         <span class="token number">7782</span> <span class="token operator">|</span> BLACK        <span class="token operator">|</span>
<span class="token operator">|</span> MILLER       <span class="token operator">|</span> CLERK        <span class="token operator">|</span>         <span class="token number">7782</span> <span class="token operator">|</span> BLACK        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+--------------+--------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h3 id="å³å¤–è¿æ¥" tabindex="-1"><a class="header-anchor" href="#å³å¤–è¿æ¥" aria-hidden="true">#</a> å³å¤–è¿æ¥</h3><ul><li><p>å³å¤–è¿æ¥ å¦‚æœ<code>å³ä¾§çš„è¡¨èƒ½å®Œå…¨æ˜¾ç¤º</code>å°±æ˜¯å³å¤–è¿æ¥</p><ul><li><p><strong>å³è¾¹çš„è¡¨å³ä½¿å’Œå·¦è¾¹çš„è¡¨</strong>æ²¡æœ‰å®Œå…¨åŒ¹é…çš„è®°å½•ä¹Ÿèƒ½å®Œå…¨æ˜¾ç¤ºå‡ºæ¥</p></li><li><p>è¯­æ³•</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> å­—æ®µ  <span class="token keyword">from</span>
 å·¦è¾¹çš„è¡¨ <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> å³è¾¹çš„è¡¨
 <span class="token keyword">ON</span> å³è¾¹çš„è¡¨çš„æŸä¸ªå€¼ <span class="token operator">=</span> å·¦è¾¹çš„è¡¨çš„æŸä¸ªå€¼<span class="token punctuation">;</span>

<span class="token comment"># ä½¿ç”¨å·¦å¤–è¿æ¥ï¼Œæ˜¾ç¤ºæ‰€æœ‰å‘˜å·¥çš„ä¸‹çº§ï¼Œå³ä½¿æ²¡æœ‰ä¸‹çº§</span>
<span class="token keyword">select</span> worker<span class="token punctuation">.</span>ename <span class="token keyword">as</span> <span class="token string">&quot;ä¸‹çº§å‘˜å·¥åç§°&quot;</span><span class="token punctuation">,</span>worker<span class="token punctuation">.</span>job <span class="token string">&quot;ä¸‹çº§å‘˜å·¥å·¥ä½œ&quot;</span><span class="token punctuation">,</span>worker<span class="token punctuation">.</span>mgr <span class="token string">&quot;ç®¡ç†è€…ID&quot;</span> <span class="token punctuation">,</span>boss<span class="token punctuation">.</span>ename <span class="token string">&quot;ç®¡ç†è€…åç§°&quot;</span>
 <span class="token keyword">from</span> emp <span class="token keyword">as</span> worker <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> emp <span class="token keyword">as</span> boss
 <span class="token keyword">ON</span> worker<span class="token punctuation">.</span>mgr <span class="token operator">=</span> boss<span class="token punctuation">.</span>empno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+--------------------+-------------+-----------------+</span>
<span class="token operator">|</span> ä¸‹çº§å‘˜å·¥åç§°         <span class="token operator">|</span> ä¸‹çº§å‘˜å·¥å·¥ä½œ         <span class="token operator">|</span> ç®¡ç†è€…ID     <span class="token operator">|</span> ç®¡ç†è€…åç§°       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+--------------------+-------------+-----------------+</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> SMITH           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> WARD            <span class="token operator">|</span>
<span class="token operator">|</span> FORD               <span class="token operator">|</span> ANALYST            <span class="token operator">|</span>        <span class="token number">7566</span> <span class="token operator">|</span> JONES           <span class="token operator">|</span>
<span class="token operator">|</span> KING               <span class="token operator">|</span> ANALYST            <span class="token operator">|</span>        <span class="token number">7566</span> <span class="token operator">|</span> JONES           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> MARTIN          <span class="token operator">|</span>
<span class="token operator">|</span> MILLER             <span class="token operator">|</span> CLERK              <span class="token operator">|</span>        <span class="token number">7782</span> <span class="token operator">|</span> BLACK           <span class="token operator">|</span>
<span class="token operator">|</span> MILLER             <span class="token operator">|</span> CLERK              <span class="token operator">|</span>        <span class="token number">7782</span> <span class="token operator">|</span> BLACK           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> COALK           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> SOCTT           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> KING            <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> TURNER          <span class="token operator">|</span>
<span class="token operator">|</span> SMITH              <span class="token operator">|</span> CLERK              <span class="token operator">|</span>        <span class="token number">7902</span> <span class="token operator">|</span> JAMES           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> FORD            <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> MILLER          <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span> <span class="token boolean">NULL</span>               <span class="token operator">|</span>        <span class="token boolean">NULL</span> <span class="token operator">|</span> MILLER          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+--------------------+-------------+-----------------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h1 id="mysqlçº¦æŸ" tabindex="-1"><a class="header-anchor" href="#mysqlçº¦æŸ" aria-hidden="true">#</a> Mysqlçº¦æŸ</h1><p>å˜›ï¼Œè¿™ç©æ„å¯èƒ½æ˜¯sqlä¸­åˆ›å»ºè¡¨æ—¶å¿…å¤‡çš„ç©æ„äº†</p><h2 id="primary-key-ä¸»é”®çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#primary-key-ä¸»é”®çº¦æŸ" aria-hidden="true">#</a> Primary key ä¸»é”®çº¦æŸ</h2><p>è¯­æ³•ï¼š<code>å­—æ®µå å­—æ®µç±»å‹ PRIMARY KEY</code></p><p>ç”¨äºå”¯ä¸€çš„æ ‡è¯†è¯¥å­—æ®µï¼ˆè¡¨è¡Œï¼‰çš„æ•°æ®å½“å®šä¹‰ä¸»é”®åï¼Œè¯¥åˆ—<strong>ä¸èƒ½é‡å¤</strong></p><p>è¿™ä¸ª ã€‚ã€‚ã€‚åªèƒ½è¯´æ˜¯ä¸€å¼ è¡¨éƒ½å¾—ç”¨å®ƒ</p><figure><img src="`+z+`" alt="image-20211122163807238" tabindex="0" loading="lazy"><figcaption>image-20211122163807238</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># å‰é¢æ·»åŠ ä¸»é”®</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># åé¢æ·»åŠ ä¸»é”®</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token punctuation">,</span>
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># ä¸€ä¸ªè¡¨æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤åˆä¸»é”®</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
 id <span class="token keyword">int</span><span class="token punctuation">,</span>
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>email<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># è®©è¿™ä¸¤ä¸ªå€¼éƒ½ä¸èƒ½é‡å¤</span>

<span class="token comment"># ä½†æ˜¯ä¸èƒ½ä¸¤ç§æ–¹å¼ä¸€èµ·ç”¨</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span> <span class="token comment">-- ç»å¯¹ä¸èƒ½å…ˆåœ¨è¿™å®šä¹‰ä¸»é”®ååˆåœ¨å°¾éƒ¨å®šä¹‰ä¸»é”® åªèƒ½äºŒé€‰ä¸€</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="not-null-éç©ºçº¦æŸ" tabindex="-1"><a class="header-anchor" href="#not-null-éç©ºçº¦æŸ" aria-hidden="true">#</a> NOT NULL éç©ºçº¦æŸ</h2><p>è¿™ä¸ªä¸å¤šè¯´äº†</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
 å­—æ®µå å­—æ®µç±»å‹ <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="unique-å”¯ä¸€çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#unique-å”¯ä¸€çº¦æŸ" aria-hidden="true">#</a> UNIQUE å”¯ä¸€çº¦æŸ</h2><p>è®©æŸä¸ªå­—æ®µä¸èƒ½æœ‰é‡å¤å€¼</p><p>æ³¨æ„ï¼Œè¿™ç©æ„ä¸€å®šè¦é…åˆéç©ºçº¦æŸ<code>not null</code>æ¥ä½¿ç”¨</p><p>å¦‚æœæ²¡æœ‰æŒ‡å®š<code>not null</code>ï¼Œåˆ™<code>unique</code>å­—æ®µå¯ä»¥æœ‰å¤šä¸ªnull</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å<span class="token punctuation">(</span>
 å­—æ®µå€¼ å­—æ®µç±»å‹ <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="foreign-key-å¤–é”®çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#foreign-key-å¤–é”®çº¦æŸ" aria-hidden="true">#</a> FOREIGN KEY å¤–é”®çº¦æŸ</h2><p>è¯­æ³•ï¼š<code>FOREIGN KEY (æœ¬è¡¨å­—æ®µå) REFERENCES ä¸»è¡¨å(ä¸»é”®åæˆ–UNIQUEå­—æ®µå)</code></p><p>ç”¨è¯­å®šä¹‰ä¸»è¡¨å’Œä»è¡¨ä¹‹é—´ å…³ç³»ï¼Œå¤–é”®çº¦æŸè¦å®šä¹‰åœ¨ä»è¡¨ä¸Šï¼Œä¸”ä¸»è¡¨å¿…é¡»å…·æœ‰ä¸»é”®çº¦æŸæˆ–æ˜¯<code>unique</code>çº¦æŸï¼Œå½“å®šä¹‰å¤–é”®çº¦æŸåï¼Œè¦æ±‚å¤–é”®çº¦æŸçš„å­—æ®µï¼ˆåˆ—ï¼‰çš„æ•°æ®ï¼ˆå€¼ï¼‰å¿…é¡»åœ¨ä¸»è¡¨çš„ä¸»é”®åˆ—å­˜åœ¨æˆ–æ˜¯ä¸ºnull</p><p>å¤–é”®çº¦æŸå®šä¹‰åï¼Œè‹¥ä¸»è¡¨è¦åˆ é™¤æŸä¸ªå€¼ï¼Œä¸”è¯¥å€¼æ­£åœ¨å¤–ç•Œçº¦æŸçš„å½±å“ä¸‹ï¼Œä¸”ä»è¡¨æ­£åœ¨ä½¿ç”¨ä»–ï¼Œéœ€è¦å…ˆåˆ é™¤æ­£åœ¨ä½¿ç”¨å®ƒçš„ä»è¡¨ä¸­ç”¨äº†å®ƒçš„å†…å®¹ï¼Œæ‰èƒ½åˆ é™¤å®ƒçš„å€¼</p><p><strong>ä¸€ä¸ªä»è¡¨ä¸­ï¼Œå¤–é”®å¯ä»¥æœ‰å¤šä¸ªï¼Œä»»ä½•è¡¨éƒ½å¯ä»¥æ˜¯ä»è¡¨</strong></p><figure><img src="`+H+'" alt="image-20211122170615206" tabindex="0" loading="lazy"><figcaption>image-20211122170615206</figcaption></figure><figure><img src="'+Y+'" alt="image-20211122164902068" tabindex="0" loading="lazy"><figcaption>image-20211122164902068</figcaption></figure><figure><img src="'+F+`" alt="image-20211122164935895" tabindex="0" loading="lazy"><figcaption>image-20211122164935895</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> class_tab<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#å­¦ç”Ÿè¡¨ï¼Œå¤–é”®çº¦æŸ</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student_tab<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span> 
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    class_id <span class="token keyword">int</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>class_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> class_tab <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># æµ‹è¯•æ•°æ®</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> class_tab <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;1å¹´çº§1ç­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;2å¹´çº§2ç­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> student_tab <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;æå››&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#æ’å…¥è¿™æ¡å°†ä¼šæŠ¥é”™</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student_tab <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;ç‹è€äº”&quot;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#Cannot add or update a child row: a foreign key constraint fails (\`db1\`.\`student_tab\`, CONSTRAINT \`student_tab_ibfk_1\` FOREIGN KEY (\`class_id\`) REFERENCES \`class_tab\` (\`id\`))</span>

<span class="token comment"># æ’å…¥è¯¥ç­çº§åå†æ’å…¥å€¼ å°†å¯ä»¥æ­£å¸¸æ’å…¥</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> class_tab <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;3å¹´çº§3ç­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> student_tab <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;ç‹è€äº”&quot;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># å½“ç„¶ï¼Œå¦‚æœåœ¨å›¾å½¢åŒ–è½¯ä»¶é‡Œé¢ï¼Œå¯ä»¥æ›´ç›´è§‚çš„çœ‹åˆ°å¤–é”®</span>
<span class="token operator">+</span><span class="token comment">----+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span>å¹´çº§<span class="token number">1</span>ç­    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2</span>å¹´çº§<span class="token number">2</span>ç­    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">3</span>å¹´çº§<span class="token number">3</span>ç­    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+</span>

<span class="token operator">+</span><span class="token comment">----+-----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name      <span class="token operator">|</span> class_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰      <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> æå››      <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> ç‹è€äº”    <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------+----------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å›¾å½¢åŒ–ç•Œé¢å¯ä»¥è½»æ¾åœ°é€‰æ‹©å¤–é”®</p><figure><img src="`+V+'" alt="image-20211122170505505" tabindex="0" loading="lazy"><figcaption>image-20211122170505505</figcaption></figure><h2 id="checkçº¦æŸ-è¦æ±‚å­—æ®µæ»¡è¶³æŒ‡å®šæ¡ä»¶-æšä¸¾çº¦å®š" tabindex="-1"><a class="header-anchor" href="#checkçº¦æŸ-è¦æ±‚å­—æ®µæ»¡è¶³æŒ‡å®šæ¡ä»¶-æšä¸¾çº¦å®š" aria-hidden="true">#</a> Checkçº¦æŸ -è¦æ±‚å­—æ®µæ»¡è¶³æŒ‡å®šæ¡ä»¶ï¼ˆæšä¸¾çº¦å®šï¼‰</h2><figure><img src="'+P+`" alt="image-20211122171017894" tabindex="0" loading="lazy"><figcaption>image-20211122171017894</figcaption></figure><p>åœ¨Mysql8.0ä¸­ï¼Œå·²ç»å¯ä»¥æ”¯æŒéªŒè¯äº†ï¼Œæ’å…¥ä¸åˆæ³•çš„å€¼ï¼Œå°†æ’å…¥å¤±æ•ˆ</p><p>åœ¨<code>oracle</code>ã€<code>sql server</code>ä¸­ï¼Œè¿™ä¸ªçº¦æŸæ˜¯ä¸€å®šä¼šç”Ÿæ•ˆçš„</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> my_test_nx<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    sex <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>sex <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token string">&#39;man&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;woman&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    sal <span class="token keyword">double</span> <span class="token keyword">check</span><span class="token punctuation">(</span>sal<span class="token operator">&gt;</span><span class="token number">1000</span> <span class="token operator">and</span> sal<span class="token operator">&lt;</span><span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> my_test_nx <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;å¼ ä¸‰&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;man&#39;</span><span class="token punctuation">,</span><span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> my_test_nx <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;æå››&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;woman&#39;</span><span class="token punctuation">,</span><span class="token number">1999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># mysql8 ä¸­ è¿™æ¡å°†æ’å…¥å¤±æ•ˆ</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> my_test_nx <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&#39;ç‹è€äº”&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">,</span><span class="token number">1999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># ERROR 3819 (HY000): Check constraint &#39;my_test_nx_chk_1&#39; is violated.</span>
<span class="token comment"># è¿™æ¡ä¹Ÿæ˜¯</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> my_test_nx <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&#39;ç‹è€äº”&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;man&#39;</span><span class="token punctuation">,</span><span class="token number">22333</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># ERROR 3819 (HY000): Check constraint &#39;my_test_nx_chk_2&#39; is violated.</span>

<span class="token operator">+</span><span class="token comment">----+--------+-------+------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex   <span class="token operator">|</span> sal  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+-------+------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span> man   <span class="token operator">|</span> <span class="token number">1001</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> æå››   <span class="token operator">|</span> woman <span class="token operator">|</span> <span class="token number">1999</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+-------+------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="auto-increment-è‡ªå¢é•¿" tabindex="-1"><a class="header-anchor" href="#auto-increment-è‡ªå¢é•¿" aria-hidden="true">#</a> Auto_increment-è‡ªå¢é•¿</h2><p>å¦‚å…¶åï¼Œè‡ªåŠ¨å¢é•¿ï¼Œé€‚ç”¨äºä¸»é”®ç­‰ é€šå¸¸æƒ…å†µä¸‹ä¸»é”®éƒ½ä¼šç”¨å®ƒ</p><p>ä¹Ÿå¾—åï¼šä¸»é”®è‡ªå¢</p><figure><img src="`+W+`" alt="image-20211122173148429" tabindex="0" loading="lazy"><figcaption>image-20211122173148429</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#è‡ªå¢é•¿</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> test_auto<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># ä¿®æ”¹é»˜è®¤çš„è‡ªå¢é•¿å¼€å§‹çš„å€¼</span>
<span class="token comment"># 1.åˆ›å»ºæ—¶æŒ‡å®š</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> test_auto<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">auto_increment</span><span class="token operator">=</span><span class="token number">10001</span><span class="token punctuation">;</span>
<span class="token comment"># 2 åˆ›å»ºåä¿®æ”¹</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> test_auto <span class="token keyword">AUTO_INCREMENT</span> <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªå¢é•¿å¢å½’é›¶" tabindex="-1"><a class="header-anchor" href="#è‡ªå¢é•¿å¢å½’é›¶" aria-hidden="true">#</a> è‡ªå¢é•¿å¢å½’é›¶</h3><p>Â·å¦‚æœæ›¾ç»çš„æ•°æ®éƒ½ä¸éœ€è¦çš„è¯ï¼Œå¯ä»¥ç›´æ¥æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼Œå¹¶å°†è‡ªå¢å­—æ®µæ¢å¤ä»1å¼€å§‹è®¡æ•°<br><code>truncate table è¡¨å</code></p><p>æˆ–è€…è¦ä¿ç•™æ•°æ®ï¼Œä½†æ˜¯åæ’å…¥çš„æ•°æ®éƒ½æ˜¯æŒ‰ç…§æ–°çš„å€¼æ¥å¼€å§‹è®¡ç®—</p><p><code>ALTER TABLE è¡¨å AUTO_INCREMENT = å€¼;</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> test_auto<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;jock&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;having&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;booluse&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+---------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+---------+</span>
<span class="token operator">|</span> <span class="token number">1000</span> <span class="token operator">|</span> jock    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1001</span> <span class="token operator">|</span> <span class="token keyword">having</span>  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1002</span> <span class="token operator">|</span> booluse <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+---------+</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> test_auto <span class="token keyword">AUTO_INCREMENT</span> <span class="token operator">=</span> <span class="token number">6666</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> test_auto<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;jiny&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;makr&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&#39;ddd&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+---------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+---------+</span>
<span class="token operator">|</span> <span class="token number">1000</span> <span class="token operator">|</span> jock    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1001</span> <span class="token operator">|</span> <span class="token keyword">having</span>  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1002</span> <span class="token operator">|</span> booluse <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6666</span> <span class="token operator">|</span> jiny    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6667</span> <span class="token operator">|</span> makr    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6668</span> <span class="token operator">|</span> ddd     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+---------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="mysqlç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#mysqlç´¢å¼•" aria-hidden="true">#</a> Mysqlç´¢å¼•</h1><figure><img src="`+Q+'" alt="image-20211122173232565" tabindex="0" loading="lazy"><figcaption>image-20211122173232565</figcaption></figure>',132),en={href:"https://blog.csdn.net/qq_40530040/article/details/107623254",target:"_blank",rel:"noopener noreferrer"},pn=p(`<p>æˆ–è€…æŒ‰ç…§ä¸‹æ–¹ä»£ç é¡ºåºçš„è¿è¡Œ( åˆ†å¼€è¿è¡Œ)</p><p>ç¬¬ä¸€æ­¥ï¼š è¿™ä¸€æ­¥å¯èƒ½ä¼šå‡ºé”™ï¼Œå‡ºé”™çš„è¯å°±ä¸‰ä¸ªå»ºè¡¨çš„åˆ†å¼€æ‰§è¡Œå³å¯</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># ç¬¬ä¸€è¡Œä»£ç çš„ç”¨é€”ï¼šhttps://blog.csdn.net/topasstem8/article/details/8216740/</span>
<span class="token keyword">set</span> <span class="token keyword">global</span> log_bin_trust_function_creators<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> dept<span class="token punctuation">(</span> <span class="token comment">/*éƒ¨é—¨è¡¨*/</span>
deptno <span class="token keyword">MEDIUMINT</span>   <span class="token keyword">UNSIGNED</span>  <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>
dname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">DEFAULT</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
loc <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">)</span> <span class="token punctuation">;</span>
ï¬<span class="token comment">#åˆ›å»ºè¡¨EMPé›‡å‘˜</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp
<span class="token punctuation">(</span>empno  <span class="token keyword">MEDIUMINT</span> <span class="token keyword">UNSIGNED</span>  <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">/*ç¼–å·*/</span>
ename <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">/*åå­—*/</span>
job <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token comment">/*å·¥ä½œ*/</span>
mgr <span class="token keyword">MEDIUMINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">/*ä¸Šçº§ç¼–å·*/</span>
hiredate <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token comment">/*å…¥èŒæ—¶é—´*/</span>
sal <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token comment">/*è–ªæ°´*/</span>
comm <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token comment">/*çº¢åˆ©*/</span>
deptno <span class="token keyword">MEDIUMINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token comment">/*éƒ¨é—¨ç¼–å·*/</span>
<span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token comment">#å·¥èµ„çº§åˆ«è¡¨</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> salgrade
<span class="token punctuation">(</span>
grade <span class="token keyword">MEDIUMINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>
losal <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
hisal <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#æµ‹è¯•æ•°æ®</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">700</span><span class="token punctuation">,</span><span class="token number">1200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1201</span><span class="token punctuation">,</span><span class="token number">1400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1401</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2001</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> salgrade <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3001</span><span class="token punctuation">,</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬äºŒæ­¥</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">delimiter</span> $$

<span class="token comment">#åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œåå­— rand_stringï¼Œå¯ä»¥éšæœºè¿”å›æˆ‘æŒ‡å®šçš„ä¸ªæ•°å­—ç¬¦ä¸²</span>
<span class="token keyword">create</span> <span class="token keyword">function</span> rand_string<span class="token punctuation">(</span>n <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">returns</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token comment">#è¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</span>
<span class="token keyword">begin</span>
<span class="token comment">#å®šä¹‰äº†ä¸€ä¸ªå˜é‡ chars_strï¼Œ ç±»å‹  varchar(100)</span>
<span class="token comment">#é»˜è®¤ç»™ chars_str åˆå§‹å€¼   &#39;abcdefghijklmnopqrstuvwxyzABCDEFJHIJKLMNOPQRSTUVWXYZ&#39;</span>
 <span class="token keyword">declare</span> chars_str <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">default</span>
   <span class="token string">&#39;abcdefghijklmnopqrstuvwxyzABCDEFJHIJKLMNOPQRSTUVWXYZ&#39;</span><span class="token punctuation">;</span> 
 <span class="token keyword">declare</span> return_str <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
 <span class="token keyword">declare</span> i <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span> 
 <span class="token keyword">while</span> i <span class="token operator">&lt;</span> n 
 <span class="token keyword">do</span>
    <span class="token comment"># concat å‡½æ•° : è¿æ¥å‡½æ•°mysqlå‡½æ•°</span>
   <span class="token keyword">set</span> return_str <span class="token operator">=</span>concat<span class="token punctuation">(</span>return_str<span class="token punctuation">,</span>substring<span class="token punctuation">(</span>chars_str<span class="token punctuation">,</span>floor<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">52</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">set</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token keyword">end</span> <span class="token keyword">while</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> return_str<span class="token punctuation">;</span>
  <span class="token keyword">end</span> $$


<span class="token comment">#è¿™é‡Œæˆ‘ä»¬åˆè‡ªå®šäº†ä¸€ä¸ªå‡½æ•°,è¿”å›ä¸€ä¸ªéšæœºçš„éƒ¨é—¨å·</span>
<span class="token keyword">create</span> <span class="token keyword">function</span> rand_num<span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token keyword">returns</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">begin</span>
<span class="token keyword">declare</span> i <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">set</span> i <span class="token operator">=</span> floor<span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">+</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> i<span class="token punctuation">;</span>
<span class="token keyword">end</span> $$

 <span class="token comment">#åˆ›å»ºä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œ å¯ä»¥æ·»åŠ é›‡å‘˜</span>
<span class="token keyword">create</span> <span class="token keyword">procedure</span> insert_emp<span class="token punctuation">(</span><span class="token operator">in</span> <span class="token keyword">start</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">in</span> max_num <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">begin</span>
<span class="token keyword">declare</span> i <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">#set autocommit =0 æŠŠautocommitè®¾ç½®æˆ0</span>
 <span class="token comment">#autocommit = 0 å«ä¹‰: ä¸è¦è‡ªåŠ¨æäº¤</span>
 <span class="token keyword">set</span> autocommit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">#é»˜è®¤ä¸æäº¤sqlè¯­å¥</span>
 <span class="token keyword">repeat</span>
 <span class="token keyword">set</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token comment">#é€šè¿‡å‰é¢å†™çš„å‡½æ•°éšæœºäº§ç”Ÿå­—ç¬¦ä¸²å’Œéƒ¨é—¨ç¼–å·ï¼Œç„¶ååŠ å…¥åˆ°empè¡¨</span>
 <span class="token keyword">insert</span> <span class="token keyword">into</span> emp <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">start</span><span class="token operator">+</span>i<span class="token punctuation">)</span> <span class="token punctuation">,</span>rand_string<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;SALESMAN&#39;</span><span class="token punctuation">,</span><span class="token number">0001</span><span class="token punctuation">,</span>curdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span>rand_num<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  until i <span class="token operator">=</span> max_num
 <span class="token keyword">end</span> <span class="token keyword">repeat</span><span class="token punctuation">;</span>
 <span class="token comment">#commitæ•´ä½“æäº¤æ‰€æœ‰sqlè¯­å¥ï¼Œæé«˜æ•ˆç‡</span>
   <span class="token keyword">commit</span><span class="token punctuation">;</span>
 <span class="token keyword">end</span> $$

<span class="token comment">#è¿™é‡Œæˆ‘ä»¬åˆè‡ªå®šäº†ä¸€ä¸ªå‡½æ•°,è¿”å›ä¸€ä¸ªéšæœºçš„éƒ¨é—¨å·</span>
<span class="token keyword">create</span> <span class="token keyword">function</span> rand_num<span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token keyword">returns</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">begin</span>
<span class="token keyword">declare</span> i <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">set</span> i <span class="token operator">=</span> floor<span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">+</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> i<span class="token punctuation">;</span>
<span class="token keyword">end</span> $$

 <span class="token comment">#åˆ›å»ºä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œ å¯ä»¥æ·»åŠ é›‡å‘˜</span>
<span class="token keyword">create</span> <span class="token keyword">procedure</span> insert_emp<span class="token punctuation">(</span><span class="token operator">in</span> <span class="token keyword">start</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">in</span> max_num <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">begin</span>
<span class="token keyword">declare</span> i <span class="token keyword">int</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">#set autocommit =0 æŠŠautocommitè®¾ç½®æˆ0</span>
 <span class="token comment">#autocommit = 0 å«ä¹‰: ä¸è¦è‡ªåŠ¨æäº¤</span>
 <span class="token keyword">set</span> autocommit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">#é»˜è®¤ä¸æäº¤sqlè¯­å¥</span>
 <span class="token keyword">repeat</span>
 <span class="token keyword">set</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token comment">#é€šè¿‡å‰é¢å†™çš„å‡½æ•°éšæœºäº§ç”Ÿå­—ç¬¦ä¸²å’Œéƒ¨é—¨ç¼–å·ï¼Œç„¶ååŠ å…¥åˆ°empè¡¨</span>
 <span class="token keyword">insert</span> <span class="token keyword">into</span> emp <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">start</span><span class="token operator">+</span>i<span class="token punctuation">)</span> <span class="token punctuation">,</span>rand_string<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;SALESMAN&#39;</span><span class="token punctuation">,</span><span class="token number">0001</span><span class="token punctuation">,</span>curdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span>rand_num<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  until i <span class="token operator">=</span> max_num
 <span class="token keyword">end</span> <span class="token keyword">repeat</span><span class="token punctuation">;</span>
 <span class="token comment">#commitæ•´ä½“æäº¤æ‰€æœ‰sqlè¯­å¥ï¼Œæé«˜æ•ˆç‡</span>
   <span class="token keyword">commit</span><span class="token punctuation">;</span>
 <span class="token keyword">end</span> $$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸‰æ­¥ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">delimiter</span> $$
<span class="token comment"># è¿™é‡Œæ˜¯ç”Ÿæˆçš„æ•°æ®é‡</span>
<span class="token keyword">CALL</span> insert_emp <span class="token punctuation">(</span> <span class="token number">100001</span><span class="token punctuation">,</span> <span class="token number">10000</span> <span class="token punctuation">)</span> $$
<span class="token keyword">DELIMITER</span><span class="token punctuation">;</span>
<span class="token comment"># è¿™é‡Œçš„10000 å¯ä»¥æ›¿æ¢ä¸ºè‡ªå·±æƒ³è¦çš„æ•°å€¼ï¼Œæˆ‘æ›¿æ¢çš„æ˜¯100w ç”¨æ—¶300s</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹è‡ªå·±ç”µè„‘æœ‰ä¿¡å¿ƒçš„è¯å¯ä»¥1000wï¼Œåƒä¸‡ä¸è¦1ä¸ªäº¿ï¼Œé™¤éä½ çš„æ—¶é—´å’Œç¡¬ç›˜ç©ºé—´æ˜¯çœŸæ»´å¤š</p><p>æ¥ä¸‹æ¥å°è¯•æŸ¥è¯¢ä¸‹ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> empno<span class="token operator">=</span><span class="token number">123456</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+------+------------+---------+--------+--------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm   <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+------+------------+---------+--------+--------+</span>
<span class="token operator">|</span> <span class="token number">123456</span> <span class="token operator">|</span> qJxjJC <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2000.00</span> <span class="token operator">|</span> <span class="token number">400.00</span> <span class="token operator">|</span>    <span class="token number">432</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+------+------------+---------+--------+--------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.75</span> sec<span class="token punctuation">)</span>

<span class="token comment"># å¯ä»¥çœ‹åˆ°ï¼Œè¿™åªæ˜¯æ’å…¥äº†100wæ¡æ•°æ®ï¼ŒæŸ¥è¯¢çš„é€Ÿåº¦å°±å˜æˆäº†0.75s</span>
<span class="token comment"># 1kwå¤§æ¦‚è¦5~10s</span>
<span class="token comment"># å¦‚æœåœ¨å·¥ä½œä¸­ï¼ŒæŸ¥ä¸ªä¸œè¥¿ç»™ç”¨æˆ·è¦è¿™ä¹ˆä¹…æ—¶é—´ï¼Œä¼šè¢«éª‚æ­»..</span>
<span class="token comment"># ä¸¾ä¸ªå½¢è±¡ç‚¹çš„ä¾‹å­ï¼Œæ‰“ä¸ªæ¸¸æˆï¼Œä¹°ä¸ªè£…å¤‡ï¼Œè¦åœ¨å•†åº—å‰ç­‰åˆ°5ç§’æ‰èƒ½æ‹¿åˆ°è£…å¤‡</span>
<span class="token comment"># 5ç§’åœ¨é‚£é‡Œå¡ç€å¹²ç­‰ï¼Œä»€ä¹ˆéƒ½åšä¸äº†</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥ä½¿ç”¨ç´¢å¼•ä¼˜åŒ–ä¸‹è¡¨</p><figure><img src="`+X+`" alt="image-20211122204414063" tabindex="0" loading="lazy"><figcaption>image-20211122204414063</figcaption></figure><p>ä¼˜åŒ–å‰ï¼Œè¿™ä¸ªè¡¨æ˜¯72mbï¼ŒæŸ¥è¯¢ä¸€æ¬¡å¤§æ¦‚è¦1sçš„æ—¶é—´</p><h2 id="åˆ›å»ºç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºç´¢å¼•" aria-hidden="true">#</a> åˆ›å»ºç´¢å¼•</h2><p>è¯­æ³•ï¼š<code>CREATE INDEX ç´¢å¼•å ON è¡¨å(å­—æ®µ);</code></p><p>ç´¢å¼•åˆ›å»ºéœ€è¦æ—¶é—´ï¼Œç´¢å¼•è·Ÿæ•°æ®ä¸€æ ·ï¼Œä¹Ÿå ç”¨ç©ºé—´</p><p>ä½†æ˜¯èƒ½å¯¹æŸ¥è¯¢é€Ÿåº¦æœ‰æ˜¾è‘—æå‡</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> empno_index <span class="token keyword">ON</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># empno_index ç´¢å¼•åç§°</span>
<span class="token comment"># ON emp(empno) è¡¨ç¤ºåœ¨è¡¨empçš„empnoè¿™ä¸ªå­—æ®µåˆ›å»ºç´¢å¼•;</span>
<span class="token comment"># æˆ‘è¿™é‡Œåˆ›å»ºç´¢å¼•èŠ±äº†3s</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+$+`" alt="image-20211122204942231" tabindex="0" loading="lazy"><figcaption>image-20211122204942231</figcaption></figure><p>åˆ›å»ºå®Œæ¯•åï¼Œæ–‡ä»¶å¤§äº†10mb</p><p>ç´¢å¼•æœ¬èº«ä¹Ÿæ˜¯ä¼šå ç”¨ç£ç›˜ç©ºé—´</p><p>æ¥ä¸‹æ¥å°è¯•æœç´¢ä¸‹</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> empno<span class="token operator">=</span><span class="token number">123486</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> mgr <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm   <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token operator">|</span> <span class="token number">123486</span> <span class="token operator">|</span> XHtVyJ <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2000.00</span> <span class="token operator">|</span> <span class="token number">400.00</span> <span class="token operator">|</span>    <span class="token number">365</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
<span class="token comment"># ç¬é—´å®Œæˆ...</span>
<span class="token comment"># å¦‚æœæ˜¯1000wæ¡æ•°æ®ï¼Œä¹Ÿæ˜¯å¯ä»¥è¿™æ ·å®Œæˆ ä¸ä¿¡çš„è¯è‡ªè¡Œå°è¯•...</span>

<span class="token comment"># å½“ç„¶ï¼Œåˆ›å»ºç´¢å¼•åï¼Œåªå¯¹åˆ›å»ºäº†ç´¢å¼•çš„åˆ—æœ‰æ•ˆ</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename<span class="token operator">=</span><span class="token string">&#39;SxKgBm&#39;</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename<span class="token operator">=</span><span class="token string">&#39;SxKgBm&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> mgr <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm   <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token operator">|</span> <span class="token number">114014</span> <span class="token operator">|</span> SxKgBm <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2000.00</span> <span class="token operator">|</span> <span class="token number">400.00</span> <span class="token operator">|</span>    <span class="token number">339</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">627592</span> <span class="token operator">|</span> SxKgBm <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2000.00</span> <span class="token operator">|</span> <span class="token number">400.00</span> <span class="token operator">|</span>    <span class="token number">326</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.84</span> sec<span class="token punctuation">)</span>
<span class="token comment"># æ²¡åˆ›å»ºç´¢å¼•çš„åˆ—ä¾æ—§è¦1så·¦å³çš„æ—¶é—´</span>

<span class="token comment"># å¦‚æœä¸ºenmae ä¹Ÿåˆ›å»ºä¸ªç´¢å¼•ï¼š</span>
<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> ename_index <span class="token keyword">ON</span> emp<span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># åˆ›å»ºå®Œæ¯•åï¼Œæ–‡ä»¶å˜æˆäº†108MB</span>
<span class="token comment"># æœç´¢</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename<span class="token operator">=</span><span class="token string">&#39;SxKgBm&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> mgr <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm   <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token operator">|</span> <span class="token number">114014</span> <span class="token operator">|</span> SxKgBm <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2000.00</span> <span class="token operator">|</span> <span class="token number">400.00</span> <span class="token operator">|</span>    <span class="token number">339</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">627592</span> <span class="token operator">|</span> SxKgBm <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2000.00</span> <span class="token operator">|</span> <span class="token number">400.00</span> <span class="token operator">|</span>    <span class="token number">326</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ï¼Œç›®å‰ä¹Ÿæœ‰å¾ˆå¤šä¸è‰¯ç¨‹åºå‘˜ï¼Œä¼šç›´æ¥æŠŠäº§å“ç»™ç”¨æˆ·ç”¨ï¼Œç›´åˆ°ç”¨æˆ·å‘è§‰å¾ˆæ…¢çš„æ—¶å€™ï¼Œè®©ç”¨æˆ·åŠ é’±ä¼˜åŒ–</p><h2 id="ç´¢å¼•æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•æœºåˆ¶" aria-hidden="true">#</a> ç´¢å¼•æœºåˆ¶</h2><p>ä¸‹å›¾åˆ°æŸ¥è¯¢åˆ°1åä¸ç¡®å®šåé¢è¿˜æ²¡æœ‰æ²¡æœ‰id=1çš„ï¼Œæ‰€ä»¥è¦å…¨è¡¨æ‰«æ</p><figure><img src="`+Z+'" alt="image-20211122211047180" tabindex="0" loading="lazy"><figcaption>image-20211122211047180</figcaption></figure><figure><img src="'+ss+'" alt="image-20211122212123404" tabindex="0" loading="lazy"><figcaption>image-20211122212123404</figcaption></figure><p>ç´¢å¼•å¿«çš„åŸå› </p><ul><li>å½¢æˆäº†äºŒå‰æ ‘æˆ–Bæ ‘ç­‰ æ•°æ®ç»“æ„ï¼Œè®©æŸ¥è¯¢èµ·æ¥å˜å¾—é«˜æ•ˆå¿«æ· <ul><li>äºŒå‰æ ‘è¿™ç©æ„ä»¥åä¸€å®šå¾—å­¦</li></ul></li></ul><p>ç´¢å¼•çš„ä»£ä»·</p><ul><li><p>ç£ç›˜å ç”¨å¢åŠ </p><ul><li>ç´¢å¼•çš„æ•°æ®ç»“æ„ä¹Ÿæ˜¯è¦å ç”¨ç©ºé—´çš„</li></ul></li><li><p>DML(update delete insert)æ•ˆç‡å˜æ…¢ï¼ˆå½±å“ä¸æ˜¯å¾ˆå¤§ï¼‰</p><ul><li>å¢åˆ æ”¹ä¸€ä¸ªæ•°æ®åï¼Œè¦é‡æ–°çš„å»ç»´æŠ¤è¿™ä¸ªç´¢å¼•</li></ul><figure><img src="'+ns+`" alt="image-20211122212421742" tabindex="0" loading="lazy"><figcaption>image-20211122212421742</figcaption></figure></li></ul><p>å½“ç„¶ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå®é™…ä¸Š90%å·¦å³çš„ä¸šåŠ¡éƒ½æ˜¯åœ¨è¿›è¡ŒæŸ¥è¯¢ï¼Œåªæœ‰10%å·¦å³çš„ä¸šåŠ¡åœ¨è¿›è¡Œå¢åˆ æ”¹</p><h2 id="ç´¢å¼•çš„ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•çš„ç±»å‹" aria-hidden="true">#</a> ç´¢å¼•çš„ç±»å‹</h2><ol><li><p>ä¸»é”®ç´¢å¼•ï¼Œä¸»é”®è‡ªåŠ¨ä¸ºä¸»ç´¢å¼•ï¼ˆåŠ äº†<code>primary key</code>çš„å­—æ®µå°±ä¸éœ€è¦åŠ å…¶ä»–çš„ç´¢å¼•äº†ï¼‰</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>crate <span class="token keyword">table</span> t1<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
    <span class="token comment"># ä¸»é”®ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç´¢å¼•ï¼Œç§°ä¸ºä¸»é”®ç´¢å¼•</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å”¯ä¸€ç´¢å¼•<code>unique</code> åŒä¸Š</p></li><li><p>æ™®é€šç´¢å¼•<code>index</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> ç´¢å¼•å <span class="token keyword">ON</span> è¡¨å<span class="token punctuation">(</span>å­—æ®µ<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>å…¨æ–‡ç´¢å¼•(<code>fulltext</code>)</p><ul><li>mysqè‡ªå¸¦è¿™ç©æ„ï¼Œä½†æ˜¯ä¸å¥½ç”¨ï¼Œæ•ˆç‡ä¹Ÿæ¯”è¾ƒä½</li><li>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¾ˆå°‘ä¼šç”¨mysqlè‡ªå¸¦çš„å…¨æ–‡ç´¢å¼•ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨ä¸€äº›æ¡†æ¶çš„å…¨æ–‡æœç´¢ï¼š <ul><li>æ¯”å¦‚Javaçš„<code>Solr</code>å’Œ<code>ElasticSearch</code>æ¡†æ¶</li></ul></li><li>ä¸€èˆ¬å¼€å‘ä¸­ä¸ä½¿ç”¨mysqlè‡ªå¸¦çš„å…¨æ–‡ç´¢å¼•ï¼ˆä»»ä½•è¯­è¨€éƒ½æ˜¯å¦‚æ­¤ï¼‰</li></ul></li></ol><h2 id="å„ç§ç±»å‹çš„ç´¢å¼•æ·»åŠ ã€æŸ¥è¯¢ã€åˆ é™¤ã€ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#å„ç§ç±»å‹çš„ç´¢å¼•æ·»åŠ ã€æŸ¥è¯¢ã€åˆ é™¤ã€ä¿®æ”¹" aria-hidden="true">#</a> å„ç§ç±»å‹çš„ç´¢å¼•æ·»åŠ ã€æŸ¥è¯¢ã€åˆ é™¤ã€ä¿®æ”¹</h2><p><strong>æ·»åŠ ç´¢å¼•ï¼š</strong></p><p><code>create [å¯é€‰ UNIQUE] index ç´¢å¼•å on è¡¨å(å­—æ®µ1 [å¯é€‰ï¼šlength] [å¯é€‰ ASC|DESC], å­—æ®µ2... )</code></p><p>å¦‚æœæŸåˆ—çš„å€¼æ˜¯ä¸ä¼šé‡å¤çš„ï¼Œåˆ™ä¼˜å…ˆè€ƒè™‘uniqueç´¢å¼•</p><p>æ·»åŠ uniqueç´¢å¼•çš„åŒæ—¶ä¹Ÿä¼šæ·»åŠ å”¯ä¸€çº¦æŸ</p><p>æˆ–è€…</p><p><code>alter table è¡¨å add index ç´¢å¼•å (å­—æ®µå...)</code></p><p>è¿™é‡Œä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥æ·»åŠ ä¸»é”®ç´¢å¼•<code>alter table è¡¨å add primary key (å­—æ®µ);</code></p><p><strong>æŸ¥çœ‹ç´¢å¼•ï¼š</strong></p><ul><li><p><code>show index from è¡¨å;</code></p></li><li><p><code>show indexes from è¡¨å;</code></p></li><li><p><code>show keys from è¡¨å</code></p></li></ul><p>ä¸‰ç§æ–¹å¼éƒ½æ˜¯ç›¸åŒçš„ç»“æœ</p><ul><li><code>desc è¡¨å</code> ä¸­çš„KEYå­—æ®µå°±æ˜¯ç´¢å¼• é€šè¿‡è¿™ç§æ–¹å¼æŸ¥æ‰¾å‡ºæ¥çš„ç´¢å¼•ä¿¡æ¯æ²¡æœ‰å‰é¢çš„é‚£ä¹ˆè¯¦ç»†</li></ul><p><strong>åˆ é™¤æ™®é€šç´¢å¼•ï¼š</strong></p><p><code>drop index ç´¢å¼•åç§° on è¡¨å;</code></p><p>åˆ é™¤ä¸»é”®ç´¢å¼•ï¼š<code>alter table è¡¨å drop primary key;</code></p><p>ä¿®æ”¹ç´¢å¼•ï¼šå…ˆåˆ é™¤ï¼Œç„¶åæ·»åŠ æ–°çš„ç´¢å¼•~</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> ts<span class="token punctuation">(</span>
 id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#æŸ¥è¯¢ä¸€ä¸ªè¡¨æ˜¯å¦æœ‰ç´¢å¼•</span>
<span class="token keyword">SHOW</span> INDEXES <span class="token keyword">FROM</span> ts<span class="token punctuation">;</span>
<span class="token comment">#Empty set (0.00 sec)</span>
<span class="token comment"># æ²¡æœ‰ä»»ä½•ç´¢å¼•</span>

<span class="token comment"># æ·»åŠ å”¯ä¸€ç´¢å¼•</span>
<span class="token keyword">create</span> <span class="token keyword">unique</span> <span class="token keyword">index</span> id_index <span class="token keyword">ON</span> ts<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># æ·»åŠ æ™®é€šç´¢å¼•-alteræ–¹å¼</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> ts <span class="token keyword">add</span> <span class="token keyword">index</span> name_index <span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># æ·»åŠ ä¸»é”®ç´¢å¼•</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> ts2<span class="token punctuation">(</span>
 id <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token comment"># è¦ä¹ˆåœ¨è¿™é‡ŒåŠ </span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>
    <span class="token comment">#è¦ä¹ˆåœ¨è¿™é‡ŒåŠ </span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># åˆ›å»ºæ—¶å€™æ²¡åŠ çš„è¯å°±ï¼š</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> ts2 <span class="token keyword">add</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ·»åŠ å®Œç´¢å¼•åæŸ¥çœ‹ï¼šå”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•çš„ï¼š</p><figure><img src="`+as+'" alt="image-20211122220117209" tabindex="0" loading="lazy"><figcaption>image-20211122220117209</figcaption></figure><p>ä¸»é”®ç´¢å¼•çš„ï¼š</p><figure><img src="'+es+`" alt="image-20211122220509463" tabindex="0" loading="lazy"><figcaption>image-20211122220509463</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># åˆ é™¤æ™®é€šç´¢å¼•</span>
<span class="token keyword">drop</span> <span class="token keyword">index</span> id_index <span class="token keyword">on</span> ts<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">index</span> name_index <span class="token keyword">on</span> ts<span class="token punctuation">;</span>

<span class="token comment"># åˆ é™¤ä¸»é”®ç´¢å¼•</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> ts2 <span class="token keyword">drop</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç´¢å¼•ä½¿ç”¨åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•ä½¿ç”¨åŸåˆ™" aria-hidden="true">#</a> ç´¢å¼•ä½¿ç”¨åŸåˆ™</h2><p>åˆ›å»ºç´¢å¼•å‰ï¼Œå…ˆçœ‹çœ‹æ˜¯å¦éµå¾ªä»¥ä¸‹åŸåˆ™ï¼ˆå½“ç„¶ä¸Šå¸ç‰¹åˆ«è¦æ±‚çš„ç©æ„çš„è¯ï¼Œå•¥ç´¢å¼•éƒ½å¯ä»¥æ”¾ä¸Šå»ï¼‰</p><ol><li><p>è¾ƒé¢‘ç¹ä½œä¸ºæŸ¥è¯¢æ¡ä»¶å­—æ®µ<strong>åº”è¯¥</strong>åˆ›å»ºç´¢å¼•</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> empno <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>å”¯ä¸€æ€§å¤ªå·®çš„å­—æ®µ<strong>ä¸é€‚åˆ</strong>å•ç‹¬åˆ›å»ºç´¢å¼•ï¼Œå³ä½¿è¯¥å­—æ®µé¢‘ç¹çš„ä½œä¸ºæŸ¥è¯¢æ¡ä»¶</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sex<span class="token operator">=</span><span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æ›´æ–°éå¸¸é¢‘ç¹çš„å­—æ®µ<strong>ä¸é€‚åˆ</strong>åˆ›å»ºç´¢å¼•</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> logincount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ä¸ä¼šå‡ºç°åœ¨whereå­—å¥ä¸­çš„å­—æ®µ<strong>ä¸è¯¥</strong>åˆ›å»ºç´¢å¼•</p></li></ol><h1 id="mysqläº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#mysqläº‹åŠ¡" aria-hidden="true">#</a> Mysqläº‹åŠ¡</h1><p>äº‹åŠ¡ç”¨äºä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå®ƒç”±ä¸€ç»„ç›¸å…³çš„dmlè¯­å¥æ„æˆï¼Œè¯¥ç»„çš„dmlè¯­å¥è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥<br> å¦‚ï¼šè½¬è´¦å°±è¦ç”¨äº‹åŠ¡æ¥å¤„ç†ï¼Œç”¨ä»¥ç¡®ä¿äº‹åŠ¡çš„ä¸€è‡´æ€§</p><p>å½“æ‰§è¡Œäº‹åŠ¡æ“ä½œæ—¶(DMLè¯­å¥)ï¼ŒMYSQLä¼šåœ¨è¡¨ä¸ŠåŠ é”ï¼Œé˜²æ­¢å…¶ä»–ç”¨æˆ·ä¿®æ”¹è¡¨çš„æ•°æ®ï¼Œè¿™å¯¹ç”¨æˆ·æ¥è®²æ˜¯éå¸¸é‡è¦çš„</p><figure><img src="`+ps+'" alt="image-20211122222616278" tabindex="0" loading="lazy"><figcaption>image-20211122222616278</figcaption></figure><p>ä½¿ç”¨MySQLçš„äº‹åŠ¡ï¼Œç¬¬ä¸€æ­¥<strong>å¿…é¡»å¾—ç¡®ä¿</strong>Mysqlå½“å‰æ˜¯æ˜¯innodbå¼•æ“ï¼ŒæŸ¥çœ‹æ–¹å¼</p><p><code>show engines</code></p><figure><img src="'+os+'" alt="image-20211122225446144" tabindex="0" loading="lazy"><figcaption>image-20211122225446144</figcaption></figure><p>çœ‹åˆ°innoDBè¿™é‡Œçš„supportæ˜¯defaultå³å¯ï¼›å¦‚æœä¸æ˜¯å°±è¦ç™¾åº¦è‡ªè¡Œå¼€å¯</p><h2 id="åŸºæœ¬è¯­æ³•-1" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬è¯­æ³•-1" aria-hidden="true">#</a> åŸºæœ¬è¯­æ³•</h2><ul><li><code>start transaction</code> å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ <ul><li>æˆ–è€…<code>set autocommit=off</code></li></ul></li><li><code>savepoint</code> ä¿å­˜ç‚¹å è®¾ç½®ä¿å­˜ç‚¹</li><li><code>rollback to</code> ä¿å­˜ç‚¹å å›é€€äº‹åŠ¡</li><li><code>rollback</code> å›é€€å…¨éƒ¨äº‹ç‰©</li><li><code>commit</code> æäº¤äº‹åŠ¡ï¼Œæ‰€æœ‰çš„æ“ä½œç”Ÿæ•ˆï¼Œä¸èƒ½å›é€€</li></ul><figure><img src="'+ts+'" alt="image-20211122224421237" tabindex="0" loading="lazy"><figcaption>image-20211122224421237</figcaption></figure><figure><img src="'+ls+`" alt="image-20211122223136404" tabindex="0" loading="lazy"><figcaption>image-20211122223136404</figcaption></figure><p>å›æ»šå¯ä»¥è®©äº‹åŠ¡èƒ½åƒåæ‚”è¯</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 1  æµ‹è¯•è¡¨</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> person<span class="token punctuation">(</span>
 id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 2 å¼€å§‹äº‹åŠ¡</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token comment"># 3 è®¾ç½®ä¿å­˜ç‚¹</span>
<span class="token keyword">SAVEPOINT</span> a<span class="token punctuation">;</span>
<span class="token comment"># æ‰§è¡Œdmlæ“ä½œ</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> person <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">&#39;tom&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>  <span class="token number">100</span> <span class="token operator">|</span> tom  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>

<span class="token comment"># è®¾ç½®ç¬¬äºŒä¸ªä¿å­˜ç‚¹</span>
<span class="token keyword">savepoint</span> b<span class="token punctuation">;</span>
<span class="token comment"># æ‰§è¡Œdmlæ“ä½œ</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> person <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">&#39;jack&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>  <span class="token number">100</span> <span class="token operator">|</span> tom  <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">200</span> <span class="token operator">|</span> jack <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>

<span class="token comment"># å›é€€åˆ°Bä¿å­˜ç‚¹</span>
<span class="token keyword">ROLLBACK</span> <span class="token keyword">TO</span> b<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>  <span class="token number">100</span> <span class="token operator">|</span> tom  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>

<span class="token comment">#ç»§ç»­å›é€€</span>
<span class="token keyword">rollback</span> <span class="token keyword">to</span> a<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>
<span class="token comment">#--æ²¡æœ‰ä»»ä½•è®°å½•</span>

<span class="token comment">#å¦‚æœç›´æ¥rollback</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span> 
<span class="token comment"># ç›´æ¥å›é€€åˆ°äº‹ç‰©å¼€å§‹çš„çŠ¶æ€</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> person <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">&#39;jack&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># æäº¤æ‰€æœ‰äº‹ç‰©ï¼Œè®©å…¶æ— æ³•å›é€€ å¹¶ä¸”å°†æ‰€æœ‰ä¿å­˜ç‚¹ä¸€å¹¶åˆ é™¤</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> person<span class="token punctuation">;</span>

<span class="token comment">#å¦‚æœè¯•å›¾å†æ¬¡å›é€€</span>
<span class="token keyword">rollback</span> <span class="token keyword">to</span> a<span class="token punctuation">;</span>
<span class="token comment">#ERROR 1305 (42000): SAVEPOINT a does not exist</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äº‹åŠ¡çš„ç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#äº‹åŠ¡çš„ç»†èŠ‚" aria-hidden="true">#</a> äº‹åŠ¡çš„ç»†èŠ‚</h2><figure><img src="`+cs+'" alt="image-20211122224643847" tabindex="0" loading="lazy"><figcaption>image-20211122224643847</figcaption></figure><p>æ•°æ®åº“çš„å­˜å‚¨å¼•æ“ä¸€å®šè¦æ˜¯innodbï¼</p><h2 id="mysqlçš„äº‹åŠ¡éš”ç¦»çº§åˆ«" tabindex="-1"><a class="header-anchor" href="#mysqlçš„äº‹åŠ¡éš”ç¦»çº§åˆ«" aria-hidden="true">#</a> Mysqlçš„äº‹åŠ¡éš”ç¦»çº§åˆ«</h2><ol><li>å¤šä¸ªè¿æ¥å¼€å¯å„è‡ªäº‹åŠ¡æ“ä½œæ•°æ®åº“ä¸­æ•°æ®æ—¶ï¼Œæ•°æ®åº“ç³»ç»Ÿè¦è´Ÿè´£éš”ç¦»æ€§ï¼Œä»¥ä¿è¯å„ä¸ªè¿æ¥åœ¨è·å–æ•°æ®æ—¶çš„å‡†ç¡®æ€§</li><li>å¦‚æœä¸è€ƒè™‘éš”ç¦»æ€§ï¼Œå¯èƒ½ä¼šå¼•å‘å¦‚ä¸‹é—®é¢˜ï¼š <ul><li>è„è¯»<br> å½“ä¸€ä¸ªäº‹åŠ¡è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡å°šæœªæäº¤çš„æ”¹å˜(å¢åˆ æ”¹)æ—¶ï¼Œäº§ç”Ÿè„è¯»</li><li>ä¸å¯é‡å¤è¯»<br> åŒä¸€æŸ¥è¯¢åœ¨åŒä¸€äº‹åŠ¡ä¸­å¤šæ¬¡è¿›è¡Œï¼Œç”±äºå…¶ä»–æäº¤äº‹åŠ¡æ‰€åšçš„ä¿®æ”¹æˆ–åˆ é™¤ï¼Œæ¯æ¬¡è¿”å›ä¸åŒçš„ç»“æœé›†ï¼Œæ­¤æ—¶å‘ç”Ÿä¸å¯é‡å¤åº¦</li><li>å¹»è¯»<br> åŒä¸€æŸ¥è¯¢åœ¨åŒä¸€äº‹åŠ¡ä¸­å¤šæ¬¡è¿›è¡Œï¼Œç”±äºå…¶ä»–æäº¤äº‹åŠ¡æ‰€åšçš„æ’å…¥æ“ä½œï¼Œæ¯æ¬¡è¿”å›ä¸åŒçš„ç»“æœï¼Œæ­¤æ—¶å‘ç”Ÿå¹»è¯»</li></ul></li></ol><figure><img src="'+rs+'" alt="image-20211122230850135" tabindex="0" loading="lazy"><figcaption>image-20211122230850135</figcaption></figure><figure><img src="'+is+`" alt="image-20211122231201037" tabindex="0" loading="lazy"><figcaption>image-20211122231201037</figcaption></figure><p>æŸ¥çœ‹å½“å‰Mysqlçš„éš”ç¦»çº§åˆ«ï¼š</p><ul><li>Mysql5.7: <ul><li><code>select @@tx_isolation;</code></li></ul></li><li>Mysql 8+: <ul><li><code>select @@transaction_isolation;</code></li><li><code>show variables like &#39;transaction_isolation&#39;;</code></li></ul></li></ul><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰Mysqlçš„éš”ç¦»çº§åˆ«æ˜¯(Mysql 8):</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">+</span><span class="token comment">-------------------------+</span>
<span class="token operator">|</span> @<span class="token variable">@transaction_isolation</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------+</span>
<span class="token operator">|</span> <span class="token keyword">REPEATABLE</span><span class="token operator">-</span><span class="token keyword">READ</span>         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------+</span>
<span class="token comment"># é»˜è®¤çº§åˆ«-å¯é‡å¤åº¦</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¯»æœªæäº¤-read-uncommitted" tabindex="-1"><a class="header-anchor" href="#è¯»æœªæäº¤-read-uncommitted" aria-hidden="true">#</a> è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰</h3><p>ä¸ºäº†æ¼”ç¤ºï¼Œå…ˆæŠŠå…¶ä¸­ä¸€ä¸ªæ§åˆ¶å°ï¼ˆç¬¬äºŒä¸ªæ§åˆ¶å°ï¼‰çš„éš”ç¦»çº§åˆ«æ”¹æˆè¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token keyword">SESSION</span> <span class="token keyword">TRANSACTION</span> <span class="token keyword">isolation</span> <span class="token keyword">LEVEL</span> <span class="token keyword">read</span> <span class="token keyword">uncommitted</span><span class="token punctuation">;</span>
<span class="token comment">#isolationå°±æ˜¯éš”ç¦»çš„æ„æ€</span>
<span class="token comment"># level å°±æ˜¯çº§åˆ«çš„æ„æ€</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæŸ¥çœ‹å…¶éš”ç¦»çº§åˆ«ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># ç¬¬ä¸€ä¸ªæ§åˆ¶å°ï¼š å¯é‡å¤åº¦</span>
<span class="token operator">+</span><span class="token comment">-----------------------+-----------------+</span>
<span class="token operator">|</span> Variable_name         <span class="token operator">|</span> <span class="token keyword">Value</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+-----------------+</span>
<span class="token operator">|</span> transaction_isolation <span class="token operator">|</span> <span class="token keyword">REPEATABLE</span><span class="token operator">-</span><span class="token keyword">READ</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+-----------------+</span>

<span class="token comment">#ç¬¬äºŒä¸ªæ§åˆ¶å°ï¼š è¯»æœªæäº¤</span>
<span class="token operator">+</span><span class="token comment">-----------------------+------------------+</span>
<span class="token operator">|</span> Variable_name         <span class="token operator">|</span> <span class="token keyword">Value</span>            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+------------------+</span>
<span class="token operator">|</span> transaction_isolation <span class="token operator">|</span> <span class="token keyword">READ</span><span class="token operator">-</span><span class="token keyword">UNCOMMITTED</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------+------------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éš”ç¦»çº§åˆ«æ˜¯è·Ÿäº‹åŠ¡ç›¸å…³çš„ï¼Œä¸€å®šè¦å…ˆå¯åŠ¨äº‹åŠ¡ï¼Œæ‰èƒ½è°ˆéš”ç¦»çº§åˆ«çš„é—®é¢˜ï¼Œç¦»å¼€äº‹åŠ¡å°±ä¸è¦è°ˆéš”ç¦»çº§åˆ«çš„é—®é¢˜</p><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªè¡¨</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> <span class="token keyword">table</span> db1<span class="token punctuation">;</span>
<span class="token keyword">create</span> account<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token punctuation">,</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>money <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åä¸¤ä¸ªæ§åˆ¶å°å‡å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œ</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åconsole1 å†™å…¥ä¸€ä¸ªæ•°æ®</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>insert into account values(1,&quot;å¼ ä¸‰&quot;,1000);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åä¸¤ä¸ªè¡¨åŒæ—¶æŸ¥è¯¢è¿™ä¸€ä¸ªè¡¨ï¼Œå‘ç°ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># console 1</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>

<span class="token comment"># console 2</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°±æ˜¯è„è¯»ï¼š<strong>å½“ä¸€ä¸ªäº‹åŠ¡è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡å°šæœªæäº¤çš„æ”¹å˜(å¢åˆ æ”¹)æ—¶ï¼Œäº§ç”Ÿè„è¯»</strong></p><p>ç„¶åæˆ‘å†å¾€console 1ä¸­ä¿®æ”¹ä¸‹å†…å®¹ï¼Œå†æ·»åŠ ä¸€ä¸ªæ–°çš„value</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span><span class="token number">800</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> account <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;jock&quot;</span><span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶å†æŸ¥çœ‹console2</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> jock   <span class="token operator">|</span>   <span class="token number">222</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘ç°ä»–è¿™ä¹‹ä¸­æ˜¾ç¤ºäº†console1å¯¹è¡¨æ“ä½œçš„ç»“æœ</p><p>è¿™ä¸ªæœ¬åº”è¯¥æ˜¯ä¸å­˜åœ¨çš„------</p><p>â€‹ è¿™é‡ŒæŠŠconsole 1 å«åšAï¼Œconsole 2å«åšB</p><p>â€‹ äº‹åŠ¡çš„æœ¬æ„(æ½œå°è¯)æ˜¯ï¼šè®©Båœ¨è¿›å…¥äº‹åŠ¡çš„æ—¶é—´ç‚¹ï¼Œåªå±•ç¤ºæ”¹æ—¶é—´ç‚¹æœ‰çš„å†…å®¹ï¼Œå³ï¼šä¸€ä¸ªç©ºçš„accountè¡¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡Aæ“ä½œï¼ŒBå°±èƒ½åŒæ­¥æ„ŸçŸ¥Aæ“ä½œçš„ç»“æœï¼Œè¿›è€Œå½±å“Bçš„æŸ¥è¯¢ï¼Œåªè¦Bè¿˜æ²¡æœ‰æäº¤<code>commit</code>ï¼ŒBè¯»å–åˆ°çš„å°±åº”è¯¥æ˜¯å®ƒå¼€å¯äº‹åŠ¡æ—¶SQLæ‰€æ‹¥æœ‰çš„æ•°æ®ï¼Œè€Œä¸å—åˆ°å…¶ä»–äº‹åŠ¡å¯¹SQLçš„å½±å“</p><p>â€‹ äº‹åŠ¡çš„æœ€ç†æƒ³æ•ˆæœï¼šå½“Bå¼€å¯åè¿æ¥åˆ°ACCOUNTè¡¨å¹¶å¯¹å…¶æ“ä½œæ—¶ï¼ŒBä¸ä¼šæ¥æ”¶åˆ°Aæ“ä½œå¸¦æ¥çš„å½±å“ï¼ŒBçš„æ“ä½œåŒæ—¶ä¹Ÿä¸å›å½±å“Aï¼Œä¹Ÿä¸å¸Œæœ›äº’ç›¸å½±å“åˆ°C ã€Dã€E.....çš„æ“ä½œå’Œå…¶å¸¦æ¥çš„å½±å“</p><p>å…¶å®åˆ°è¿™ä¸€æ­¥çš„æ—¶å€™ï¼Œå·²ç»å¯ä»¥å‘ç°ï¼Œè¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰å·²ç»å‡ºç°äº† è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»</p><h3 id="è¯»å·²æäº¤-read-committed" tabindex="-1"><a class="header-anchor" href="#è¯»å·²æäº¤-read-committed" aria-hidden="true">#</a> è¯»å·²æäº¤(Read committed)</h3><p>â€‹ æ¥ä¸‹æ¥å°†Aå’ŒBçš„äº‹åŠ¡éƒ½æäº¤ï¼Œç„¶åAé‡æ–°å¼€å¯ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼ŒBå°†éš”ç¦»çº§åˆ«æ”¹å˜ä¸ºè¯»å·²æäº¤(Read committed) å¹¶å¼€å¯ä¸€ä¸ªæ–°çš„äº‹åŠ¡</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># A &amp; B</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>

<span class="token comment"># A</span>
<span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span>

<span class="token comment"># B</span>
<span class="token keyword">SET</span> <span class="token keyword">SESSION</span> <span class="token keyword">TRANSACTION</span> <span class="token keyword">isolation</span> <span class="token keyword">LEVEL</span> <span class="token keyword">read</span> <span class="token keyword">committed</span><span class="token punctuation">;</span>
<span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åAæ·»åŠ ä¸€æ¡æ•°æ®ï¼ŒAã€Bå†è¿›è¡ŒæŸ¥æ‰¾è¿™ä¸ªè¡¨</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># A </span>
 <span class="token keyword">insert</span> <span class="token keyword">into</span> account <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&#39;scott&#39;</span><span class="token punctuation">,</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment"># A</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> jock   <span class="token operator">|</span>   <span class="token number">222</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> scott  <span class="token operator">|</span>  <span class="token number">8000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>

<span class="token comment"># B</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> jock   <span class="token operator">|</span>   <span class="token number">222</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°Bçš„è¡¨ä¸­å¹¶æ²¡æœ‰å‡ºç°Açš„è¡¨ä¸­æ‰€å‡ºç°çš„ç¬¬ä¸‰æ¡æ•°æ®ï¼Œå³ï¼šè¯»å·²æäº¤(Read committed)éš”ç¦»å¼€å¯åï¼Œå°†ä¸ä¼šå‡ºç°è„è¯»äº†</p><p>ç„¶åAå†ä¿®æ”¹ä¸€æ¡æ•°æ®å¹¶æäº¤ï¼ŒæŸ¥çœ‹Bæ­¤æ—¶çš„æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># A</span>
<span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> <span class="token number">1800</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>


<span class="token comment"># B</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> jock   <span class="token operator">|</span>  <span class="token number">1800</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> scott  <span class="token operator">|</span>  <span class="token number">8000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>

<span class="token comment"># B</span>

<span class="token keyword">commit</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥å‘ç° ï¼ŒBè¡¨ä¸­çš„ä¸å¯é‡å¤è¯»ï¼Œå’Œå¹»è¯»é—®é¢˜ä¾æ—§å­˜åœ¨</p><p>ç”±ä¸Šå¯çŸ¥ï¼Œåœ¨è¯»å·²æäº¤(Read committed)çº§åˆ«ä¸‹ï¼Œè„è¯»å·²ç»ä¸å¤å­˜åœ¨ï¼Œä½†æ˜¯ä¾æ—§å‡ºç°äº†ä¸å¯é‡å¤è¯»å’Œå¹»è¯»</p><h3 id="å¯é‡å¤è¯»-repeatable-read" tabindex="-1"><a class="header-anchor" href="#å¯é‡å¤è¯»-repeatable-read" aria-hidden="true">#</a> å¯é‡å¤è¯»(Repeatable read)</h3><p>æ¥ä¸‹æ¥æŠŠBæ”¹ä¸ºå¯é‡å¤è¯»(Repeatable read)å¹¶å¼€å¯æ–°çš„äº‹åŠ¡</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># A</span>
 <span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span>
 
<span class="token comment"># B </span>
<span class="token keyword">SET</span> <span class="token keyword">SESSION</span> <span class="token keyword">TRANSACTION</span> <span class="token keyword">isolation</span> <span class="token keyword">LEVEL</span> <span class="token keyword">Repeatable</span> <span class="token keyword">read</span>
<span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åAæ·»åŠ ä¸€æ¡æ•°æ® ï¼ŒBè¿›è¡Œselect</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># A</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> account <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&#39;milan&#39;</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># B</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> jock   <span class="token operator">|</span>  <span class="token number">1800</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> scott  <span class="token operator">|</span>  <span class="token number">8000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°å¹¶æœªå—Açš„å½±å“</p><p>ç„¶åAä¿®æ”¹ä¸€æ¡æ•°æ®</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># A</span>
<span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> <span class="token number">100</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment"># B</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> jock   <span class="token operator">|</span>  <span class="token number">1800</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> scott  <span class="token operator">|</span>  <span class="token number">8000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token comment"># Bä¾æ—§æ²¡æœ‰æ”¶åˆ°å½±å“</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åA commit</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># A </span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>

<span class="token comment"># B</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>  <span class="token number">1000</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> jock   <span class="token operator">|</span>  <span class="token number">1800</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> scott  <span class="token operator">|</span>  <span class="token number">8000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥å‘ç°Bæ²¡æœ‰å—åˆ°å½±å“ï¼Œçœ‹ä¸åˆ°Açš„å˜åŒ–</p><p>è¿™å°±æ˜¯å¯é‡å¤è¯»(Repeatable read)ï¼Œå®ƒå°†ä¸ä¼šå‡ºç°ä»¥ä¸Šä¸‰ç§é—®é¢˜ï¼›</p><p>å½“ç„¶ï¼Œè¿˜æœ‰æœ€åä¸€ä¸ªï¼š</p><h3 id="å¯ä¸²è¡ŒåŒ–-serializable" tabindex="-1"><a class="header-anchor" href="#å¯ä¸²è¡ŒåŒ–-serializable" aria-hidden="true">#</a> å¯ä¸²è¡ŒåŒ–(Serializable)</h3><p>â€‹ è¿™ä¸ªç»§æ‰¿äº†å¯é‡å¤è¯»(Repeatable read)çš„ä¼˜è‰¯ä¼ ç»Ÿï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªæ–°çš„ç‰¹ç‚¹ï¼šåŠ é”ï¼š</p><p>â€‹ å¦‚æœè¯´ä»–å‘ç°æœ‰ä¸€å¼ è¡¨æ­£åœ¨è¢«æ“ä½œä¸”æ²¡æœ‰è¢«æäº¤<code>commit</code>ï¼Œå®ƒä¼šå¡åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œä¸ä¼šå¯¹è¡¨è¿›è¡Œä»»ä½•å®é™…æ“ä½œï¼Œéå¸¸ç¥å¥‡</p><p>å°†Bè¡¨éš”ç¦»çº§åˆ«è®¾å®šä¸ºå¯ä¸²è¡ŒåŒ–ï¼ŒAè¡¨ä¸å˜</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># A &amp; B</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>

<span class="token comment"># B </span>
<span class="token keyword">SET</span> <span class="token keyword">SESSION</span> <span class="token keyword">TRANSACTION</span> <span class="token keyword">isolation</span> <span class="token keyword">LEVEL</span> <span class="token keyword">Serializable</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------+</span>
<span class="token operator">|</span> @<span class="token variable">@transaction_isolation</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------+</span>
<span class="token operator">|</span> <span class="token keyword">SERIALIZABLE</span>            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------+</span>

<span class="token comment"># A &amp; B</span>

<span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A æ·»åŠ å†…å®¹</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> account <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;trray&#39;</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> <span class="token number">400</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶ ï¼ŒBæŸ¥è¯¢å†…å®¹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>select * from account;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯ä»¥å‘ç°ï¼ŒBçš„ç»ˆç«¯å¡ä½äº†ï¼Œå¹¶ä¸”è¿‡äº†ä¸€ä¼šå„¿å¼¹å‡ºï¼š</p><p><code>ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction</code></p><p>é”å®šç­‰å¾…è¶…æ—¶;è¯•ç€é‡æ–°å¯åŠ¨äº‹åŠ¡ï¼›</p><p>ç„¶åæˆ‘å†æ¬¡è¿›è¡ŒæŸ¥è¯¢ï¼Œå¹¶åœ¨10sååœ¨Aä¸­commit</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># B </span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> account<span class="token punctuation">;</span>

<span class="token comment"># A ç­‰å¾…10ç§’</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>

<span class="token comment">#B</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name   <span class="token operator">|</span> money <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>   <span class="token number">400</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> jock   <span class="token operator">|</span>  <span class="token number">1800</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> scott  <span class="token operator">|</span>   <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> milan  <span class="token operator">|</span>   <span class="token number">300</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> trray  <span class="token operator">|</span>   <span class="token number">600</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">9.44</span> sec<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œå‡ ä¹æ˜¯Aä¸€æäº¤ï¼ŒBå°±å‡ºäº†ç»“æœ</p><p>è¿™å°±æ˜¯å¯ä¸²è¡ŒåŒ–(Serializable)</p><h2 id="äº‹åŠ¡éš”ç¦»çº§åˆ«-æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#äº‹åŠ¡éš”ç¦»çº§åˆ«-æŒ‡ä»¤" aria-hidden="true">#</a> äº‹åŠ¡éš”ç¦»çº§åˆ«-æŒ‡ä»¤</h2><ol><li><p>æŸ¥çœ‹å½“å‰å›è¯éš”ç¦»çº§åˆ«ï¼š</p><ul><li><p>Mysql5.7:</p><ul><li><code>select @@tx_isolation;</code></li></ul></li><li><p>Mysql 8+:</p><ol><li><code>select @@transaction_isolation;</code></li><li>\`\`show variables like &#39;transaction_isolation&#39;;\`</li></ol></li></ul></li><li><p>æŸ¥çœ‹ç³»ç»Ÿå½“å‰éš”ç¦»çº§åˆ«</p><ul><li>Mysql5.7 <ul><li><code>select @@global.tx_isolation;</code></li></ul></li><li>Mysql8+ <ul><li><code>select @@global.transaction_isolation;</code></li></ul></li></ul></li><li><p>è®¾ç½®å½“å‰å›è¯éš”ç¦»çº§åˆ«</p><ul><li><code>SET session transaction isolation LEVEL éš”ç¦»çº§åˆ«</code><ul><li>è¯»æœªæäº¤ï¼ˆ<code>Read uncommitted</code>ï¼‰</li><li>è¯»å·²æäº¤(<code>Read committed</code>)</li><li>å¯é‡å¤è¯»(<code>Repeatable read</code>)</li><li>å¯ä¸²è¡ŒåŒ–(<code>Serializable</code>)</li></ul></li></ul></li><li><p>è®¾ç½®ç³»ç»Ÿå½“å‰éš”ç¦»çº§åˆ«</p><ul><li><p><code>set global transaction isolation level éš”ç¦»çº§åˆ«</code></p></li><li><p>ä¹Ÿå¯ä»¥åœ¨<code>my.ini</code>æˆ–è€…<code>my.cfg</code>ä¸­çš„[mysqld]åŠ ä¸Šå¹¶é‡å¯mysqlæ¥è®¾ç½®å…¨å±€é»˜è®¤éš”ç¦»çº§åˆ«</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span>
...å…¶ä»–å†…å®¹
<span class="token key attr-name">transaction-isolation</span> <span class="token punctuation">=</span> <span class="token value attr-value">éš”ç¦»çº§åˆ«</span>
<span class="token comment"># æ³¨æ„ è¿™é‡Œçš„éš”ç¦»çº§åˆ«è¦é‡‡ç”¨å…¨å¤§å†™æ¨ªçº¿çš„å‘½åæ–¹å¼ï¼š</span>
<span class="token comment"># å¦‚ï¼š</span>
Read committed---&gt;  READ-COMMITTED
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å¹¶é‡å¯mysql</span>

<span class="token comment"># windows</span>
net restart mysql<span class="token punctuation">;</span>

<span class="token comment"># linux /ubuntu</span>
<span class="token function">sudo</span> <span class="token function">service</span> mysql restart<span class="token punctuation">;</span>

<span class="token comment"># docker </span>
<span class="token function">docker</span> restart mysql<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>Mysqlé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯ <code>repatable read</code>ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œæ²¡æœ‰å¿…è¦ä¿®æ”¹ï¼ˆå› ä¸ºè¯¥çº§åˆ«å¯ä»¥æ»¡è¶³ç»å¤§éƒ¨é—¨é¡¹ç›®è¦æ±‚ï¼‰</p></li></ol><h3 id="äº‹åŠ¡çš„acidç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#äº‹åŠ¡çš„acidç‰¹æ€§" aria-hidden="true">#</a> äº‹åŠ¡çš„ACIDç‰¹æ€§</h3><figure><img src="`+ks+'" alt="image-20211123004055233" tabindex="0" loading="lazy"><figcaption>image-20211123004055233</figcaption></figure><h1 id="mysqlè¡¨ç±»å‹å’Œå­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#mysqlè¡¨ç±»å‹å’Œå­˜å‚¨å¼•æ“" aria-hidden="true">#</a> Mysqlè¡¨ç±»å‹å’Œå­˜å‚¨å¼•æ“</h1><ol><li>Mysqlçš„è¡¨ç±»å‹ç”±å­˜å‚¨å¼•æ“ï¼ˆStorage Enginesï¼‰å†³å®šï¼Œä¸»è¦åŒ…æ‹¬MyISAMã€innoDBã€Memoryç­‰</li><li>Mysqlæ•°æ®è¡¨ä¸»è¦æ”¯æŒå…­ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯ï¼šCSVã€Memoryã€ARCHIVEã€MRG_MYISAMã€MYISAMã€InnoDB</li><li>è¿™å…­ç§åˆ†ä¸ºä¸¤ç±» <ul><li>äº‹åŠ¡å®‰å…¨å‹(transaction-safe)---æ”¯æŒäº‹åŠ¡ <ul><li>innoDB ç³»ç»Ÿé»˜è®¤æ˜¯è¿™ä¸ª</li></ul></li><li>éäº‹ç‰©å®‰å…¨å‹ï¼ˆnon-transaction-safeï¼‰---ä¸æ”¯æŒäº‹åŠ¡ <ul><li>CSV</li><li>Memory</li><li>ARCHIVE</li><li>MRG_MYISAM</li><li>MYISAM</li></ul></li></ul></li></ol><ul><li>æŸ¥çœ‹æ‰€æœ‰å¼•æ“ï¼š<code>show engines;</code><br><img src="'+us+'" alt="image-20211123121320164" loading="lazy"></li></ul><h2 id="å¼•æ“çš„é€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#å¼•æ“çš„é€‰æ‹©" aria-hidden="true">#</a> å¼•æ“çš„é€‰æ‹©</h2><p>ä¸€èˆ¬æƒ…å†µä¼šé€‰æ‹©çš„</p><figure><img src="'+ds+'" alt="image-20211123121826094" tabindex="0" loading="lazy"><figcaption>image-20211123121826094</figcaption></figure><figure><img src="'+ms+'" alt="image-20211123122055639" tabindex="0" loading="lazy"><figcaption>image-20211123122055639</figcaption></figure><figure><img src="'+vs+'" alt="image-20211123122248185" tabindex="0" loading="lazy"><figcaption>image-20211123122248185</figcaption></figure><figure><img src="'+bs+`" alt="image-20211123132241153" tabindex="0" loading="lazy"><figcaption>image-20211123132241153</figcaption></figure><h2 id="å¼•æ“ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å¼•æ“ä½¿ç”¨" aria-hidden="true">#</a> å¼•æ“ä½¿ç”¨</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># é»˜è®¤å°±æ˜¯innodbï¼Œè¿™é‡Œä¸åšæ¼”ç¤º</span>


<span class="token comment"># åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œå¼•æ“ä¸ºmyisam</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> test_engine01<span class="token punctuation">(</span>
 id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span> myisam<span class="token punctuation">;</span>
<span class="token comment">-- æ·»åŠ é€Ÿåº¦å¿«ï¼Œä¸æ”¯æŒå¤–é”®å’Œäº‹åŠ¡ï¼Œæ”¯æŒè¡¨é”</span>

<span class="token comment"># memoryå¼•æ“</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> test_engine01<span class="token punctuation">(</span>
 id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span> memory<span class="token punctuation">;</span>
<span class="token comment"># æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ˆå…³é—­æˆ–é‡å¯mysqlä¼šå¯¼è‡´æ‰€æœ‰æ•°æ®ä¸¢å¤±ï¼‰</span>
<span class="token comment"># æ‰§è¡Œé€Ÿåº¦å¾ˆå¿«ï¼ˆæ²¡æœ‰ioè¯»å†™ï¼‰</span>
<span class="token comment"># é»˜è®¤æ”¯æŒç´¢å¼•ï¼ˆhash tableï¼‰</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¿®æ”¹å­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹å­˜å‚¨å¼•æ“" aria-hidden="true">#</a> ä¿®æ”¹å­˜å‚¨å¼•æ“</h2><p>è¯­æ³•ï¼š<code>alter table è¡¨å engine = å­˜å‚¨å¼•æ“</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># ä¿®æ”¹å‰å¾—ç¡®å®šè¡¨æ˜¯å¦ç¬¦åˆè¦è½¬åˆ°çš„å¼•æ“çš„è§„å®š</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">engine</span> <span class="token operator">=</span> myisam<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="è§†å›¾-view" tabindex="-1"><a class="header-anchor" href="#è§†å›¾-view" aria-hidden="true">#</a> è§†å›¾(View)</h1><ul><li>å…ˆçœ‹ä¸€ä¸ªéœ€æ±‚ï¼šempè¡¨çš„åˆ—(å­—æ®µ)ä¿¡æ¯å¾ˆå¤šï¼Œæœ‰äº›ä¿¡æ¯æ˜¯ä¸ªäººé‡è¦ä¿¡æ¯ï¼Œæ¯”å¦‚salã€commã€mgrã€hiredate<br><img src="`+ys+'" alt="image-20211123132622996" loading="lazy"></li><li>å¦‚æœæˆ‘ä»¬å¸Œæœ›<strong>æŸä¸ªç”¨æˆ·åªèƒ½æŸ¥è¯¢</strong>empè¡¨çš„ empnoã€ enameã€jobå’Œdeptnoä¿¡æ¯</li><li>è¿™ä¸ªæ—¶å€™æœ‰å¾ˆå¤šæ–¹æ¡ˆï¼Œä½†æ˜¯æœ€å¥½ç”¨çš„å¤§æ¦‚å°±æ˜¯è§†å›¾äº†</li></ul><p>è§†å›¾çš„åŸºæœ¬æ¦‚å¿µï¼š</p><ol><li>è§†å›¾æ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨ã€‚å…¶å†…å®¹ç”±æŸ¥è¯¢å®šä¹‰ã€‚å’ŒçœŸå®çš„è¡¨ä¸€æ ·ï¼Œè§†å›¾åŒ…å«åˆ—(å­—æ®µ)ï¼Œ<strong>å…¶æ•°æ®æ¥æºå¯¹åº”çœŸå®çš„è¡¨</strong>(åŸºè¡¨)</li><li>è§†å›¾å’ŒåŸºè¡¨çš„å…³ç³»ç¤ºæ„å›¾<br><img src="'+gs+`" alt="image-20211123133743001" loading="lazy"></li></ol><h2 id="è§†å›¾çš„åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#è§†å›¾çš„åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> è§†å›¾çš„åŸºæœ¬ä½¿ç”¨</h2><ol><li>åˆ›å»º<code>create view è§†å›¾å as selectè¯­å¥</code></li><li>ä¿®æ”¹(æ›´æ–°è§†å›¾) <code>alter view è§†å›¾å as selectè¯­å¥</code></li><li>æ˜¾ç¤ºè§†å›¾çš„ç»“æ„<code>show create view è§†å›¾å</code></li><li>åˆ é™¤è§†å›¾ <code>drop view è§†å›¾å1,è§†å›¾å2...</code></li></ol><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># è§†å›¾çš„å¢åˆ æ”¹æŸ¥</span>
<span class="token comment"># åªæŸ¥è¯¢empè¡¨çš„ empnoã€ enameã€jobå’Œdeptnoä¿¡æ¯</span>
<span class="token comment"># åˆ›å»º</span>
<span class="token keyword">create</span> <span class="token keyword">view</span> emp_view01 <span class="token keyword">as</span> <span class="token keyword">select</span> empno<span class="token punctuation">,</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment"># æŸ¥çœ‹ç»“æ„</span>
<span class="token keyword">desc</span> emp_view01<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>               <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>        <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span>         <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> job    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>         <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span>         <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> deptno <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------------------+------+-----+---------+-------+</span>

<span class="token comment"># æŸ¥</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp_view01 <span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+--------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+--------+</span>
<span class="token operator">|</span> <span class="token number">100007</span> <span class="token operator">|</span> ofLpoA <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>    <span class="token number">360</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">100008</span> <span class="token operator">|</span> ZSoQnR <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>    <span class="token number">213</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">100009</span> <span class="token operator">|</span> BwDASN <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>    <span class="token number">132</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">100010</span> <span class="token operator">|</span> WWRuxd <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>     <span class="token number">15</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">100011</span> <span class="token operator">|</span> RipbkV <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>    <span class="token number">488</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+--------+</span>

<span class="token comment"># æŸ¥çœ‹åˆ›å»ºè§†å›¾æ—¶çš„æŒ‡ä»¤ï¼š</span>
<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">view</span> emp_view01<span class="token punctuation">;</span>

<span class="token comment"># åˆ é™¤è§†å›¾</span>
<span class="token keyword">drop</span> <span class="token keyword">view</span> emp_view01<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è§†å›¾çš„ä½¿ç”¨ç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#è§†å›¾çš„ä½¿ç”¨ç»†èŠ‚" aria-hidden="true">#</a> è§†å›¾çš„ä½¿ç”¨ç»†èŠ‚</h2><figure><img src="`+ws+'" alt="image-20211123135455381" tabindex="0" loading="lazy"><figcaption>image-20211123135455381</figcaption></figure><figure><img src="'+hs+`" alt="image-20211123140408719" tabindex="0" loading="lazy"><figcaption>image-20211123140408719</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># è§†å›¾1å·</span>
<span class="token keyword">desc</span> emp_view01<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>               <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------------------+------+-----+---------+-------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>        <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span>         <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> job    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>         <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span>         <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">|</span> deptno <span class="token operator">|</span> <span class="token keyword">mediumint</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------------------+------+-----+---------+-------+</span>

<span class="token comment"># æŠŠä»–çš„empnoå’Œenameåšæˆæ–°çš„è§†å›¾</span>
<span class="token keyword">create</span> <span class="token keyword">view</span> emp_view02 <span class="token keyword">as</span> <span class="token keyword">select</span> empno<span class="token punctuation">,</span>ename <span class="token keyword">from</span> emp_view01<span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp_view02 <span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> ename  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+</span>
<span class="token operator">|</span> <span class="token number">100007</span> <span class="token operator">|</span> ofLpoA <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">100008</span> <span class="token operator">|</span> ZSoQnR <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">100009</span> <span class="token operator">|</span> BwDASN <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">100010</span> <span class="token operator">|</span> WWRuxd <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">100011</span> <span class="token operator">|</span> RipbkV <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+</span>


<span class="token comment"># ä¿®æ”¹view02 å°±ç›¸å½“äºæ›´è¯¥åŸºè¡¨emp;</span>

<span class="token keyword">update</span>  emp_view02 <span class="token keyword">set</span> ename <span class="token operator">=</span><span class="token string">&quot;å¼ ä¸‰&quot;</span> <span class="token keyword">where</span> empno<span class="token operator">=</span><span class="token number">100007</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp_view02 <span class="token keyword">where</span> empno <span class="token operator">=</span> <span class="token number">100007</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> ename  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+</span>
<span class="token operator">|</span> <span class="token number">100007</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp_view01 <span class="token keyword">where</span> empno <span class="token operator">=</span> <span class="token number">100007</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+--------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+--------+</span>
<span class="token operator">|</span> <span class="token number">100007</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>    <span class="token number">360</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+--------+</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> empno <span class="token operator">=</span> <span class="token number">100007</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token operator">|</span> empno  <span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> mgr <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm   <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
<span class="token operator">|</span> <span class="token number">100007</span> <span class="token operator">|</span> å¼ ä¸‰   <span class="token operator">|</span> SALESMAN <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">2000.00</span> <span class="token operator">|</span> <span class="token number">400.00</span> <span class="token operator">|</span>    <span class="token number">360</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+----------+-----+------------+---------+--------+--------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="mysqlç®¡ç†-ç”¨æˆ·ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#mysqlç®¡ç†-ç”¨æˆ·ç®¡ç†" aria-hidden="true">#</a> Mysqlç®¡ç†-ç”¨æˆ·ç®¡ç†</h1><p>mysqlä¸­çš„ç”¨æˆ·ï¼Œéƒ½å­˜å‚¨åœ¨ç³»ç»Ÿæ•°æ®åº“mysqlä¸­çš„userè¡¨ä¸­</p><figure><img src="`+qs+'" alt="image-20211123140910846" tabindex="0" loading="lazy"><figcaption>image-20211123140910846</figcaption></figure><p>å…¶ä¸­userè¡¨çš„é‡è¦å­—æ®µè¯´æ˜ï¼š</p><ol><li><code>host</code>ï¼š è¿è¡Œç™»é™†çš„ä½ç½®ï¼Œlocalhostè¡¨ç¤ºæœ¬æœºï¼Œä¹Ÿå¯ä»¥æŒ‡å®šIpåœ°å€ï¼Œæ¯”å¦‚ï¼š172.17.0.1ï¼Œ115.15.15.15....</li><li><code>user</code>ï¼šç”¨æˆ·å</li><li><code>authentication_string</code>å¯†ç  <ul><li>Mysql8å‰ï¼Œæ˜¯é€šè¿‡Mysqlçš„password()å‡½æ•°åŠ å¯†ä¹‹åçš„å¯†ç ï¼ˆmysql_native_passwordï¼‰</li><li>Mysql8åï¼Œå¯ä»¥é€šè¿‡caching_sha2_passwordåŠ å¯†å¯†ç  <ul><li>å½“ç„¶ï¼Œé»˜è®¤è¿˜æ˜¯(mysql_native_password)åŠ å¯†å¯†ç </li></ul></li><li>å¯†ç å­—æ®µå·¦è¾¹ä¼šæ˜¾ç¤ºå¯†ç çš„åŠ å¯†æ–¹å¼<br><img src="'+fs+`" alt="image-20211123143351050" loading="lazy"></li></ul></li></ol><h2 id="åˆ›å»ºã€åˆ é™¤ç”¨æˆ·" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºã€åˆ é™¤ç”¨æˆ·" aria-hidden="true">#</a> åˆ›å»ºã€åˆ é™¤ç”¨æˆ·</h2><p>å¦‚æœåˆ›å»ºçš„æ—¶å€™æ²¡æœ‰æŒ‡å®šhostï¼Œåˆ™é»˜è®¤ä¸º%:åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ç™»é™†</p><p><code>create user xxx</code>;</p><p>æŒ‡å®šhostï¼š<code>create user &#39;xxx&#39;@xxx</code></p><ul><li>hostæŒ‡å®šæ–¹å¼ï¼š <ul><li><code>%</code> :æ‰€æœ‰åœ°æ–¹</li><li><code>127.0.0.5</code> ç‰¹å®šåœ°æ–¹</li><li><code>192.168.1.%</code> 192.168.1ä¸‹çš„æ‰€æœ‰åœ°å€éƒ½å¯é“¾æ¥</li><li><code>255.255.%.%</code> 255.255ä¸‹çš„æ‰€æœ‰åœ°å€éƒ½å¯è¿æ¥</li></ul></li></ul><p>åœ¨åˆ é™¤ç”¨æˆ·çš„æ—¶å€™ï¼Œå¦‚æœhostä¸æ˜¯%ï¼Œåˆ™å¿…é¡»è¦æ˜ç¡®æŒ‡å®š<code>ç”¨æˆ·å@ç™»å½•ä½ç½®</code></p><p><code>drop user jack</code> ç­‰ä»·äº<code>drop user &#39;jack&#39;@&#39;%&#39;</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># åˆ›å»ºç”¨æˆ·</span>

<span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token identifier"><span class="token punctuation">\`</span>ç”¨æˆ·å<span class="token punctuation">\`</span></span><span class="token variable">@\`å…è®¸ç™»é™†ä½ç½®\`</span> identified <span class="token keyword">by</span> <span class="token string">&#39;å¯†ç &#39;</span><span class="token punctuation">;</span>

<span class="token comment"># åˆ›å»ºç”¨æˆ· åŒæ—¶æŒ‡å®šå¯†ç  æ³¨æ„ \`\` è¿™ä¸ªç»å¯¹ä¸èƒ½çœç•¥ ä½†æ˜¯å¯ä»¥æ›¿æ¢æˆ&#39;&#39;</span>
<span class="token comment"># å¹¶ä¸” ç”¨æˆ·å@å¯†ç  @å‰åä¸èƒ½æœ‰ç©ºæ ¼</span>

<span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;mycom&#39;</span><span class="token variable">@&#39;localhost&#39;</span>  identified <span class="token keyword">by</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span>


<span class="token comment"># åˆ é™¤ç”¨æˆ·</span>
<span class="token keyword">drop</span> <span class="token keyword">user</span> <span class="token identifier"><span class="token punctuation">\`</span>ç”¨æˆ·å<span class="token punctuation">\`</span></span><span class="token variable">@\`å…è®¸ç™»å½•ä½ç½®\`</span><span class="token punctuation">;</span>

<span class="token comment"># åˆ é™¤çš„æ—¶å€™åŠ ä¸åŠ å¼•å·éƒ½å¯ä»¥ ä½†æ˜¯å»ºè®®åŠ ä¸Š</span>
<span class="token keyword">drop</span> <span class="token keyword">user</span> mycom<span class="token variable">@localhost</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç™»é™†ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql <span class="token parameter variable">-u</span> mycom -p123456<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ä¿®æ”¹å¯†ç " tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹å¯†ç " aria-hidden="true">#</a> ä¿®æ”¹å¯†ç </h2><p>Mysql5.7</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> mysql<span class="token punctuation">;</span>
<span class="token comment"># ä¿®æ”¹è‡ªå·±çš„å¯†ç </span>
<span class="token keyword">set</span> password <span class="token operator">=</span> password<span class="token punctuation">(</span><span class="token string">&#39;æ–°å¯†ç &#39;</span><span class="token punctuation">)</span>ï¼›

<span class="token comment">#ä¿®æ”¹ä»–äººçš„å¯†ç </span>
<span class="token keyword">set</span> password <span class="token keyword">for</span> <span class="token string">&#39;ç”¨æˆ·å&#39;</span><span class="token variable">@&#39;ç™»å½•ä½ç½®&#39;</span> <span class="token operator">=</span> password<span class="token punctuation">(</span><span class="token string">&#39;æ–°å¯†ç &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># ä¿®æ”¹å®Œå¯†ç åéœ€è¦åˆ·æ–°æƒé™</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mysql8+</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;ç”¨æˆ·å&#39;</span><span class="token variable">@&#39;ç™»é™†ä½ç½®&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> MYSQL_NATIVE_PASSWORD <span class="token keyword">BY</span> <span class="token string">&#39;æ–°å¯†ç &#39;</span><span class="token punctuation">;</span>
<span class="token comment"># MYSQL_NATIVE_PASSWORD æ˜¯å¯†ç æ ¡éªŒè§„åˆ™ ä¸å¯çœç•¥</span>
<span class="token comment"># å¯ä»¥æ›¿æ¢æˆ caching_sha2_password</span>

<span class="token comment"># ä¾‹å¦‚ï¼š</span>
<span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">&#39;mycom&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> caching_sha2_password <span class="token keyword">BY</span> <span class="token string">&#39;1234&#39;</span><span class="token punctuation">;</span>

<span class="token comment"># ä¿®æ”¹å®Œå¯†ç åéœ€è¦åˆ·æ–°æƒé™</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç”¨æˆ·æƒé™" tabindex="-1"><a class="header-anchor" href="#ç”¨æˆ·æƒé™" aria-hidden="true">#</a> ç”¨æˆ·æƒé™</h2><p>åœ¨ç™»é™†åˆ°mycomç”¨æˆ·åï¼ŒæŸ¥çœ‹æ•°æ®åº“ï¼Œå‘ç°äº†å¦‚ä¸‹ä¿¡æ¯</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token keyword">Database</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> information_schema <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+Es+'" alt="image-20211123144656109" tabindex="0" loading="lazy"><figcaption>image-20211123144656109</figcaption></figure><p>Mysqlçš„æƒé™å¤§æ¦‚æœ‰è¿™äº›ï¼š</p><figure><img src="'+Ls+`" alt="image-20211123145819580" tabindex="0" loading="lazy"><figcaption>image-20211123145819580</figcaption></figure><h3 id="ç»™ç”¨æˆ·æˆæƒã€å›æ”¶æƒé™" tabindex="-1"><a class="header-anchor" href="#ç»™ç”¨æˆ·æˆæƒã€å›æ”¶æƒé™" aria-hidden="true">#</a> ç»™ç”¨æˆ·æˆæƒã€å›æ”¶æƒé™</h3><h4 id="æˆæƒ" tabindex="-1"><a class="header-anchor" href="#æˆæƒ" aria-hidden="true">#</a> æˆæƒ</h4><p>è¯­æ³•ï¼š<code>grant æƒé™å¯¹è±¡ on åº“.å¯¹è±¡å to &#39;ç”¨æˆ·å&#39;@&#39;ç™»å½•ä½ç½®&#39;</code></p><p>åœ¨mysql5.7ä¸­åœ¨æˆæƒæ—¶å¯ä»¥ä¿®æ”¹å¯†ç :</p><p><code>grant æƒé™å¯¹è±¡ on åº“.å¯¹è±¡å to &#39;ç”¨æˆ·å&#39;@&#39;ç™»å½•ä½ç½®&#39; [identified by &#39;å¯†ç &#39;]</code></p><ul><li>identified byå¯ä»¥çœç•¥å°±æ˜¯ä¿®æ”¹ç”¨æˆ·å¯†ç  <ul><li>å¦‚æœè¯¥ç”¨æˆ·å­˜åœ¨ï¼Œå°±ä¿®æ”¹ç”¨æˆ·çš„å¯†ç </li><li>å¦‚æœç”¨æˆ·ä¸å­˜åœ¨ï¼Œå°±åˆ›å»ºè¯¥ç”¨æˆ·</li></ul></li><li>åœ¨mysql8ä¹‹å‰åº”è¯¥éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œmysql8åä¸å…è®¸è¿™æ ·ï¼Œæˆæƒï¼Œåˆ›å»ºç”¨æˆ·ï¼Œç»™ç”¨æˆ·ä¿®æ”¹å¯†ç æ˜¯ä¸‰æ¡£äº‹æƒ…</li></ul><p><code>æƒé™åˆ—è¡¨</code>ï¼Œå¤šä¸ªæƒé™ç”¨é€—å·åˆ†å¼€</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">grant</span> <span class="token keyword">select</span> <span class="token keyword">on</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">grant</span> <span class="token keyword">select</span><span class="token punctuation">,</span><span class="token keyword">delete</span><span class="token punctuation">,</span><span class="token keyword">create</span> <span class="token keyword">on</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">#èµ‹äºˆç”¨æˆ·åœ¨è¯¥å¯¹è±¡ä¸Šçš„æ‰€æœ‰æƒé™ï¼Œall privileges  å¿…é¡»ä¸€å—ä½¿ç”¨ ä¸èƒ½å•ç‹¬ all on æˆ–è€… privileges  on</span>
<span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span>  <span class="token keyword">on</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>åº“.å¯¹è±¡å</code>çš„ç‰¹åˆ«è¯´æ˜</p><ul><li><code>*.*</code> ï¼šä»£è¡¨æœ¬ç³»ç»Ÿä¸­æ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰å¯¹è±¡ï¼ˆè¡¨ï¼Œè§†å›¾ï¼Œå­˜å‚¨è¿‡ç¨‹ç­‰ï¼‰</li><li><code>åº“å.*</code> ï¼šè¡¨ç¤ºæŸä¸ªæ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®å¯¹è±¡ï¼ˆè¡¨ï¼Œè§†å›¾ï¼Œå­˜å‚¨è¿‡ç¨‹ç­‰ï¼‰</li><li><code>åº“å.å¯¹è±¡å</code>: è¡¨ç¤ºæŸä¸ªæ•°æ®åº“ä¸­çš„å•ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡åå¯ä»¥æ˜¯è¡¨ï¼Œè§†å›¾ï¼Œå­˜å‚¨è¿‡ç¨‹ç­‰ ï¼Œä¸€èˆ¬éƒ½æ˜¯è¡¨å</li></ul><p>æˆæƒå®Œæ¯•å¦‚æœæ²¡æœ‰ç”Ÿæ•ˆçš„è¯ï¼šåˆ·æ–°æƒé™<code>flush privileges;</code></p><h4 id="å›æ”¶æƒé™" tabindex="-1"><a class="header-anchor" href="#å›æ”¶æƒé™" aria-hidden="true">#</a> å›æ”¶æƒé™</h4><p>åŸºæœ¬è¯­æ³•: <code>revoke æƒé™åˆ—è¡¨ on åº“.å¯¹è±¡å from &#39;ç”¨æˆ·å&#39;@&#39;ç™»å½•ä½ç½®&#39;</code></p><p>ä¹Ÿå¯ä»¥ï¼š<code>revoke all on åº“.å¯¹è±¡å from &#39;ç”¨æˆ·å&#39;@&#39;ç™»å½•ä½ç½®&#39;</code> ç›´æ¥å›æ”¶æŸä¸ªç”¨æˆ·çš„æ‰€æœ‰æƒé™</p><p>æ’¤é”€æˆæƒåå¦‚æœæ²¡æœ‰ç”Ÿæ•ˆçš„è¯ï¼šåˆ·æ–°æƒé™<code>flush privileges;</code></p><figure><img src="`+Ss+`" alt="image-20211123152210307" tabindex="0" loading="lazy"><figcaption>image-20211123152210307</figcaption></figure><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># mysql8.0.1 ROOT USER</span>
<span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;a&#39;</span><span class="token variable">@&#39;localhost&#39;</span>  identified <span class="token keyword">by</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> testdb<span class="token punctuation">;</span>
<span class="token keyword">use</span> testdb<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> news<span class="token punctuation">(</span>
 id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">Auto_increment</span><span class="token punctuation">,</span>
    author <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    title <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    body <span class="token keyword">text</span>
<span class="token punctuation">)</span><span class="token keyword">Auto_increment</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">;</span>

<span class="token comment">#æˆæƒ</span>
<span class="token keyword">grant</span> <span class="token keyword">insert</span><span class="token punctuation">,</span><span class="token keyword">select</span><span class="token punctuation">,</span><span class="token keyword">update</span><span class="token punctuation">,</span><span class="token keyword">delete</span> <span class="token keyword">on</span> testdb<span class="token punctuation">.</span>news <span class="token keyword">to</span> <span class="token string">&#39;a&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>

<span class="token comment">#ä¿®æ”¹å¯†ç </span>
<span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;a&#39;</span><span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> MYSQL_NATIVE_PASSWORD <span class="token keyword">BY</span> <span class="token string">&#39;12345&#39;</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åç”¨æˆ·ç™»é™†</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql <span class="token parameter variable">-ua</span> - p <span class="token number">12345</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿›å…¥åå¢åˆ æ”¹æŸ¥æ•°æ®</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token keyword">Database</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> information_schema <span class="token operator">|</span>
<span class="token operator">|</span> testdb             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token keyword">use</span> testdb<span class="token punctuation">;</span>

<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>
<span class="token operator">|</span> Tables_in_testdb <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>
<span class="token operator">|</span> news             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------------+</span>

<span class="token comment">## æ·»åŠ æ•°æ®</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> news<span class="token punctuation">(</span>author<span class="token punctuation">,</span>title<span class="token punctuation">,</span>body<span class="token punctuation">)</span> <span class="token keyword">values</span>
 <span class="token punctuation">(</span><span class="token string">&quot;å‘¨æ ‘äºº&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ç‹‚äººæ—¥è®°&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;æŸå›æ˜†ä»²ï¼Œä»Šéšå…¶åï¼Œçš†ä½™æ˜”æ—¥åœ¨ä¸­å­¦æ—¶è‰¯å‹ï¼›åˆ†éš”å¤šå¹´ï¼Œæ¶ˆæ¯æ¸é˜™ã€‚æ—¥å‰å¶é—»å…¶ä¸€å¤§ç—…...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token string">&quot;é²è¿…&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å½·å¾¨&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å¯‚å¯æ–°æ–‡è‹‘ï¼Œå¹³å®‰æ—§æˆ˜åœºï¼Œä¸¤é—´ä½™ä¸€å’ï¼Œè·æˆŸç‹¬å½·å¾¨ã€‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment"># ä¿®æ”¹æ•°æ®</span>
<span class="token keyword">update</span> news <span class="token keyword">set</span> body <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span> <span class="token keyword">where</span> author <span class="token operator">=</span><span class="token string">&quot;å‘¨æ ‘äºº&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> news <span class="token keyword">set</span> body <span class="token operator">=</span> <span class="token string">&quot;456&quot;</span> <span class="token keyword">where</span> author <span class="token operator">=</span><span class="token string">&quot;é²è¿…&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> news<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+-----------+--------------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> author    <span class="token operator">|</span> title        <span class="token operator">|</span> body <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+--------------+------+</span>
<span class="token operator">|</span> <span class="token number">1001</span> <span class="token operator">|</span> å‘¨æ ‘äºº    <span class="token operator">|</span> ç‹‚äººæ—¥è®°     <span class="token operator">|</span> <span class="token number">123</span>  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1002</span> <span class="token operator">|</span> é²è¿…      <span class="token operator">|</span> å½·å¾¨         <span class="token operator">|</span> <span class="token number">456</span>  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-----------+--------------+------+</span>

<span class="token comment"># åˆ é™¤</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> news <span class="token keyword">where</span> author <span class="token operator">=</span><span class="token string">&quot;å‘¨æ ‘äºº&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> news<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+--------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> author <span class="token operator">|</span> title  <span class="token operator">|</span> body <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+--------+------+</span>
<span class="token operator">|</span> <span class="token number">1002</span> <span class="token operator">|</span> é²è¿…   <span class="token operator">|</span> å½·å¾¨   <span class="token operator">|</span> <span class="token number">456</span>  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+--------+------+</span>

<span class="token comment"># è§†å›¾åˆ›å»ºè¡¨</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> tt<span class="token punctuation">(</span>id <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#ERROR 1142 (42000): CREATE command denied to user &#39;a&#39;@&#39;localhost&#39; for table &#39;tt&#39;</span>

<span class="token comment"># é€€å‡º</span>
<span class="token keyword">exit</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨rootç”¨æˆ·åˆ é™¤è¯¥ç”¨æˆ·;</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">## ROOT </span>
<span class="token comment"># å…ˆå–æ¶ˆæˆæƒ</span>
<span class="token keyword">revoke</span> <span class="token keyword">all</span> <span class="token keyword">on</span> testdb<span class="token punctuation">.</span>news <span class="token keyword">from</span> <span class="token string">&#39;a&#39;</span><span class="token variable">@&#39;localhost&#39;</span>ï¼›

<span class="token comment"># å†åˆ é™¤ç”¨æˆ·</span>
<span class="token keyword">drop</span> <span class="token keyword">user</span> <span class="token identifier"><span class="token punctuation">\`</span>a<span class="token punctuation">\`</span></span><span class="token variable">@\`localhost\`</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è‡ªæ­¤ï¼ŒMysqlåˆçº§éƒ¨åˆ†å°±è¿‡å®Œäº†ï¼ŒMysqlå®é™…ä¸Šè¿˜æœ‰å¤æ‚çš„ä¸œè¥¿ï¼Œä»¥åæœ‰æœºä¼šçš„è¯å»äº†è§£ä¸‹;</p>`,228);function on(tn,ln){const a=t("ExternalLinkIcon");return l(),c("div",null,[Ns,n("p",null,[s("Windowsä¸‹çš„å®‰è£…æ•™ç¨‹å¯ä»¥ç›´æ¥å»çœ‹"),n("a",_s,[s("è€éŸ©çš„è§†é¢‘"),e(a)]),s("ï¼Œè®²çš„æ¯”è¾ƒç»†ï¼Œæ ¹æ®ä»–çš„æ“ä½œä¸‹æ¥èµ°ä¸€éå°±å¯ä»¥ä½¿ç”¨äº†ï¼ŒMysqlçš„"),n("a",xs,[s("ä¸‹è½½åœ°å€"),e(a)]),s("ï¼Œæ ¹æ®ä»–çš„è§†é¢‘ä¸‹æ¥æ“ä½œä¸€éå³å¯")]),Rs,n("ol",null,[n("li",null,[n("p",null,[n("a",Ms,[s("ä¸‹è½½"),e(a)]),s("åˆ°åŒ…ï¼Œå¹¶è§£å‹")])]),Ts]),Is,n("p",null,[n("a",Cs,[s("https://www.cnblogs.com/zhaosq/p/10469848.html"),e(a)])]),n("p",null,[n("a",Os,[s("https://blog.csdn.net/weixin_29348211/article/details/113163856"),e(a)])]),Us,n("p",null,[s("è¯¦ç»†çš„é…ç½®å¤–ç½‘è¿æ¥å¯ä»¥çœ‹"),n("a",Js,[s("è¿™ç¯‡æ–‡ç« "),e(a)]),s("ï¼Œå°¤å…¶æ˜¯å…¶è¯„è®ºåŒº")]),Ds,n("p",null,[s("å…ˆé€šè¿‡"),n("a",Ks,[s("è¿™ç¯‡æ–‡ç« 1"),e(a)]),s("çš„æ“ä½œèµ°ä¸€éåˆ é™¤ï¼Œå†é€šè¿‡"),n("a",Bs,[s("è¿™ç¯‡æ–‡ç« 2"),e(a)]),s("çš„æ“ä½œèµ°ä¸€éåˆ é™¤ï¼Œç„¶åå›åˆ°æ–‡ç« 1è¿›è¡Œå®‰è£…")]),Gs,n("p",null,[n("a",js,[s("NaviCat"),e(a)]),s("åº”è¯¥æ˜¯ç›®å‰ä¸ºæ­¢æœ€å¥½çš„Mysqlç®¡ç†è½¯ä»¶ï¼Œè™½ç„¶è´µï¼Œä½†æ˜¯è¶…å¥½ç”¨")]),n("p",null,[s("å½“ç„¶ï¼Œè´´å¿ƒçš„"),n("a",zs,[s("é“¾æ¥"),e(a)]),s("ä¹Ÿæ˜¯ä¸å¯å°‘çš„")]),n("p",null,[n("a",Hs,[s("SQlyog"),e(a)]),s("ä¹Ÿä¸é”™ï¼Œç¤¾åŒºç‰ˆæœ¬å…è´¹è¯•ç”¨")]),Ys,n("p",null,[s("....ç„¶åè¿™å¤ªåŸºç¡€çš„åœ°æ–¹ï¼ˆå›¾å½¢åŒ–åˆ›å»ºdbï¼Œå›¾å½¢åŒ–åˆ›å»ºtableï¼Œå›¾å½¢åŒ–insertæ•°æ®ï¼‰å°±ä¸è¿‡å¤šèµ˜è¿°äº†ï¼Œå¯ä»¥å»"),n("a",Fs,[s("è€éŸ©çš„è§†é¢‘"),e(a)]),s("çœ‹çœ‹ï¼Œæˆ‘é€‰æ‹©æ€§æ’°å†™ï¼Œä»–çš„è§†é¢‘ä¸­è§†é¢‘çš„æ˜¯SqlYog")]),Vs,n("p",null,[s("å®ƒä»¬ä¸‰è€…æ›´è¯¦ç»†çš„è¯´æ˜å¯ä»¥çœ‹"),n("a",Ps,[s("è¿™é‡Œ"),e(a)])]),Ws,n("p",null,[n("a",Qs,[s("è¿ç®—ç¬¦é“¾æ¥"),e(a)]),s("ï¼Œ"),n("a",Xs,[s("æ­£åˆ™è¡¨è¾¾å¼é“¾æ¥"),e(a)]),s("ï¼Œ"),n("a",$s,[s("Likeæ¨¡ç³ŠåŒ¹é…é“¾æ¥"),e(a)])]),Zs,n("p",null,[s("è¡¥å……ï¼š"),n("a",sn,[s("mysqlåŠ å¯†æ•°æ®çš„å‡ ç§æ–¹æ³•"),e(a)]),s("ã€"),n("a",nn,[s("mysql8æ›´è¯¥çš„ç”¨æˆ·ä¿¡æ¯åŠ å¯†æ–¹å¼"),e(a)])]),an,n("p",null,[s("å…ˆæŒ‰ç…§"),n("a",en,[s("è¿™ä¸ªæ•™ç¨‹"),e(a)]),s("åˆ›å»ºä¸€ä¸ªæµ·é‡è¡¨")]),pn])}const kn=o(As,[["render",on],["__file","21-MySql.html.vue"]]);export{kn as default};
